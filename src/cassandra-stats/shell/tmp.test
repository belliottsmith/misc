~/git/cassandra ~/git/misc/src/cassandra-stats/shell
commit 0956a8a717781c8a748931f04a18a215d7d53869
Merge: 3e305f8 0e83100
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Fri Sep 19 18:26:23 2014 +0100

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/compaction/CompactionManager.java
    	src/java/org/apache/cassandra/db/compaction/CompactionTask.java

commit 0e831007760bffced8687f51b99525b650d7e193
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Fri Sep 19 18:17:19 2014 +0100

    Fix resource leak in event of corrupt sstable
    
    patch by benedict; review by yukim for CASSANDRA-7932

 .../apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e305f80980952b0fb9241e97c75728ca55b25be
Merge: bcec4ea c5c0585
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Fri Sep 19 11:25:43 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit c5c0585b4b5a1bad22ced00e01cc90eed8448ce7
Author: blerer <b_lerer@hotmail.com>
Date:   Fri Sep 19 11:24:24 2014 -0500

    Validate token() args are in partition key order
    
    Patch by Benjamin Lerer; reviewed by Tyler Hobbs for CASSANDRA-6075

 .../cql3/SelectWithTokenFunctionTest.java          | 55 ++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit d57890ca6112872524e6f830815549e179d0157d
Merge: 6748083 5ba1f80
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Sep 17 22:58:44 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit 5ba1f80a2509e8301bcda3502f9757ca1bbfda55
Author: Nate McCall <zznate@gmail.com>
Date:   Wed Sep 17 22:57:44 2014 -0700

    Provide visibility into prepared statements churn
    
    patch by Nate McCall; reviewed by Aleksey Yeschenko for CASSANDRA-7921

 test/unit/org/apache/cassandra/metrics/CQLMetricsTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 065cd67ab2fcac348e1b1a48bc22aa3ae3a4adfa
Merge: a8285fe 8026163
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Sep 17 22:35:27 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit 8026163decf3af2a0984b387acc01cfdfe44c926
Merge: ad89d44 85aa794
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Sep 17 22:34:19 2014 -0700

    Merge branch cassandra-2.0 into cassandra-2.1

commit 85aa794e1f7ff4323a6dde0b088e0cb9e1dd3f21
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Sep 16 16:33:44 2014 -0700

    Fix RowIndexEntry to report correct serializedSize
    patch by Pavel Yaskevich; reviewed by Aleksey Yeschenko for CASSANDRA-7948

 .../org/apache/cassandra/db/RowIndexEntryTest.java | 64 ++++++++++++++++++++++
 1 file changed, 64 insertions(+)

commit a8285fea60a1bad92fa598c0a2a51eff4575394d
Merge: 48682d6 ad89d44
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Sep 17 21:04:00 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit ad89d4437bd2997f0c9b7bc1812e27d29a41b8db
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Sep 17 21:02:15 2014 -0700

    Follow up to CASSANDRA-7719
    
    patch by Aleksey Yeschenko; reviewed by Jake Luciani for CASSANDRA-7719

 .../org/apache/cassandra/cql3/CqlMetricsTest.java  | 114 -------------------
 .../apache/cassandra/metrics/CQLMetricsTest.java   | 124 +++++++++++++++++++++
 2 files changed, 124 insertions(+), 114 deletions(-)

commit 9553dae93ba328f3538b213051d180c21717c158
Author: blerer <b_lerer@hotmail.com>
Date:   Wed Sep 17 13:54:45 2014 -0500

    Support IN clause for any clustering column
    
    Patch by Benjamin Lerer; reviewed by Tyler Hobbs for CASSANDRA-4762

 .../cassandra/cql3/SingleColumnRelationTest.java   | 119 +++++++++++++++++++++
 1 file changed, 119 insertions(+)

commit 87ba0dc1bce26ab97f5dd26edfd4a5c91ef9df48
Merge: 50c27cc 125b464
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Sep 17 09:48:14 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 125b4642db63a37c560dec4615ea04662c6e45ef
Author: Paulo Motta <pauloricardomg@gmail.com>
Date:   Wed Sep 17 09:46:52 2014 -0500

    Make repair -pr work with -local
    
    patch by Paulo Motta; reviewed by yukim for CASSANDRA-7450

 .../service/StorageServiceServerTest.java          | 210 ++++++++++++++++++++-
 1 file changed, 202 insertions(+), 8 deletions(-)

commit 6770d0ff8c9baa18c2315a71f06b431152f658e5
Merge: 8215744 90a2114
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Sep 16 17:48:06 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 90a2114551bf2052e2abccbc04c654ceec74c2d3
Author: Viju Kothuvatiparambil <viju.kothuvati@mindmax.us>
Date:   Tue Sep 16 17:46:53 2014 -0500

    Invalidate prepared stmts when ks or table is dropped
    
    Patch by Viju Kothuvatiparambil; review by Tyler Hobbs for
    CASSANDRA-7566

 .../cql3/PreparedStatementCleanupTest.java         | 86 ++++++++++++++++++++++
 1 file changed, 86 insertions(+)

commit 796ddbc060a2e7ef444fd65da2ee92db2854afe1
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Sep 12 17:57:26 2014 -0500

    kill yaml snitch

 .../locator/GossipingPropertyFileSnitchTest.java   |  16 +++-
 .../locator/YamlFileNetworkTopologySnitchTest.java | 100 ---------------------
 2 files changed, 14 insertions(+), 102 deletions(-)

commit 14372cd4e474face12b9a5c94b5c93cd35a64237
Merge: a22dd29 12ac7ea
Author: Jake Luciani <jake@apache.org>
Date:   Wed Sep 10 17:15:20 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit 12ac7eaf6f26ae8001954841c9b2120d02cbdcdd
Author: Jake Luciani <jake@apache.org>
Date:   Wed Sep 10 17:14:57 2014 -0400

    ninja fix test

 test/unit/org/apache/cassandra/cql3/CqlMetricsTest.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit a22dd291b35e88867493fd11d83dd0360c051b0a
Merge: 6851402 42b91d4
Author: Jake Luciani <jake@apache.org>
Date:   Wed Sep 10 16:22:07 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit 42b91d4453a3f7ac698c9a871c5d75fcbf8a578f
Author: Jake Luciani <jake@apache.org>
Date:   Wed Sep 10 16:18:32 2014 -0400

    Add metrics to track usage of PreparedStatments
    
    patch by tjake; reviewed by carl for (CASSANDRA-7719)

 .../org/apache/cassandra/cql3/CqlMetricsTest.java  | 110 +++++++++++++++++++++
 1 file changed, 110 insertions(+)

commit 2cba3fc95117b74b7cfb82d39c0ddb8b1829536d
Merge: 25272a4 9b9bf45
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Sep 9 18:39:53 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit 9b9bf45b676916dc9c81a6328fafef6496d62fb9
Merge: 3ba392f 2170ac4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Sep 9 18:39:29 2014 -0700

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/TreeMapBackedSortedColumns.java
    	src/java/org/apache/cassandra/io/sstable/AbstractSSTableSimpleWriter.java
    	src/java/org/apache/cassandra/io/sstable/CQLSSTableWriter.java
    	src/java/org/apache/cassandra/io/sstable/SSTableSimpleUnsortedWriter.java

commit 2170ac4d3922425f008f441d2d92e3233449c765
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Sep 9 18:18:12 2014 -0700

    Make CQLSSTableWriter sync within partitions
    
    patch by slebresne; reviewed by blerer for CASSANDRA-7360

 .../cassandra/io/sstable/CQLSSTableWriterTest.java | 39 ++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit e1651cb07b7de35a2b7076b4b1c82572fee5ad63
Merge: bd889dc 4f3a9c0
Author: Mikhail Stepura <mishail@apache.org>
Date:   Sat Sep 6 17:20:24 2014 -0700

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/compaction/AntiCompactionTest.java

commit 4f3a9c0bd7ac9dccae3e805c15331df32b8b0b2a
Merge: 7d21569 838151c
Author: Mikhail Stepura <mishail@apache.org>
Date:   Sat Sep 6 17:09:03 2014 -0700

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 838151caba98f88ff583e01bad087d4ead4a764d
Author: Mikhail Stepura <mishail@apache.org>
Date:   Fri Sep 5 22:44:38 2014 -0700

    Fixed handling of non-intersecting ranges in anticompaction
    
    patch by Mikhail Stepura; reviewed by Yuki Morishita for CASSANDRA-7892

 .../db/compaction/AntiCompactionTest.java          | 76 ++++++++++++++++------
 1 file changed, 56 insertions(+), 20 deletions(-)

commit 719bb392802ba94999e2ddc0c7c9d44d3843a8c8
Merge: d5cfe2b d304b7c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Sep 5 10:59:22 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit d304b7cabd6ab69b737c978c4436b14f262f4b62
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Sep 5 10:59:05 2014 +0200

    Fix test compilation

 test/unit/org/apache/cassandra/cql3/DeleteTest.java | 1 -
 1 file changed, 1 deletion(-)

commit d5cfe2b4ab4139955a92667d0fecac880cbdfa0b
Merge: b4839a3 350a94c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Sep 5 10:54:40 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 350a94c3e3a4fe0597043d91ac8c1bae9f780731
Merge: bd396ec c81dc4b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Sep 5 10:50:46 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit c81dc4bb23da7f4e6c2c7738758db9d483d69292
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Sep 5 10:50:13 2014 +0200

    Attempt to fix intermittent failure of DeleteTest

 test/unit/org/apache/cassandra/cql3/DeleteTest.java | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 511129ddbda694bebcd7502d1760f3587b8adf8b
Author: Robert Stupp <snazy@snazy.de>
Date:   Wed Sep 3 14:37:15 2014 -0500

    Accept Java source code for user-defined functions
    
    Patch by Robert Stupp; reviewed by Tyler Hobbs for CASSANDRA-7562

 test/unit/org/apache/cassandra/cql3/UFTest.java | 204 ++++++++++++++++++++++++
 1 file changed, 204 insertions(+)

commit 83bf0d5d591aaabebda0c86ccad88afe1db5e5f6
Merge: 936dea8 2001c25
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Sep 3 13:05:36 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit aca77ec878ce9982d658dc4fe9e97292ebffe3bd
Merge: c99f37e aae9b91
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Sep 3 13:05:03 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
    	test/unit/org/apache/cassandra/cql3/MultiColumnRelationTest.java

commit cf76ac66af4344acaaf44f8dec3ef584cff79bf2
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Sep 3 19:01:20 2014 +0200

    Fix NPE when using collections in frozen tuple
    
    patch by omichallat; reviewed by slebresne for CASSANDRA-7869

 .../org/apache/cassandra/cql3/TupleTypeTest.java   | 39 ++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit aae9b9101c61d914e0ceb7e39f88d688c986af18
Author: blerer <b_lerer@hotmail.com>
Date:   Wed Sep 3 10:38:58 2014 -0500

    Don't allow mixed multi/single column relations
    
    Patch by Benjamin Lerer; reviewed by Tyler Hobbs for CASSANDRA-7711

 test/unit/org/apache/cassandra/cql3/MultiColumnRelationTest.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit a88a78380ea26a25457a58a115195eb944bf0420
Author: Robert Stupp <snazy@snazy.de>
Date:   Wed Sep 3 10:26:30 2014 -0500

    Require arg types to disambiguate UDF drops
    
    Patch by Robert Stupp; reviewed by Tyler Hobbs for CASSANDRA-7812

 test/unit/org/apache/cassandra/cql3/UFTest.java | 23 +++++++++++++++++++++--
 1 file changed, 21 insertions(+), 2 deletions(-)

commit ed0532c64c9db61ac38915c904a0db3df46e2bf8
Merge: 873d064 e75fe5c
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Sep 2 12:48:45 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit e75fe5c4f5546585180efcc4fca676afa69f8750
Merge: e0d7c77 82136e3
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Sep 2 12:48:30 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit 02be0dedd9773f1f2f7ce19dfeca82eed5456ca1
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Sep 2 10:41:48 2014 +0200

    Ability to freeze UDT
    
    patch by slebresne; reviewed by iamaleksey for CASSANDRA-7857

 test/unit/org/apache/cassandra/cql3/CQLTester.java     |  5 +----
 test/unit/org/apache/cassandra/cql3/TupleTypeTest.java | 16 +++++++++++-----
 test/unit/org/apache/cassandra/cql3/UserTypesTest.java | 15 ++++++++++-----
 3 files changed, 22 insertions(+), 14 deletions(-)

commit 873d0649089c31e8216957762c33c6bc78466fb6
Merge: 54e7f96 e0d7c77
Author: Mikhail Stepura <mishail@apache.org>
Date:   Mon Sep 1 12:20:30 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit e0d7c77f32140adeb51d0316179b95e33fb5834c
Author: Mikhail Stepura <mishail@apache.org>
Date:   Thu Aug 28 17:04:13 2014 -0700

    Allow triggers' names to be quoted identifiers
    
    patch by Mikhail Stepura; reviewed by Sylvain Lebresne for CASSANDRA-7847

 .../org/apache/cassandra/cql3/CreateTriggerStatementTest.java     | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 0d0aed85fe1b520f9390091b74e4e4d4a70b7425
Merge: 2a6e071 44a9d8c
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Aug 27 18:21:02 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit 44a9d8cc689ffe9f3a5628a1e816730e75736bbf
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Aug 27 18:16:19 2014 +0300

    Ninja s/substract/subtract

 test/unit/org/apache/cassandra/cql3/CollectionsTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d931629ca822a3074ac1f8f5c6d8accadb265d14
Merge: f18108d ec09753
Author: Jake Luciani <jake@apache.org>
Date:   Wed Aug 27 11:08:07 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit ec0975304c9288c800999937c249e12e397e7978
Merge: 5abd129 ce3fcbe
Author: Jake Luciani <jake@apache.org>
Date:   Wed Aug 27 11:07:24 2014 -0400

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit ce3fcbe5f810cf1ebe0d86b702996b71e3ba03ec
Author: Jake Luciani <jake@apache.org>
Date:   Wed Aug 27 10:59:14 2014 -0400

    Avoid recycling CL segments until all writes have been flushed for all keyspaces in segment
    
    Patch by belliottsmith; reviewed by tjake for CASSANDRA-7437

 .../cql3/DropKeyspaceCommitLogRecycleTest.java     | 91 ++++++++++++++++++++++
 1 file changed, 91 insertions(+)

commit f18108d812bb90d03a4bff5172cd0a428b7cae80
Merge: 14dbba9 5abd129
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Aug 27 13:09:18 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 5abd129fd9ff80aa689b830452b528f04d45eb82
Merge: 1be0bbf 049762b
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Aug 27 13:07:16 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 049762b3e49ec54cadc0a353520cccc487ea6c2d
Merge: cb4bc27 29befa1
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Aug 27 13:06:54 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	CHANGES.txt

commit 29befa180be1b20ff404c29108f9bf3385f51855
Merge: 9219361 7f9e9a8
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Aug 27 13:00:55 2014 +0200

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/ColumnIndex.java

commit 7f9e9a87188ccbc16bbb1630fe0720d6b366569d
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue Aug 26 14:16:48 2014 +0200

    Track expired tombstones
    
    Patch by marcuse; reviewed by slebresne for CASSANDRA-7810

 .../apache/cassandra/db/RangeTombstoneTest.java    | 27 ++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 14dbba9d1f21773ecc41263f2cfa5759817dcfb0
Merge: 44fa12e 1be0bbf
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Aug 27 11:00:54 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 1be0bbf71355b3b6cbd24c441e51873376bf3911
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Aug 27 11:00:09 2014 +0200

    Add syntax to remove multiple elements from a map
    
    patch by blerer & slebresne; reviewed by iamaleksey for CASSANDRA-6599

 test/unit/org/apache/cassandra/cql3/CQLTester.java |  53 ++++-
 .../org/apache/cassandra/cql3/CollectionsTest.java | 227 +++++++++++++++++++++
 .../cassandra/cql3/MultiColumnRelationTest.java    |   4 +-
 .../org/apache/cassandra/cql3/TupleTypeTest.java   |   2 +-
 .../org/apache/cassandra/cql3/UserTypesTest.java   |   2 -
 5 files changed, 275 insertions(+), 13 deletions(-)

commit 44fa12ec435451710cf37463820b708ea637993a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Aug 18 18:29:09 2014 +0200

    UDF cleanups
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-7809

 test/unit/org/apache/cassandra/cql3/CQLTester.java |  19 +-
 .../org/apache/cassandra/cql3/TypeCastTest.java    |  54 ++++++
 test/unit/org/apache/cassandra/cql3/UFTest.java    | 212 +++++++++++----------
 3 files changed, 180 insertions(+), 105 deletions(-)

commit 75a30c5c2740d5cbb4df39b98f659fa79cdc017d
Merge: e471dab 3d5f3a6
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Aug 26 12:54:06 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 3d5f3a659695212b4a6dbde6cb5a07a2bea1aca0
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Aug 26 12:53:13 2014 -0500

    Support non-equals conditions for LWT
    
    Patch by Tyler Hobbs; review by Sylvain Lebresne for CASSANDRA-6839

 .../apache/cassandra/cql3/ColumnConditionTest.java | 577 +++++++++++++++++++++
 .../cassandra/cql3/MultiColumnRelationTest.java    |   7 +
 2 files changed, 584 insertions(+)

commit e471dab3144a23c88656be77608387a467d01abf
Merge: b9e42df 6ce0456
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Aug 26 19:18:19 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit 6ce04564227d0ca4bd895797afdc8cba032165bd
Merge: a15e11a cb4bc27
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Aug 26 19:17:11 2014 +0300

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit cb4bc2764cec95ade336f12e23f52a3c368b9218
Merge: 4dc3a6e 9219361
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Aug 26 19:13:17 2014 +0300

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	CHANGES.txt

commit 8462335262f92ce824e77eda292692567158ed5e
Merge: 125f19a fdf293d
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue Aug 26 15:39:20 2014 +0200

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/RangeTombstoneTest.java

commit fdf293dc1547112dc43752676635895b481288cb
Merge: 11d1edc d1f38cd
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue Aug 26 15:37:10 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit d1f38cd27fc4c2ec7e74c70d174ca5a021f660bd
Merge: 889f3ac 61543b4
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue Aug 26 15:35:53 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	src/java/org/apache/cassandra/db/compaction/LazilyCompactedRow.java
    	test/unit/org/apache/cassandra/db/RangeTombstoneTest.java

commit 61543b4c0080e1c2048ff43ae33d4cfc240accbb
Merge: 2015072 1cf9863
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue Aug 26 15:28:28 2014 +0200

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/db/compaction/LazilyCompactedRow.java
    	test/unit/org/apache/cassandra/db/RangeTombstoneTest.java

commit 1cf986301b6109b5744b52b80dcdb1640be2b247
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue Aug 26 11:33:24 2014 +0200

    Don't clear out range tombstones during compaction.
    
    Patch by rlow; reviewed by marcuse for CASSANDRA-7808

 .../apache/cassandra/db/RangeTombstoneTest.java    | 60 ++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit 3fa5a9ea7a33b3f9347927706a8eba394ab78775
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Aug 25 10:55:42 2014 +0200

    Remove unecessary imports

 test/unit/org/apache/cassandra/cql3/CreateTriggerStatementTest.java | 2 --
 1 file changed, 2 deletions(-)

commit e5bd1c38ea0978710f3059e81ba87b98980423d6
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Aug 25 10:55:42 2014 +0200

    Remove unecessary imports

 test/unit/org/apache/cassandra/cql3/CreateTriggerStatementTest.java | 2 --
 1 file changed, 2 deletions(-)

commit f314c61f81af7be86c719a9851a49da272bd7963
Merge: 3aa7215 591a277
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Aug 25 10:10:54 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 591a2779a7f4213fd7f0e7eee8d2a844359d65bb
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Aug 25 10:08:44 2014 +0200

    Add IF [NOT] EXISTS to create/drop trigger
    
    patch by blerer; reviewed by snazy for CASSANDRA-7606

 test/unit/org/apache/cassandra/cql3/CQLTester.java |  10 ++
 .../cassandra/cql3/CreateTriggerStatementTest.java | 115 +++++++++++++++++++++
 .../cassandra/triggers/TriggerExecutorTest.java    |   2 +-
 3 files changed, 126 insertions(+), 1 deletion(-)

commit aad152d81c3a9fcd25222c9d9cf3e10265607906
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Aug 22 11:47:13 2014 +0200

    Add USING to CREATE FUNCTION for CASSANDRA-7811

 test/unit/org/apache/cassandra/cql3/UFTest.java | 32 ++++++++++++-------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 0f530413ccffd9b9611ce1c5a77c3f3cb7c65372
Merge: c158efd 8d494c7
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Aug 20 11:14:41 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 8d494c782dea42f2058a18d63ff27e70f7e64a8f
Merge: cc79fe1 d345057
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Aug 20 11:14:13 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit d3450570ca89ce358355003ef5476dec3fad3e91
Merge: 45159ae a4e108c
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Aug 20 11:13:44 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	CHANGES.txt
    	test/unit/org/apache/cassandra/cql3/TypeTest.java

commit a4e108c40b234fa754a56a21b63635b83f90aceb
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Aug 20 10:58:54 2014 -0500

    Fix ReversedType.isCompatibleWith()
    
    Patch by Tyler Hobbs; reviewed by Sylvain Lebresne for CASSANDRA-7797

 test/unit/org/apache/cassandra/cql3/TypeTest.java | 34 +++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 37f5175935a37ce2c005335c2f486efb827b6eba
Author: Russell Spitzer <Russell.Spitzer@gmail.com>
Date:   Wed Aug 20 13:27:52 2014 +0200

    Anticompact sstables as groups
    
    Patch by Russell Spitzer; reviewed by marcuse for CASSANDRA-6851

 .../db/compaction/AntiCompactionTest.java          | 96 +++++++++++++++++++++-
 .../compaction/LeveledCompactionStrategyTest.java  | 61 +++++++++++++-
 2 files changed, 152 insertions(+), 5 deletions(-)

commit 060c7961d0a8374f53312a1cf9ea4b78a0e47b9c
Merge: 504d3c5 bd692ba
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Aug 20 08:25:59 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit bd692ba74499428b0ee5c6defbb86966f3b30c12
Merge: 558bb72 39b8196
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Aug 20 08:25:28 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 39b81967f18e1210a64fa98a1b84037235a09b9c
Merge: af188ed 76adf0e
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Aug 20 08:25:16 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	CHANGES.txt

commit 76adf0e12ed91ee7c75164872202bff29a2ad7f4
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue Aug 19 11:45:57 2014 +0200

    Throw EOFException if we run out of chunks in compressed file
    
    Patch by marcuse; reviewed by yukim for CASSANDRA-7664.

 .../compress/CompressedInputStreamTest.java        | 23 +++++++++++++++++-----
 1 file changed, 18 insertions(+), 5 deletions(-)

commit 7192f17e3c67f0bb865e62001ed9a2957dc88ddf
Merge: 1ed1af5 92325cc
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Aug 19 11:21:11 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 7d7d529f6d20683c2a6d052189c63f0d6575e5f7
Merge: d4ac8d5 296903b
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Aug 19 11:20:24 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit fe0572778cd4449d3c3d850931f9d41a454b8994
Merge: ba22af1 8a69ef8
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Sat Aug 16 12:17:28 2014 +0700

    Merge branch 'cassandra-2.1' into trunk

commit 8a69ef89892f2a7ffb4f9e67c48d0d8c1ea893b4
Merge: ff9c631 c01df31
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Sat Aug 16 12:17:17 2014 +0700

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit c01df31443c70cdaedd0ff55c0da16c72dbdf019
Merge: d087317 8e42d5f
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Sat Aug 16 12:17:06 2014 +0700

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/streaming/StreamTransferTask.java
    	test/unit/org/apache/cassandra/streaming/StreamTransferTaskTest.java

commit 8e42d5fe86f6b2f4dd636ed77793d6ab69792895
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Sat Aug 16 12:11:45 2014 +0700

    Fix race condition in StreamTransferTask that could lead to
    infinite loops and premature sstable deletion
    
    patch by benedict; reviewed by yukim for CASSANDRA-7704

 .../cassandra/streaming/StreamTransferTaskTest.java | 21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit f0635da39ddfb68c856db58b698855b9f44e698e
Merge: 5233948 141b939
Author: Mikhail Stepura <mishail@apache.org>
Date:   Fri Aug 15 13:26:40 2014 -0700

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/tools/SSTableImportTest.java

commit 141b9399d3ae64dc9eaab82a058b6c5afd4d16cf
Merge: ea68619 8137fce
Author: Mikhail Stepura <mishail@apache.org>
Date:   Fri Aug 15 13:20:10 2014 -0700

    Merge branch 'cassandra-2.1.0' into cassandra-2.1
    
    Conflicts:
    	test/unit/org/apache/cassandra/tools/SSTableImportTest.java

commit 8137fce529fe56db571d288e1e179aff905368de
Author: Mikhail Stepura <mishail@apache.org>
Date:   Thu Aug 14 16:31:17 2014 -0700

    Handle CQL row marker in SSTableImport
    
    patch by Mikhail Stepura; reviewed by Tyler Hobbs for CASSANDRA-7477

 .../apache/cassandra/tools/SSTableImportTest.java  | 62 +++++++++++++++++++++-
 1 file changed, 61 insertions(+), 1 deletion(-)

commit eab158462441ba414792acc228051250be34ab24
Merge: de5bb58 561f6ef
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 15 15:15:38 2014 -0400

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 561f6ef5cfb50878dff2ea3ceb182b48f400a23e
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 15 15:15:09 2014 -0400

    fix build

 .../org/apache/cassandra/io/util/BufferedRandomAccessFileTest.java  | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit ff88f237662e0ad3389373bc4466bf80c10420d1
Merge: fe8829f de5bb58
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Aug 15 13:26:39 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit de5bb5854de5c02e13c3311e0e4f70dc44f5bb83
Merge: 54fbb0a 563cea1
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Aug 15 13:24:31 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	src/java/org/apache/cassandra/config/YamlConfigurationLoader.java
    	src/java/org/apache/cassandra/io/sstable/SSTableLoader.java
    	src/java/org/apache/cassandra/streaming/ConnectionHandler.java
    	src/java/org/apache/cassandra/streaming/StreamPlan.java
    	src/java/org/apache/cassandra/streaming/StreamResultFuture.java
    	src/java/org/apache/cassandra/streaming/StreamSession.java
    	src/java/org/apache/cassandra/tools/BulkLoader.java
    	test/unit/org/apache/cassandra/streaming/StreamTransferTaskTest.java

commit fe8829fa6ac5a0775ac041fe5a64d6c47c34961f
Merge: 4dd1a15 54fbb0a
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 15 13:38:56 2014 -0400

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/io/util/RandomAccessReader.java

commit 563cea14b4bb87cd37ab10399904f08757c34d27
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Aug 15 12:31:59 2014 -0500

    Fix sstableloader unable to connect encrypted node
    
    patch by yukim; reviewed by krummas for CASSANDRA-7585

 test/unit/org/apache/cassandra/streaming/StreamTransferTaskTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 54fbb0abb917e5717bfe8332560dd3a9663cf60a
Merge: 04a1fc6 e9d0214
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 15 13:28:35 2014 -0400

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit e9d0214a16dbb45b39ddb1c3ff7c44ecc23cb8f3
Merge: d7f7eec ad6ba3d
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 15 13:27:47 2014 -0400

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	CHANGES.txt

commit ad6ba3d243058f060569ad16d6713f46e2ce6160
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 15 13:24:15 2014 -0400

    Fix NPE in FileCacheService.sizeInBytes
    
    patch by tjake; reviewed by jbellis for (CASSANDRA-7756)

 .../io/util/BufferedRandomAccessFileTest.java      | 70 ++++++++++++++++++++++
 1 file changed, 70 insertions(+)

commit b6ce0a6bbbadfeba5dc5a0fd9ddfe227aa0ac5fd
Author: Jake Luciani <jake@apache.org>
Date:   Wed Aug 13 11:13:55 2014 -0400

    Fix unit tests in trunk that didn't define their own schemas
    
    Patch by Lyuben Todorov; reviewed by tjake for CASSANDRA-7760

 .../db/index/PerRowSecondaryIndexTest.java          |  6 +++---
 .../apache/cassandra/tools/SSTableExportTest.java   | 21 +++++++++++----------
 .../apache/cassandra/tools/SSTableImportTest.java   | 11 ++++++-----
 3 files changed, 20 insertions(+), 18 deletions(-)

commit c1de8eee782855be48febb8decc966ec1c46f4b2
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Aug 12 11:21:17 2014 -0500

    ninja: fix bad class name in UFTest (CASSANDRA-7395)

 test/unit/org/apache/cassandra/cql3/UFTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f774b2a931949c2fc1485733fdc88ab674db870e
Author: Jake Luciani <jake@apache.org>
Date:   Tue Aug 12 10:58:29 2014 -0400

    fix cl unit tests

 .../org/apache/cassandra/db/CommitLogTest.java     | 24 ++++++++++++++--------
 1 file changed, 16 insertions(+), 8 deletions(-)

commit 7ce2242846a77ecb1285e3e26deb8b6c4974be10
Merge: 3c6e33e 54c6e66
Author: Jake Luciani <jake@apache.org>
Date:   Tue Aug 12 10:11:09 2014 -0400

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/CommitLogTest.java

commit 54c6e66a8d6f01945dbe05ed518e86277a4967f8
Merge: d61443e c7834d3
Author: Jake Luciani <jake@apache.org>
Date:   Tue Aug 12 10:01:30 2014 -0400

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit c7834d3dab82860ef8d87b043b8d6a7150419edb
Author: Jake Luciani <jake@apache.org>
Date:   Tue Aug 12 10:00:28 2014 -0400

    Merge 2.0

 .../org/apache/cassandra/db/CommitLogTest.java     | 30 ++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 9be6576f24e52ca6553981976ac589bf6966e804
Author: Jake Luciani <jake@apache.org>
Date:   Tue Aug 12 09:53:53 2014 -0400

     Do not flush on truncate if durable_writes is false
    
    Patch by Jeremiah Jordan; reviewed by tjake for CASSANDRA-7750

 .../org/apache/cassandra/db/CommitLogTest.java     | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit c7ebc01bbc6aa602b91e105b935d6779245c87d1
Merge: 0eb9e8c 5d9621cd
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Aug 12 03:34:58 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit 5d9621cd9d13efe7e9a4042097bbc6e5c8796165
Merge: 384f873 59806a8
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Aug 12 03:34:11 2014 +0300

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 59806a8f8328250d19b3b7964ac767fe4561f429
Author: Sam Tunnicliffe <sam@beobal.com>
Date:   Tue Aug 12 03:32:29 2014 +0300

    Pass mutated cf to index updater for use by PRSI
    
    patch by Sam Tunnicliffe; reviewed by Aleksey Yeschenko for
    CASSANDRA-7742

 test/unit/org/apache/cassandra/db/index/PerRowSecondaryIndexTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 755d345fefafa1384e26269e6381e5b517216a42
Merge: c7e191b 0c6078a
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Aug 11 13:03:47 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 6eb76a2122c276bd252196b9ffc18764dfae4e3e
Merge: 50ee3a7 ce96a2a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Aug 11 18:24:03 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit ce96a2a120508ba0a31cc35e44905eae808f4be3
Merge: 4c387e4 bd0bb6d
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Aug 11 18:23:43 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java

commit 5205ce669fd43560cd8c6cf4f9c13b665fb34121
Merge: 25411bf f2f2d47
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Aug 11 01:08:53 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit f2f2d4732479aefc514384454f63579b93d5fe2e
Merge: 8aed419 9268820
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Aug 11 01:07:32 2014 +0300

    Merge branch 'cassandra-2.1.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/hadoop/pig/CqlNativeStorage.java

commit 25411bf1d15a35bf17002cf7664173357c6dc6cf
Author: Robert Stupp <snazy@snazy.de>
Date:   Fri Aug 8 14:11:01 2014 -0500

    Support pure user-defined functions
    
    Patch by Robert Stupp; reviewed by Tyler Hobbs for CASSANDRA-7395

 test/unit/org/apache/cassandra/cql3/UFTest.java | 186 ++++++++++++++++++++++++
 1 file changed, 186 insertions(+)

commit 78952731f320ed792783deea988164389794bb30
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Aug 8 10:21:34 2014 +0200

    Fix potential AssertionError in RangeTombstoneList
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-7700

 .../cassandra/db/RangeTombstoneListTest.java       | 88 ++++++++++++++++++++++
 1 file changed, 88 insertions(+)

commit cd37d07baf5394d9bac6763de4556249e9837bb0
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Aug 8 10:54:41 2014 +0200

    Version and licenses for 2.0.10 release

 .../SliceQueryFilterWithStaticColumnsPresentTest.java   | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 5bd37b92d2a8c75163ca51a0cfde908a299b7ca1
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Aug 8 10:21:34 2014 +0200

    Fix potential AssertionError in RangeTombstoneList
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-7700

 .../cassandra/db/RangeTombstoneListTest.java       | 88 ++++++++++++++++++++++
 1 file changed, 88 insertions(+)

commit 4c3ba4f30acf65d769517009f8d263f6d87ede81
Merge: 32358d6 2c701f8
Author: Jake Luciani <jake@apache.org>
Date:   Thu Aug 7 14:53:30 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit 2c701f8f9a87bd4388e917eab8910f7fa865b5bc
Merge: 756c85e b3ada2b
Author: Jake Luciani <jake@apache.org>
Date:   Thu Aug 7 14:52:56 2014 -0400

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit b3ada2bc453e84a470b070b56e35a13e0913662b
Author: Jake Luciani <jake@apache.org>
Date:   Thu Aug 7 14:35:28 2014 -0400

    Workaround for netty issue causing corrupted data to come off the wire
    
    patch by tjake, test by Johan Bjork; reviewed by belliottsmith for (CASSANDRA-7695)

 .../org/apache/cassandra/cql3/CorruptionTest.java  | 195 +++++++++++++++++++++
 1 file changed, 195 insertions(+)

commit f7fab28ecb235faf2ba807720cdca091be7461d0
Merge: 740bcb5 40a1cd3
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Aug 6 11:11:37 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 40a1cd369164b0202c315309fc9fc69c448af6f5
Merge: 97e74ee cd84cc9
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Aug 6 11:10:36 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit cd84cc9ec63a1b7831262b87f29e0f4313a6eab2
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Aug 6 10:17:39 2014 +0200

    Bogus deserialization of static cells from sstable
    
    patch by slebresne; reviewed by iamaleksey for CASSANDRA-7684

 test/unit/org/apache/cassandra/cql3/CQLTester.java | 22 +++++++++++++++++++++
 .../org/apache/cassandra/cql3/UserTypesTest.java   | 23 ++++++++++++++++++++++
 2 files changed, 45 insertions(+)

commit 50191828f4d421ae8acfa85019bec5eaecdfa6bb
Merge: 2504177 91d61b3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 5 16:48:13 2014 -0500

    merge from 2.1

commit 91d61b3276ec5ffda85a99009a779f1ebcb4358a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 5 16:41:01 2014 -0500

    SSTableExport uses correct validator to create string representation of partition keys
    patch by Alexey Zotov; reviewed by Benjamin Lerer for CASSANDRA-7498

 test/unit/org/apache/cassandra/SchemaLoader.java   |  3 +-
 test/unit/org/apache/cassandra/Util.java           |  6 +++
 .../apache/cassandra/tools/SSTableExportTest.java  | 52 ++++++++++++++++++----
 .../apache/cassandra/tools/SSTableImportTest.java  | 40 ++++++++++++++++-
 4 files changed, 91 insertions(+), 10 deletions(-)

commit bf4c76e476ac3ba7917ca0c670bede21be72cd79
Merge: f21a7ac 3612b84
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Aug 5 14:48:09 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 3612b84c69180c47cca9898f48ac0ae869c94711
Merge: 8a3fc02 2d21160
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Aug 5 14:47:42 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 2d211608e4e8b334fbfe2c8b69880287377f99f5
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Aug 5 14:44:41 2014 +0200

    Fix CQLTester cleanup

 test/unit/org/apache/cassandra/cql3/CQLTester.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f1b0c26a1537c8b9c48abc96ba0c972f4ddf5221
Merge: f47863e 5009ee3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 4 07:35:07 2014 -0500

    merge from 2.1

commit 5009ee31b933fcc5843417fd65ab9ff91bb74e73
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 4 07:32:56 2014 -0500

    Add support for custom 2i validation
    patch by Sergio Bossa and Andrés de la Peña for CASSANDRA-7575

 .../db/index/PerRowSecondaryIndexTest.java         | 59 +++++++++++++++++++---
 1 file changed, 52 insertions(+), 7 deletions(-)

commit f47863e13c91566aca5f8a25cfa247b7ea27ec59
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 4 07:28:58 2014 -0500

    fix warnings for _ as identifier
    patch by Robert Stupp; reviewed by jbellis for CASSANDRA-7675

 test/unit/org/apache/cassandra/io/util/DataOutputTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d6f3cdf6ff38fcd301098a91d32bb2b4b47d2df0
Merge: be6cf8a 8d06dd1
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sun Aug 3 00:45:48 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit 8d06dd102dd3b119cd1f74a88813c4e6c72e453d
Merge: 6b34d46 57abab1
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sun Aug 3 00:39:59 2014 -0400

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit cfb335e39b080c031faf76671c67cc003af22635
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Sat Aug 2 13:48:00 2014 +0200

    Update versions for 2.1.0-rc5 release

 .../apache/cassandra/cql3/StaticColumnsQueryTest.java   | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit ee2ed3c811e344ca9171a96bcfb1144e43b69878
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Aug 1 13:56:09 2014 -0500

    Remove shuffle/taketoken
    
    Patch by brandonwilliams, reviewed by thobbs for CASSANDRA-7601

 .../org/apache/cassandra/service/RelocateTest.java | 210 ---------------------
 1 file changed, 210 deletions(-)

commit 87321cd6d0b07c376899854d1bfc6355220ae1cf
Merge: e3fa11b 5f0413b
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 1 11:17:41 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit 5f0413bef546b3489525709cececd1947be34b67
Merge: 169b1cf 18ce8c7
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 1 11:17:23 2014 -0400

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 18ce8c72a355949ffd8cdc8c083f3edf85c449d1
Merge: 1921b98 60eab4e
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 1 11:16:57 2014 -0400

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java
    	src/java/org/apache/cassandra/db/DataTracker.java
    	test/unit/org/apache/cassandra/db/CommitLogTest.java

commit 60eab4e45e18d6b08350187acf56deed9654fda7
Author: Jake Luciani <jake@apache.org>
Date:   Fri Aug 1 10:30:48 2014 -0400

    Fix truncate to always call flush on table
    
    Patch by Jeremiah Jordan; reviewed by tjake for (CASSANDRA-7511)

 .../org/apache/cassandra/db/CommitLogTest.java     | 32 ++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit 24e1bc76824a90b1417d58164f5e4dcd3f90c687
Merge: 7773841 b407ebc
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Jul 31 17:33:24 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit b407ebc895603e33af763cbf30ca661192cf7eec
Merge: e3d5b98 4632673
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Jul 31 17:33:03 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 46326737288ae1d4d05a80d7074126e0502465e8
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Jul 31 17:31:10 2014 -0500

    Tolerate min/max cell names of different lengths
    
    Patch and review by Jonathan Ellis and Tyler Hobbs for CASSANDRA-7651

 .../cassandra/db/filter/ColumnSliceTest.java       | 66 ++++++++++++++++++++++
 1 file changed, 66 insertions(+)

commit 93942bad00634ddcfa73c97a67190e63a5e63c14
Merge: da1f2db 85bcd2d
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Jul 31 15:42:23 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 85bcd2d744ceb3f0d0cef8de6c165c5c2f53b602
Merge: 8e4415b 1879d99
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Jul 31 15:42:02 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	test/unit/org/apache/cassandra/service/MoveTest.java

commit 1879d9928b506845f45578580f2a902d41409c8d
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Jul 31 15:41:06 2014 -0500

    Ninja: remove buggy test assertion from 2.1
    
    This was fixed by CASSANDRA-7390, but that fix starts with Cassandra
    3.0.

 test/unit/org/apache/cassandra/service/MoveTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9aeae58877013387bf31f30bcb1b675a674d5850
Merge: b8a4e4f adc1385
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Jul 31 12:39:21 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit adc138509e897da3c78a87213d678bf5f251e939
Merge: b888f80 0947fb8
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Jul 31 12:39:13 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 0947fb8a91ddbf9785a675bafaac51c02dd1f27e
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Jul 31 12:38:03 2014 -0500

    Filter cached results correctly.
    
    Patch by marcuse, reviewed aleksey for CASSANDRA-7636

 .../org/apache/cassandra/db/RowCacheCQLTest.java   | 40 ++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit da3fd5d7ac2bb0f64a32176c3722b857b71bc654
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Jul 30 22:07:10 2014 -0500

    fix merge

 .../org/apache/cassandra/service/RelocateTest.java | 204 ---------------------
 1 file changed, 204 deletions(-)

commit e96b25977ab38456eebd1d4a2d28c3dc95e45940
Merge: 4333976 70c72b7
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Jul 30 17:03:24 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 70c72b7ec56367f9701ccf971363fc179bf2db50
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Jul 30 17:02:10 2014 -0500

    Ninja: remove buggy test assertion from 2.1
    
    This was fixed by CASSANDRA-7390, but that fix starts with Cassandra
    3.0.

 test/unit/org/apache/cassandra/service/MoveTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6554bcc0f2cec44cef65dc7648a350ee2617d905
Merge: 307f916 cc3e0db
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Jul 30 11:58:39 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1
    
    Conflicts:
    	bin/cqlsh

commit cc3e0dbda284b814e492c620b7875f2b75c03e91
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Jul 30 11:53:34 2014 -0500

    Remove shuffle/taketoken
    
    Patch by brandonwilliams, reviewed by thobbs for CASSANDRA-7601

 .../org/apache/cassandra/service/RelocateTest.java | 205 ---------------------
 1 file changed, 205 deletions(-)

commit 440d23603855d25592bd36a8832ea3af522fb923
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Jul 30 11:51:55 2014 -0500

    Remove shuffle/taketoken.
    
    Patch by brandonwilliams, reviewed by thobbs for CASSANDRA-7601

 .../org/apache/cassandra/service/RelocateTest.java | 206 ---------------------
 1 file changed, 206 deletions(-)

commit 4d282ca5d92ba9ae04e00491cd433bde1af67dbc
Merge: b1c45b7 a5bc52e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 29 11:58:29 2014 -0500

    merge from 2.1

commit a5bc52eee90e342efcdc53282612008d3dbaeaeb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 29 11:57:34 2014 -0500

    Revert "Fail to start if commit log replay encounters an exception"
    
    This reverts commit 581ce631026b98ee9438d54ef144df89bc91100b.

 .../org/apache/cassandra/db/CommitLogTest.java     | 133 +++++----------------
 1 file changed, 27 insertions(+), 106 deletions(-)

commit f03e505fdc439b5c52c2c4c000ae6e9f26e706a9
Merge: 4f48ea0 5571569
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 11:19:16 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 557156914f32136cfcb50bf681ce2f1b26711be2
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 11:19:07 2014 -0500

    this is why we merge forward, not backward

 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f48ea001cfa6bf646b378c346faf5b3b0991161
Merge: 5c14720 8bf6974
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 11:11:26 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 8bf6974b4b9c1be035bb6b10350d190166c39379
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 11:11:19 2014 -0500

    fix test

 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d2934049b4693af3d90a60e30002e9f7bd16d8fc
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 10:58:37 2014 -0500

    fix test for 2.0

 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2b35d4b94affac7662858f7642880d89c9a70a31
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 10:58:37 2014 -0500

    fix test for 2.0

 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 60e56d4bebdd7889df88274540d58159b17a3364
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 10:58:37 2014 -0500

    fix test for 2.0

 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1440caea12b6068b90a5e55f16afe99e149b3c18
Merge: 1f58592 34c030b
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 10:47:23 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 34c030b3e5bc8765bbb365e9540eddcbb5fbc0ed
Merge: 107f5ba 821d7a7
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 10:47:16 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 821d7a72de4cbf9805210b3582d428cb9863f0dc
Merge: e2219eb d9cc6c1
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 10:47:07 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1.0

commit d9cc6c1bf610f13533df23f1b5fa99f955abd85f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 25 10:45:31 2014 -0500

    Add unordered PITR test
    
    Patch by Ala' Alkhaldi, reviewed by brandonwilliams for CASSANDRA-6905

 .../apache/cassandra/db/RecoveryManagerTest.java   | 36 ++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit ca60eacad961f548896d869af1f7995071be28be
Merge: e69fee5 57ec7b7
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Jul 16 17:21:19 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 57ec7b7352afcd541b7b058ac5500c7682243157
Merge: 367a369 2a66119
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Jul 16 17:20:24 2014 -0500

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 2a661195fe0fb5fb43b0295266d0decf40820442
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Jul 16 17:18:46 2014 -0500

    Handle queries on multiple secondary index types
    
    Patch and review by Sam Tunnicliffe and Tyler Hobbs for CASSANDRA-7525

 .../cassandra/cql3/ContainsRelationTest.java       | 38 ++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 192596ad75f2f45098ca10a5983b9fef0585fe87
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Jul 16 15:57:31 2014 -0500

    Fix row size miscalculation in LazilyCompactedRow
    
    when RangeTombstone is involved.
    patch by yukim; reviewed by jbellis for CASSANDRA-7543

 .../cassandra/io/LazilyCompactedRowTest.java       | 60 ++++++++++++++++++++--
 1 file changed, 55 insertions(+), 5 deletions(-)

commit c7f3a238e7fcc09292c0316b4df3279a4d241b2d
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Jul 16 11:26:35 2014 -0500

    Follow up to 7111 to fix failing unit tests on trunk
    
    Patch by Benjamin Lerer; reviewed by Tyler Hobbs for CASSANDRA-7111

 .../org/apache/cassandra/cql3/CqlParserTest.java   |  8 ++++----
 .../apache/cassandra/cql3/ErrorCollectorTest.java  | 24 ++++++++++++++++++++++
 2 files changed, 28 insertions(+), 4 deletions(-)

commit 8a5a82b8a87314d1e740d94cd40a190bd2681a42
Merge: 3966935 8a2d8a1
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Jul 15 12:06:51 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 8a2d8a138d5ac1fc38b24bc7fd7513f6dbe86b24
Author: blerer <b_lerer@hotmail.com>
Date:   Tue Jul 15 12:05:47 2014 -0500

    Include snippet of query in SyntaxError messages
    
    Patch by Benjamin Lerer; reviewed by Tyler Hobbs for CASSANDRA-7111

 .../org/apache/cassandra/cql3/CqlParserTest.java   |  90 +++++++++
 .../apache/cassandra/cql3/ErrorCollectorTest.java  | 218 +++++++++++++++++++++
 2 files changed, 308 insertions(+)

commit ac4a0263fe3a22b7096c3aefa70f07ea23d691b3
Merge: ae03e1b 581ce63
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Thu Jul 10 10:01:19 2014 +0100

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/CommitLogTest.java

commit 581ce631026b98ee9438d54ef144df89bc91100b
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Thu Jul 10 09:55:00 2014 +0100

    Fail to start if commit log replay encounters an exception
    
    patch by Benedict; reviewed by Vijay

 .../org/apache/cassandra/db/CommitLogTest.java     | 133 ++++++++++++++++-----
 1 file changed, 106 insertions(+), 27 deletions(-)

commit ae03e1bab709bcadcd973899be04e0c06a7df7a9
Author: Josh McKenzie <josh.mckenzie@datastax.com>
Date:   Wed Jul 9 15:51:51 2014 -0500

    Fix race condition during pending range calculation
    
    Patch by Josh McKenzie; reviewed by Tyler Hobbs for CASSANDRA-7390

 test/unit/org/apache/cassandra/service/MoveTest.java | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit b453f0897bac7f8e928588d7b288ea3e65082353
Author: lyubent <ltodorov@dundee.ac.uk>
Date:   Wed Jul 9 15:41:13 2014 -0500

    Use unsafe mutations where possible in unit tests
    
    Patch by Lyuben Todorov; reviewed by Tyler Hobbs for CASSANDRA-6969

 test/unit/org/apache/cassandra/Util.java           |  2 +-
 .../cassandra/cache/AutoSavingCacheTest.java       |  2 +-
 .../unit/org/apache/cassandra/config/DefsTest.java | 20 +++---
 .../apache/cassandra/db/BatchlogManagerTest.java   |  4 +-
 .../cassandra/db/CollationControllerTest.java      | 12 ++--
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 78 +++++++++++-----------
 .../org/apache/cassandra/db/HintedHandOffTest.java |  4 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  4 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |  2 +-
 .../unit/org/apache/cassandra/db/KeyspaceTest.java | 30 ++++-----
 .../org/apache/cassandra/db/MultitableTest.java    |  4 +-
 .../apache/cassandra/db/RangeTombstoneTest.java    | 40 +++++------
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  2 +-
 .../org/apache/cassandra/db/RemoveCellTest.java    |  4 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |  4 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  4 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  4 +-
 .../org/apache/cassandra/db/RemoveSubCellTest.java | 10 +--
 .../org/apache/cassandra/db/RowIterationTest.java  |  8 +--
 .../unit/org/apache/cassandra/db/TimeSortTest.java | 10 +--
 .../db/compaction/AntiCompactionTest.java          |  2 +-
 .../db/compaction/BlacklistingCompactionsTest.java |  2 +-
 .../db/compaction/CompactionsPurgeTest.java        | 34 +++++-----
 .../cassandra/db/compaction/CompactionsTest.java   | 18 ++---
 .../compaction/LeveledCompactionStrategyTest.java  |  8 +--
 .../cassandra/db/compaction/OneCompactionTest.java |  2 +-
 .../SizeTieredCompactionStrategyTest.java          |  4 +-
 .../cassandra/db/compaction/TTLExpiryTest.java     | 16 ++---
 .../db/index/PerRowSecondaryIndexTest.java         |  8 +--
 .../cassandra/db/marshal/CompositeTypeTest.java    |  2 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |  2 +-
 .../io/sstable/IndexSummaryManagerTest.java        |  4 +-
 .../cassandra/io/sstable/SSTableMetadataTest.java  | 26 ++++----
 .../cassandra/io/sstable/SSTableReaderTest.java    | 20 +++---
 .../cassandra/io/sstable/SSTableScannerTest.java   |  2 +-
 .../cassandra/streaming/StreamingTransferTest.java |  6 +-
 36 files changed, 202 insertions(+), 202 deletions(-)

commit e2bb7d223dbd2ab7b18045158863771c935dc5c0
Author: Jake Luciani <jake@apache.org>
Date:   Wed Jul 9 16:39:08 2014 -0400

    Fix LegacySSTableTest KS name

 test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2500951e0cd296828f06a4cd57d2390f60d1980f
Merge: 15ced94 109e600
Author: Jake Luciani <jake@apache.org>
Date:   Wed Jul 9 16:30:37 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit 109e600fa4e2230aafd3eb90ccdb37b1bdb7a471
Merge: 40fd7f0 ae37410
Author: Jake Luciani <jake@apache.org>
Date:   Wed Jul 9 16:22:30 2014 -0400

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit ae374107b7bcebf90efa75306d8dc493ccffa296
Author: Jake Luciani <jake@apache.org>
Date:   Wed Jul 9 16:21:36 2014 -0400

    ninja fix LegacySSTable test with new versioned files from 2.0

 test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 304ead14ed6822785ffd975722a626fea4a878f8
Merge: 23b0224 8984257
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jul 9 18:23:26 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 898425783f9ce0222cf49131e3f8204be0a212fb
Merge: b9d2684 ce46d66
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jul 9 18:23:02 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit ce46d6619b05465a89ffaaf8fb3e4c2c1f1e547b
Merge: eb4032e 6893130
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jul 9 18:22:04 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1.0
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/cql3/statements/SelectStatement.java

commit 6893130e899f1c9968e49eb58bf8d81212fc3157
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jul 9 15:50:17 2014 +0200

    Fix error when doing reverse queries with static columns
    
    patch by graham sanderson; reviewed by slebresne for CASSANDRA-7490

 ...iceQueryFilterWithStaticColumnsPresentTest.java | 357 +++++++++++++++++++++
 1 file changed, 357 insertions(+)

commit 111f0c0f91e679145dd27b3123de78bac3e41156
Merge: d5265bb 04944f0
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Jul 8 20:21:26 2014 +0300

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	debian/changelog

commit 04944f0ca990254aa51ee5f3791717db15437a89
Merge: ec38458 0bc9841
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Jul 8 20:17:36 2014 +0300

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 0bc98414cee3dfc2e7b743473939466f02b0d5be
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Jul 8 14:07:17 2014 +0200

    Update versions and licenses for 2.1 RC3 release

 test/unit/org/apache/cassandra/db/CellTest.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit e58f379ca01942ddc5628fa16fe97d708667d2ca
Merge: 047c046 ec38458
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Mon Jul 7 21:13:03 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit ec38458d6f8fe882618badb278237c0e6d0403b2
Merge: 35b88c5 0bc4663
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Mon Jul 7 21:12:57 2014 +0100

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 0bc4663aad3257f359058465dccbb36141fc75c6
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Mon Jul 7 21:10:57 2014 +0100

    Consider expiry when reconciling otherwise equal cells
    
    patch by Benedict Elliott Smith; reviewed by Aleksey Yeschenko
    and Sylvain Lebresne for CASSANDRA-7403

 test/unit/org/apache/cassandra/db/CellTest.java | 76 +++++++++++++++++++++++++
 1 file changed, 76 insertions(+)

commit 8f7678967c4a042f8e351e8948a44e8b54671240
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 7 18:16:54 2014 +0200

    Fix test built

 test/unit/org/apache/cassandra/cql3/CQLTester.java | 2 --
 1 file changed, 2 deletions(-)

commit 4e53152c51a08a3544cbef1bc7164b2792aa6f68
Merge: 59a8504 61ee287
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 7 18:22:49 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit 61ee287bc7d56008c3b7851f0f2e2413325d81f4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 7 18:16:54 2014 +0200

    Fix test built

 test/unit/org/apache/cassandra/cql3/CQLTester.java | 2 --
 1 file changed, 2 deletions(-)

commit e28cc6354e3ac45edf4c6fafea4599720e2dab97
Merge: d13a996 59a8504
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 7 18:06:31 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 59a8504c34b361e88ed10964c150272edcc91ff5
Merge: 0b54c4e 8d87e0e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 7 18:06:04 2014 +0200

    Merge branch 'cassandra-2.1.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit d13a996e45a3294a7c16102bf9d3da881ae2c732
Author: Yuki Morishita <yukim@apache.org>
Date:   Mon Jul 7 10:53:01 2014 -0500

    Shorten SSTable path
    
    patch by yukim; reviewed by Josh McKenzie for CASSANDRA-6962

 .../org/apache/cassandra/db/DirectoriesTest.java   |   2 +-
 .../cassandra/db/compaction/CompactionsTest.java   |   2 +-
 .../cassandra/io/sstable/DescriptorTest.java       | 120 +++++++++++++++++++++
 .../apache/cassandra/io/sstable/SSTableUtils.java  |   8 +-
 4 files changed, 126 insertions(+), 6 deletions(-)

commit 8d87e0e25e7252926bbe8b671bd86262ba7bc246
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 7 17:50:26 2014 +0200

    Properly reject unknown UDT fields
    
    patch by slebresne; reviewed by tjake for CASSANDRA-7484

 test/unit/org/apache/cassandra/cql3/CQLTester.java | 30 +++++++++++++++-----
 .../org/apache/cassandra/cql3/UserTypesTest.java   | 33 ++++++++++++++++++++++
 2 files changed, 56 insertions(+), 7 deletions(-)

commit 0c6fad4a8a8d30198283f36f35077d52e8122cee
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 7 17:31:44 2014 +0200

    Fix error when CONTAINS is used with a bind marker
    
    patch by slebresne; reviewed by tjake for CASSANDRA-7502

 test/unit/org/apache/cassandra/cql3/CQLTester.java |  52 ++++++++++
 .../cassandra/cql3/ContainsRelationTest.java       | 106 ++++++++++++---------
 2 files changed, 114 insertions(+), 44 deletions(-)

commit e90c493cb27e563d473befd1c932284d40df4f9c
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Jul 2 15:00:30 2014 +0200

    Fix CommitLogTest

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51cdeed483d4b00f6cc35d260745019da4c0d113
Merge: 2472701 e77ea12
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Mon Jun 30 14:31:52 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit e77ea1252092bc0e589cfbc2341c2194cb750b08
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Mon Jun 30 14:30:55 2014 +0100

    Optimise CellName/Composite comparisons for NativeCell
    
    patch by Jake Luciani and Benedict Elliott Smith for CASSANDRA-6755

 .../org/apache/cassandra/db/NativeCellTest.java    | 80 ++++++++++++++++++++++
 .../apache/cassandra/db/composites/CTypeTest.java  |  9 ---
 .../cassandra/db/filter/ColumnSliceTest.java       |  4 +-
 3 files changed, 82 insertions(+), 11 deletions(-)

commit 2472701e119416aa391fe76eaf56112f0cecbe4f
Merge: 6477286 5c85699
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Mon Jun 30 13:02:44 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit 5c8569976e4ff8892860191644a82a55c4db2253
Merge: 73a07da da3606e
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Mon Jun 30 13:02:34 2014 +0100

    Merge branch 'cassandra-2.1.0' into cassandra-2.1

commit da3606e180411e88774a9f24e7884147a202fea8
Author: Benedict Elliott Smith <benedict@apache.org>
Date:   Mon Jun 30 13:00:42 2014 +0100

    Merge commit failure policy into 2.1
    
    patch by Benedict Elliott Smith; reviewed by Marcus Eriksson for CASSANDRA-7429

 .../org/apache/cassandra/db/CommitLogTest.java     | 31 ++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 73d517d6dfbec9e1ed0813e6a1f1989d53b102f5
Merge: 8e7ed61 ef4a07b
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Jun 27 12:14:31 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit ef4a07b4b62eb448b6c1752250896fc861ff29a4
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Jun 27 12:13:02 2014 -0500

    Adjust MT depth based on # of partitions validating
    
    patch by yukim; reviewed by jbellis for CASSANDRA-5263

 test/unit/org/apache/cassandra/repair/ValidatorTest.java      | 10 ++++++----
 .../unit/org/apache/cassandra/service/SerializationsTest.java | 11 ++++++-----
 2 files changed, 12 insertions(+), 9 deletions(-)

commit ae0f63463d5ff4e49b6dfa209d03dfaa98105d56
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Jun 26 10:08:53 2014 -0500

    Expose global CF metrics
    
    Patch by Chris Lohfink, reviewed by brandonwilliams for CASSANDRA-7273

 test/unit/org/apache/cassandra/db/KeyspaceTest.java | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit c9cef44a1a6c10036200f410c8a26942e64c8f12
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jun 26 10:40:22 2014 +0200

    Support Thrift tables clustering columns on CqlPagingInputFormat
    
    patch by pauloricardomg; reviewed by alexliu68 for CASSANDRA-7445

 .../cassandra/pig/ThriftColumnFamilyTest.java      | 61 +++++++++++++++++++---
 1 file changed, 53 insertions(+), 8 deletions(-)

commit 8322ec27ca182315ff53f6ce8dbbbde9e9fe793d
Merge: eb39639 23893ea
Author: Jake Luciani <jake@apache.org>
Date:   Wed Jun 25 17:46:07 2014 -0400

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	build.xml
    	test/unit/org/apache/cassandra/cli/CliTest.java

commit 23893ead557989bb74d699e1028c9c6a1b689f3b
Author: Jake Luciani <jake@apache.org>
Date:   Wed Jun 25 17:09:31 2014 -0400

    Paralellize the unit tests
    
    patch by tjake; reviewed by thobbs for CASSANDRA-7442

 .../cassandra/OffsetAwareConfigurationLoader.java  | 63 ++++++++++++++++++++++
 test/unit/org/apache/cassandra/cli/CliTest.java    |  3 +-
 2 files changed, 65 insertions(+), 1 deletion(-)

commit 005835e08f8c96ced4f876f169e8c657751a8b81
Merge: 18f062c 1569bd9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 24 22:14:22 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 1569bd9c4b7af1099a922f16e6873cdff6bf4f07
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 23 13:25:59 2014 -0500

    clean out in_memory_compaction_limit
    patch by jbellis; reviewed by ayeschenko for CASSANDRA-7428

 .../apache/cassandra/db/RangeTombstoneTest.java    |  13 +-
 .../cassandra/db/compaction/CompactionsTest.java   | 142 ++++++++++-----------
 2 files changed, 67 insertions(+), 88 deletions(-)

commit 18f062cf041c65cdb8f8e8626bec9bd4e30541a2
Merge: 5001e98 a224e58
Author: Jake Luciani <jake@apache.org>
Date:   Tue Jun 24 15:36:16 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit a224e583ab2fcda98b0428ab0c41d6bb6e5ee09a
Author: Jake Luciani <jake@apache.org>
Date:   Tue Jun 24 15:35:46 2014 -0400

    ninja fix busted test

 test/unit/org/apache/cassandra/cql3/DeleteTest.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 5b8ac8cbc5ff9e0dffb6ebc0485e0e2bc2a679fe
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Jun 24 13:06:53 2014 -0500

    Expose global CF metrics
    
    Patch by Chris Lohfink, reviewed by brandonwilliams for CASSANDRA-7273

 test/unit/org/apache/cassandra/db/KeyspaceTest.java | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 94ff639429a65acb5f122ed559e98dd60a40e42d
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Jun 24 13:05:27 2014 -0500

    Expose global CF metrics
    
    Patch by Chris Lohfink, reviewed by brandonwilliams for CASSANDRA-7273

 test/unit/org/apache/cassandra/db/KeyspaceTest.java | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit e2bef02e254a9c6e37a86cab957a1fcba56214fd
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jun 23 18:59:48 2014 +0200

    Update versions for 2.1.0-rc2 release

 .../org/apache/cassandra/cql3/ContainsRelationTest.java | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit e88c83006a9ff479be07f8e1bd377526a4bf8369
Merge: d2a3827 ee401cf
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Jun 20 15:23:46 2014 -0700

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/cql3/DeleteTest.java

commit ee401cf8131a779069805cbe9ef4ab05d4a63b9a
Author: Jake Luciani <jake@apache.org>
Date:   Fri Jun 20 15:16:12 2014 -0700

    Allow counter mutations in UNLOGGED batches
    
    patch by tjake; reviewed by Aleksey Yeschenko for CASSANDRA-7351

 .../unit/org/apache/cassandra/cql3/BatchTests.java | 145 +++++++++++++++++++++
 .../unit/org/apache/cassandra/cql3/DeleteTest.java |  27 ++--
 2 files changed, 163 insertions(+), 9 deletions(-)

commit d2a3827a65f208eae7aed129dcb6dc582ac1f3d5
Author: lyubent <ltodorov@dundee.ac.uk>
Date:   Fri Jun 20 12:55:35 2014 -0500

    Reduce unit test times due to schema loading
    
    Patch by Lyuben Todorov; reviewed by Tyler Hobbs for CASSANDRA-6968

 .../apache/cassandra/db/LongFlushMemtableTest.java |  22 +-
 .../org/apache/cassandra/db/LongKeyspaceTest.java  |  26 +-
 .../cassandra/db/commitlog/ComitLogStress.java     |   1 +
 .../db/compaction/LongCompactionsTest.java         |  24 +-
 .../LongLeveledCompactionStrategyTest.java         |  29 +-
 .../cassandra/AbstractSerializationsTester.java    |   2 +-
 test/unit/org/apache/cassandra/SchemaLoader.java   |  83 ++---
 .../cassandra/cache/AutoSavingCacheTest.java       |  25 +-
 .../apache/cassandra/cache/CacheProviderTest.java  |  22 +-
 test/unit/org/apache/cassandra/cli/CliTest.java    |  36 ++-
 .../apache/cassandra/config/CFMetaDataTest.java    |  27 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |  58 +++-
 .../unit/org/apache/cassandra/cql3/DeleteTest.java |   4 +-
 .../cassandra/db/ArrayBackedSortedColumnsTest.java |  22 +-
 .../apache/cassandra/db/BatchlogManagerTest.java   |  45 ++-
 test/unit/org/apache/cassandra/db/CleanupTest.java |  19 +-
 .../cassandra/db/CollationControllerTest.java      |  29 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 346 ++++++++++++---------
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  50 ++-
 .../org/apache/cassandra/db/CommitLogTest.java     |  49 ++-
 .../org/apache/cassandra/db/CounterCacheTest.java  |  29 +-
 .../org/apache/cassandra/db/CounterCellTest.java   |   2 +-
 .../apache/cassandra/db/CounterMutationTest.java   |  58 ++--
 .../org/apache/cassandra/db/HintedHandOffTest.java |  18 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  25 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |  21 +-
 .../unit/org/apache/cassandra/db/KeyspaceTest.java | 120 ++++---
 .../org/apache/cassandra/db/MultitableTest.java    |  38 ++-
 .../unit/org/apache/cassandra/db/NameSortTest.java |  32 +-
 .../apache/cassandra/db/RangeTombstoneTest.java    |  21 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  44 ++-
 .../apache/cassandra/db/RecoveryManager2Test.java  |  27 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |  38 ++-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  55 +++-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  25 +-
 .../org/apache/cassandra/db/RemoveCellTest.java    |  25 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |  25 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  25 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  25 +-
 .../org/apache/cassandra/db/RemoveSubCellTest.java |  34 +-
 .../unit/org/apache/cassandra/db/RowCacheTest.java |  49 ++-
 .../org/apache/cassandra/db/RowIterationTest.java  |  20 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |  27 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  65 ++--
 .../apache/cassandra/db/SerializationsTest.java    |  20 +-
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  53 ++--
 .../db/compaction/AntiCompactionTest.java          |  21 +-
 .../db/compaction/BlacklistingCompactionsTest.java |  22 +-
 .../db/compaction/CompactionsPurgeTest.java        |  51 ++-
 .../cassandra/db/compaction/CompactionsTest.java   |  60 ++--
 .../compaction/LeveledCompactionStrategyTest.java  |  55 ++--
 .../cassandra/db/compaction/OneCompactionTest.java |  29 +-
 .../SizeTieredCompactionStrategyTest.java          |  24 +-
 .../cassandra/db/compaction/TTLExpiryTest.java     |  39 ++-
 .../db/index/PerRowSecondaryIndexTest.java         |  26 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    |  37 ++-
 .../db/marshal/DynamicCompositeTypeTest.java       |  35 ++-
 .../org/apache/cassandra/dht/BootStrapperTest.java |  12 +-
 .../cassandra/io/BloomFilterTrackerTest.java       |   3 +-
 .../io/sstable/IndexSummaryManagerTest.java        |  56 +++-
 .../cassandra/io/sstable/LegacySSTableTest.java    |  17 +-
 .../cassandra/io/sstable/SSTableLoaderTest.java    |  26 +-
 .../cassandra/io/sstable/SSTableMetadataTest.java  |  59 +++-
 .../cassandra/io/sstable/SSTableReaderTest.java    |  68 ++--
 .../cassandra/io/sstable/SSTableScannerTest.java   |  17 +-
 .../io/sstable/SSTableSimpleWriterTest.java        |  24 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  14 +-
 .../locator/OldNetworkTopologyStrategyTest.java    |   3 +-
 .../ReplicationStrategyEndpointCacheTest.java      |  19 +-
 .../cassandra/locator/SimpleStrategyTest.java      |  20 +-
 .../apache/cassandra/repair/DifferencerTest.java   |  23 +-
 .../org/apache/cassandra/repair/ValidatorTest.java |  19 +-
 .../service/AntiEntropyServiceCounterTest.java     |   4 +-
 .../service/AntiEntropyServiceStandardTest.java    |   4 +-
 .../service/AntiEntropyServiceTestAbstract.java    |  22 +-
 .../service/EmbeddedCassandraServiceTest.java      |  23 +-
 .../cassandra/service/LeaveAndBootstrapTest.java   | 139 +++++----
 .../org/apache/cassandra/service/MoveTest.java     | 102 +++---
 .../apache/cassandra/service/QueryPagerTest.java   |  46 ++-
 .../org/apache/cassandra/service/RelocateTest.java |   1 -
 .../org/apache/cassandra/service/RemoveTest.java   |   1 -
 .../apache/cassandra/service/RowResolverTest.java  |  43 ++-
 .../apache/cassandra/service/StorageProxyTest.java |   3 +-
 .../streaming/StreamTransferTaskTest.java          |  23 +-
 .../cassandra/streaming/StreamingTransferTest.java |  54 +++-
 .../apache/cassandra/thrift/MultiSliceTest.java    |  22 +-
 .../cassandra/thrift/ThriftValidationTest.java     |  40 ++-
 .../apache/cassandra/tools/SSTableExportTest.java  |  63 ++--
 .../apache/cassandra/tools/SSTableImportTest.java  |  42 ++-
 .../cassandra/triggers/TriggersSchemaTest.java     |  10 +-
 .../apache/cassandra/triggers/TriggersTest.java    |  10 +-
 .../apache/cassandra/utils/EncodedStreamsTest.java |  33 +-
 92 files changed, 2380 insertions(+), 924 deletions(-)

commit 51016876ab7015a3c6f3747943c0387b14cc1322
Merge: e77b70e 9dcdb8b
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Fri Jun 20 12:00:48 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 9dcdb8b0b5bb5c92986b16380d650373c7f819d6
Merge: 2fe6de6 9da742d
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Fri Jun 20 12:00:20 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	src/java/org/apache/cassandra/cql3/TypeCast.java
    	src/java/org/apache/cassandra/cql3/statements/Selection.java

commit 9da742d5f83e1b2563be1c0d45a0e3d65a38ec44
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Fri Jun 20 11:48:04 2014 -0500

    Accept subtypes for function results, type casts
    
    Patch by Tyler Hobbs; reviewed by Sylvain Lebresne for CASSANDRA-6766

 test/unit/org/apache/cassandra/cql3/TypeTest.java | 144 ++++++++++++++++++++++
 1 file changed, 144 insertions(+)

commit 23c2fa8c89ce67ebdb8f211a4c1dd8e2148bc785
Merge: 295fe5d 6858dd3
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Jun 19 11:59:19 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit 6858dd3e3ab354c517503d310e50319be93cf6a2
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Jun 19 11:54:33 2014 -0700

    Modify reconcile logic to always pick a tombstone over a counter cell
    
    patch by Aleksey Yeschenko; reviewed by Sylvain Lebresne for
    CASSANDRA-7346

 test/unit/org/apache/cassandra/Util.java           |  5 ---
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 39 ++++++++++++++++++++--
 .../org/apache/cassandra/db/CounterCellTest.java   | 20 ++++-------
 .../apache/cassandra/utils/EncodedStreamsTest.java | 10 +++---
 4 files changed, 48 insertions(+), 26 deletions(-)

commit 7d8ba3be55ff0800dc0f7fdcc3f4dded1ed02770
Merge: 4155033 3ff7a77
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Thu Jun 19 10:08:31 2014 +0200

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java

commit 3ff7a776a76d5ca9c3ee569067896f6098075885
Merge: baf524f 303ff22
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Thu Jun 19 09:51:28 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/ColumnFamily.java
    	src/java/org/apache/cassandra/db/compaction/LazilyCompactedRow.java

commit 303ff22dd608d4971a12de52f91184dcd82895c0
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Thu Jun 19 08:50:27 2014 +0200

    Account for range tombstones in min/max column names
    
    Patch by Oleg Anastasyev, reviewed by marcuse for CASSANDRA-7235

 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 12 +++
 .../cassandra/db/compaction/CompactionsTest.java   | 97 +++++++++++++++++++++-
 2 files changed, 108 insertions(+), 1 deletion(-)

commit 93c99a65e70cd21c8b4e26c161b990b0155449b9
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Wed Jun 18 23:30:02 2014 -0400

    switch external naming of 'column families' to 'tables'
    
    patch by dbrosius reviewed by jbellis for cassandra-7369

 test/unit/org/apache/cassandra/Util.java            | 2 +-
 test/unit/org/apache/cassandra/config/DefsTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 8c9d243803241d1cd880742cfb3aa1759c26f2fc
Merge: 1e81923 43d248f
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Jun 18 12:58:00 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit 43d248f913b5cc9a7a3f33ef133de1d9307e18f1
Merge: cf9b8c9 760441b
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Jun 18 12:57:32 2014 -0700

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/BatchlogManagerTest.java

commit 760441ba0f0f536934a611ff1f55f30e658d2a1d
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Jun 18 12:53:19 2014 -0700

    Fix BatchlogManagerTest consistency
    
    patch by Carl Yeksigian; reviewed by Michael Shuler for CASSANDRA-7397

 test/unit/org/apache/cassandra/db/BatchlogManagerTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 704469d95f3e2842eb174d887330eea682774e4e
Merge: 805a4ae 5e90091
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Jun 17 17:42:59 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit 5e90091d1ef940bcba65a87bf14fc1e809503627
Merge: a3dc7b8 7801aab
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Jun 17 17:42:32 2014 -0700

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	src/java/org/apache/cassandra/db/index/SecondaryIndexManager.java

commit 7801aab8c0945005735d81f64e248c85d057a4ec
Merge: cee1f67 febf385
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Jun 17 17:15:31 2014 -0700

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/index/SecondaryIndexManager.java

commit febf3854bfa507c092ad5d35e3fe2d536ca78ce1
Author: Sam Tunnicliffe <sam@beobal.com>
Date:   Tue Jun 17 16:25:29 2014 -0700

    Don't insert tombstones that hide indexed values into 2i
    
    patch by Sam Tunnicliffe; reviewed by Aleksey Yeschenko for
    CASSANDRA-7268

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 55 ++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit 5bd5e25fbbb490acd047adf495f75ae1ca49cf0f
Merge: 45afe1d a14a01c
Author: Jake Luciani <jake@apache.org>
Date:   Mon Jun 16 16:12:27 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit a14a01c924e4db8e084ba313149d35149dc53825
Author: Jake Luciani <jake@apache.org>
Date:   Mon Jun 16 16:10:06 2014 -0400

    Fix memtable copy bug causing rangetombstones to be missed
    
    patch by tjake; reviewed by benedict got CASSANDRA-7371

 .../unit/org/apache/cassandra/cql3/DeleteTest.java | 148 +++++++++++++++++++++
 1 file changed, 148 insertions(+)

commit 8ff5262f0d77ce9b350cdde599bf847f9f28a395
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jun 13 16:14:42 2014 -0500

    Use RandomStringGenerator instead of WordGenerator so BitSetTest passes
    on windows.
    
    Patch by Ala' Alkhaldi, reviewed by Joshua McKenzie for CASSANDRA-7060

 test/unit/org/apache/cassandra/utils/BitSetTest.java | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 1637498a5df7ce5f68471c9b2c0746ad8659d554
Merge: ac75774 68c9265
Author: Mikhail Stepura <mishail@apache.org>
Date:   Thu Jun 12 11:11:05 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit 68c92652aec5934c5050520f060c07a91057c3c0
Author: Mikhail Stepura <mishail@apache.org>
Date:   Mon Jun 9 11:40:33 2014 -0700

    Handle SliceQueryFilter with empty bounds in CompositesSearcher
    
    patch by Mikhail Stepura; reviewed by Sylvain Lebresne for CASSANDRA-7372

 .../cassandra/cql3/ContainsRelationTest.java       | 63 ++++++++++++++++++++++
 1 file changed, 63 insertions(+)

commit 5a9b1b4c1b2b5f97195f20bf8b4c917c54552f21
Merge: 9aace48 99594cd
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Jun 11 17:43:29 2014 -0500

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/utils/CounterIdTest.java

commit 99594cd6879c73da78d05a56232427936d2ee5d7
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Jun 11 17:21:35 2014 -0500

    Use node's host id in place of counter ids
    
    patch by Aleksey Yeschenko; reviewed by Sylvain Lebresne for
    CASSANDRA-7366

 .../org/apache/cassandra/utils/CounterIdTest.java  | 49 ----------------------
 1 file changed, 49 deletions(-)

commit 99ba549d0dc378295292c870ed1b68cb757bafc9
Merge: 2306fb8 78e91c4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jun 5 08:40:27 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 78e91c4cacb7128a994a7a8ca16f5a9e20b576ce
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu May 29 16:16:53 2014 +0200

    Reduce run time for CQL tests
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-7327

 test/unit/org/apache/cassandra/SchemaLoader.java   |  7 +-
 test/unit/org/apache/cassandra/cql3/CQLTester.java | 74 ++++++++++++++++++++--
 2 files changed, 71 insertions(+), 10 deletions(-)

commit e91bf8f3ea89d44fdf377a6eff146c745be28f83
Merge: d4f63aa 8436ee6
Author: Mikhail Stepura <mishail@apache.org>
Date:   Fri May 30 11:00:14 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit c108ce5bf2abc88077c97924def59fa1ea98a66e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri May 30 17:27:53 2014 +0200

    Licenses and versions in preparation of 2.1rc1 release

 .../org/apache/cassandra/thrift/MultiSliceTest.java     | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit feccbc8e474d4a11fd6caba4b34a80b5079d573f
Merge: 62b3c1e ee950b4
Author: belliottsmith <github@sub.laerad.com>
Date:   Thu May 29 22:39:25 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit ee950b4103459740329dd91b07738b4e6003f977
Author: belliottsmith <github@sub.laerad.com>
Date:   Thu May 29 22:37:50 2014 +0100

    Revert flush directory (CASSANDRA-6357)
    
    Patch by Jonathan Ellis; reviewed by Benedict Elliott Smith

 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java   | 14 +++++++-------
 test/unit/org/apache/cassandra/db/DirectoriesTest.java   | 16 +++++++---------
 .../cassandra/io/sstable/SSTableSimpleWriterTest.java    |  2 +-
 3 files changed, 15 insertions(+), 17 deletions(-)

commit 62b3c1ea6cc39d3a36956f18d19918184f03322c
Merge: e3df7e2 5420b7a
Author: belliottsmith <github@sub.laerad.com>
Date:   Thu May 29 22:31:47 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit 5420b7a2296d230e7fd5bc2f41fc6472a9c8b55e
Author: belliottsmith <github@sub.laerad.com>
Date:   Thu May 29 22:16:03 2014 +0100

    More efficient executor service for fast operations
    
    Patch by Benedict Elliott Smith; reviewed by Jason Brown for CASSANDRA 4718

 .../concurrent/LongSharedExecutorPoolTest.java     | 228 +++++++++++++++++++++
 .../org/apache/cassandra/repair/ValidatorTest.java |   2 +-
 2 files changed, 229 insertions(+), 1 deletion(-)

commit c4e090754eff8cbcb584759ac945c50e0c20b6bb
Merge: 1465fe1 77f06b8
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu May 29 13:28:27 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 77f06b8c7c2e5d448b52d847240963d8666f2cab
Merge: 743becb 6574de5
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu May 29 13:28:01 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
    	test/unit/org/apache/cassandra/cql3/MultiColumnRelationTest.java

commit 6574de53429e923121e1ee6df197bfa149208742
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu May 29 12:56:12 2014 -0500

    Fix bound building for multi-column IN restrictions
    
    Patch by Tyler Hobbs and Sylvain Lebresne as a follow up on
    CASSANDRA-6875

 .../cassandra/cql3/MultiColumnRelationTest.java    | 64 +++++++++++++++++++++-
 1 file changed, 63 insertions(+), 1 deletion(-)

commit 56c2f0ab110e2dadb6557de9bc6614829fdc5172
Merge: 4b9fde9 0932ed6
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu May 29 11:36:28 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 0932ed670c66ca2f8c5dc1450b85590738b773c9
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri May 23 09:53:07 2014 +0200

    Tuple types
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-7248

 test/unit/org/apache/cassandra/SchemaLoader.java   |   14 +-
 test/unit/org/apache/cassandra/cql3/CQLTester.java |  472 +++++++
 .../cassandra/cql3/MultiColumnRelationTest.java    | 1434 ++++++--------------
 .../org/apache/cassandra/cql3/TupleTypeTest.java   |   97 ++
 4 files changed, 992 insertions(+), 1025 deletions(-)

commit bf2000404dc18641edf70dd231f5beeda1b88b04
Merge: d079c76 5767757
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed May 28 16:44:29 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 5767757abc98759c7c3cf955b03e972d29fda633
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed May 28 16:43:26 2014 -0500

    Fix DataOutputTest on Windows
    
    Patch by Ala' Alkhaldi; review by Joshua McKenzie for CASSANDRA-7265

 test/unit/org/apache/cassandra/io/util/DataOutputTest.java | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 235bae7b30154ad442510d448c8d826cdc287cb1
Merge: d151b40 e9e91d7
Author: Jake Luciani <jake@apache.org>
Date:   Wed May 28 13:55:32 2014 -0400

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	interface/cassandra.thrift
    	src/java/org/apache/cassandra/thrift/CassandraServer.java
    	test/unit/org/apache/cassandra/thrift/MultiSliceTest.java

commit e9e91d7b505d5c76cf099b7792a1c884276b56c0
Author: Jake Luciani <jake@apache.org>
Date:   Wed May 28 13:14:43 2014 -0400

    Handle overlapping multislices in thrift and cql
    
    Patch by pcmanus and tjake; reviewed by tjake for CASSANDRA-7279

 .../cassandra/db/filter/ColumnSliceTest.java       | 137 +++++++++++++++++++--
 .../apache/cassandra/thrift/MultiSliceTest.java    |  20 ++-
 2 files changed, 143 insertions(+), 14 deletions(-)

commit 7f63b1f958f0f502f04d24f8d820d29bd484786d
Author: Jake Luciani <jake@apache.org>
Date:   Tue May 27 11:27:17 2014 -0400

    Backport MultiSliceRequest
    
    Patch by Ed Capriolo; Reviewed by tjake for CASSANDRA-7027

 .../apache/cassandra/thrift/MultiSliceTest.java    | 149 +++++++++++++++++++++
 1 file changed, 149 insertions(+)

commit 1b62f3d39b219e7678b849c22a9980fa6a8805a7
Merge: 8ffb9cc 86b6ec5
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue May 27 10:45:47 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 86b6ec529979ceeeb2ae15704b82f18beb1258b2
Merge: 8602fe8 367c741
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue May 27 10:43:50 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java

commit 367c741931c2a20eb2213650313dc238e8b0f3aa
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue May 27 10:20:29 2014 +0200

    Add option to do more aggressive tombstone compaction.
    
    Patch by pauloricardomg; reviewed by marcuse for CASSANDRA-6563

 .../cassandra/db/compaction/CompactionsTest.java   | 104 ++++++++++++++++++---
 1 file changed, 89 insertions(+), 15 deletions(-)

commit e5ab470d527c86cfa8347739eeb76c9ef1b5aa9b
Merge: 864865d bf52190
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu May 22 14:20:49 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit bf5219000be9c03daa1dc4fb420b031f6ffec01d
Merge: 9bd3887 4349638
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu May 22 14:19:42 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/cql3/Cql.g
    	src/java/org/apache/cassandra/cql3/Lists.java
    	src/java/org/apache/cassandra/cql3/QueryProcessor.java
    	src/java/org/apache/cassandra/cql3/Relation.java
    	src/java/org/apache/cassandra/cql3/ResultSet.java
    	src/java/org/apache/cassandra/cql3/statements/BatchStatement.java
    	src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
    	src/java/org/apache/cassandra/cql3/statements/Restriction.java
    	src/java/org/apache/cassandra/cql3/statements/SelectStatement.java

commit 43496384d404f2fa0af943003f2dc8fdfced4073
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu May 22 14:04:48 2014 -0500

    Support multi-row selects within a partition using IN
    
    Patch by Tyler Hobbs; review by Sylvain Lebresne for CASSANDRA-6875

 .../cassandra/cql3/MultiColumnRelationTest.java    | 1112 ++++++++++++++++++++
 1 file changed, 1112 insertions(+)

commit 5f643ffcc3ebdb9ba4295bb09098790914df7b9b
Merge: d4bf6d3 1147ee3
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu May 22 14:46:33 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 1147ee3a81e483b26b4b8c5d7cc7e55fcc2baeec
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed May 14 14:25:29 2014 +0200

    Use prepared statement internally
    
    patch by slebresne; reviewed by mishail for CASSANDRA-6975

 .../org/apache/cassandra/db/BatchlogManagerTest.java |  8 ++++----
 .../org/apache/cassandra/db/HintedHandOffTest.java   |  6 +++---
 test/unit/org/apache/cassandra/db/ScrubTest.java     | 10 +++++-----
 .../db/compaction/CompactionsPurgeTest.java          | 20 ++++++++++----------
 .../cassandra/io/sstable/CQLSSTableWriterTest.java   |  2 +-
 .../cassandra/service/LeaveAndBootstrapTest.java     |  4 ++--
 .../org/apache/cassandra/service/QueryPagerTest.java |  4 ++--
 .../org/apache/cassandra/triggers/TriggersTest.java  |  4 ++--
 8 files changed, 29 insertions(+), 29 deletions(-)

commit 6581abfae5f3dc06a7a555bdc8b16fcde6f38970
Merge: decc308 dd6a229
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 21 13:21:10 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit dd6a2295991be002e2fb85201b43297a105bd1a4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 21 13:21:05 2014 -0500

    fix CliTest on Windows
    patch by Josh McKenzie; reviewed by jbellis for CASSANDRA-7194

 test/unit/org/apache/cassandra/cli/CliTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 91741025cd81d3d62408edcac25c29ae23adb2a0
Merge: a519c0a e024a1c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed May 21 17:54:27 2014 +0200

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/marshal/TimeUUIDType.java
    	src/java/org/apache/cassandra/db/marshal/UUIDType.java

commit e024a1cc2ba9e50f1272ad76cb34582e38c256be
Merge: 82be86a 2635632
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed May 21 17:49:40 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java
    	src/java/org/apache/cassandra/db/commitlog/CommitLogAllocator.java

commit 2635632270289fbbab2f3e3181f20aa98c34a879
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed May 21 17:29:12 2014 +0200

    Add missing iso8601 patterns for date strings
    
    patch by chander; reviewed by slebresne for CASSANDRA-6973

 .../serializers/TimestampSerializerTest.java       | 77 ++++++++++++++++++++++
 1 file changed, 77 insertions(+)

commit 484d2816940cd2eb22d2365fcb376dd27e059e2e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed May 21 11:48:21 2014 +0200

    Fix flapping RecoveryManagerTest
    
    patch by benedict; reviewed by jbellis for CASSANDRA-7084

 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java | 3 +++
 1 file changed, 3 insertions(+)

commit c89c37802ab2ba1902b511323dafebce328e1f00
Merge: 406c338 a42b4e5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 20 22:47:51 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit a42b4e584842a3104652fa2c0092f9306f935f26
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 20 22:47:46 2014 -0500

    fix DirectoriesTest for Windows
    patch by Josh McKenzie; reviewed by jbellis for CASSANDRA-7251

 test/unit/org/apache/cassandra/db/DirectoriesTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f987e361eae6a17234ddae74f189edcb6f03dd29
Merge: d1f1b8e ba08eb3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 19 22:46:47 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit ba08eb3577dfe00885b024e66738d294f431129b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 19 22:46:40 2014 -0500

    fix CFSTest on Windows
    patch by Josh McKenzie; reviewed by jbellis for CASSANDRA-7195

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 5b53013322e47729121dc03716aa35ccc7aca1f4
Merge: 308f2c0 590b3b2
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon May 19 12:30:26 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 590b3b23ac2db333048c52c5323b78d0630605ae
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon May 19 12:28:49 2014 +0200

    Validate method for CollectionType
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-7208

 .../cassandra/db/marshal/CollectionTypeTest.java   | 93 ++++++++++++++++++++++
 1 file changed, 93 insertions(+)

commit 9d06ea6f144c3a1327d9c1322f1543067852701e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon May 5 11:19:13 2014 +0200

    Fixup for CASSANDRA-6914: null handling, ...
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-7155

 .../cassandra/db/marshal/CollectionTypeTest.java   | 116 +++++++++++++++++++++
 1 file changed, 116 insertions(+)

commit 7879e7f9b6f0d95b85f24923bb93229ab129fca2
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Fri May 16 06:34:38 2014 -0400

    minor nit: use the keyspace parameter

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4b8f667d047963882f5b4140267d2bab449a0aee
Merge: 3cb7361 4ee3721
Author: Jake Luciani <jake@apache.org>
Date:   Wed May 14 09:06:34 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit 0f977c597a6b70984de96bcc49474acdb12ad2ea
Author: Jake Luciani <jake@apache.org>
Date:   Wed May 14 08:37:34 2014 -0400

    Fix CellName comparison bugs
    
    Patch by tjake; reviewed by bes for CASSANDRA-7227

 .../apache/cassandra/db/composites/CTypeTest.java  | 123 +++++++++++++++++++++
 1 file changed, 123 insertions(+)

commit 17afc08d6eea030655784b87ebef493ede69747b
Merge: b7d5f5a 361ad68
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri May 9 10:13:08 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 361ad681ecdde12e299026ccee5e17c184f943d8
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri May 9 10:12:16 2014 -0500

    More aggressive waiting in KeyCacheTest
    
    Patch by Benedict, reviewed by brandonwilliams for CASSANDRA-7167

 test/unit/org/apache/cassandra/db/KeyCacheTest.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit b7d5f5a16a656e36f11d26b69e423c29ea31a04e
Merge: 70d18cd 259e17d
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri May 9 10:05:46 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 259e17df3bd39d1cedf5e3a40c88b1d0d8efdc33
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri May 9 10:04:55 2014 -0500

    Fix hardcoded overhead size in commit log test.
    
    Patch by Benedict, reviewed by brandonwilliams for CASSANDRA-6974

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6e793428078bad65c7e6abf0a1829cef7dfc3c93
Merge: 1753f37 3b299c4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu May 8 18:00:07 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 3b299c4ca123e66172163bacc05e7ce8e096164c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu May 8 17:59:52 2014 +0200

    Fix CollectionTypeTest

 .../org/apache/cassandra/db/marshal/CollectionTypeTest.java  | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit ddd2ff7d63c9a9977eb2dd25936cecbb2ecd1cfb
Merge: f3945bc 3aa41fb
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon May 5 09:28:12 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 706afc300d9b298cb9456671a514cc9580b94ecc
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon May 5 09:20:18 2014 +0200

    Fixup for CASSANDRA-6831 on 2.1

 test/unit/org/apache/cassandra/config/ColumnDefinitionTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f7df2fec8464a587aed963e642352454f94dd0ff
Merge: aca945d f486193
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sun May 4 03:33:51 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit f486193ab5654881986a7f7b655fee3aedabad15
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sun May 4 03:33:03 2014 +0300

    Move BatchlogEndpointSelector to BatchlogManager.EndpointFilter + minor refactorings

 .../service/BatchlogEndpointFilterTest.java        | 117 +++++++++++++++++++++
 .../service/BatchlogEndpointSelectorTest.java      | 116 --------------------
 2 files changed, 117 insertions(+), 116 deletions(-)

commit 2b674656e955ec466e5d1fb60d2d7d567c3d459b
Merge: 53c9142 b53442b
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Sat May 3 13:53:38 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit b53442b20cd0b74a84e88e1ba578621984eb1ecd
Merge: 3411535 3047ab6
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Sat May 3 13:51:13 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit 3047ab63875b3ac5dd716bddd5eb3e321af09eaf
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Sat May 3 13:46:20 2014 -0500

    Add Cloudstack snitch
    
    Patch by Pierre-Yves Ritschard, reviewed by brandonwilliams for
    CASSANDRA-7147

 .../cassandra/locator/CloudstackSnitchTest.java    | 111 +++++++++++++++++++++
 1 file changed, 111 insertions(+)

commit 6f4853e78a289c5fd55c523290309b6e87f2014b
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Sat May 3 13:43:40 2014 -0500

    Add Cloudstack snitch
    
    Patch by Pierre-Yves Ritschard, reviewed by brandonwilliams for
    CASSANDRA-7147

 .../cassandra/locator/CloudstackSnitchTest.java    | 111 +++++++++++++++++++++
 1 file changed, 111 insertions(+)

commit b8c0199c33567184043afeff83924a313e69d22f
Merge: a44ba68 8e897de
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 2 22:49:44 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 8e897de68716e47c0341dc6aaa94a2ab4a7e519c
Merge: 9432870 af96d40
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 2 22:49:31 2014 -0500

    merge from 2.1

commit af96d405b42a9e4ae23cba841b7a5d83ee8f7ec8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 2 22:47:27 2014 -0500

    Make batchlog replica selection rack-aware
    patch by Mikhail Stepura; reviewed by jbellis for CASSANDRA-6551

 .../service/BatchlogEndpointSelectorTest.java      | 116 +++++++++++++++++++++
 1 file changed, 116 insertions(+)

commit ad404512dd30b4c0030e94c78fee4179ea683708
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu May 1 18:45:15 2014 -0500

    Add Google Compute Engine snitch
    
    Patch by Brian Lynch, reviewed by brandonwilliams for CASSANDRA-7132

 .../cassandra/locator/GoogleCloudSnitchTest.java   | 84 ++++++++++++++++++++++
 1 file changed, 84 insertions(+)

commit 0ed57bf5317ad259f39f4d3ff97a651d5c18d7cc
Merge: f0def34 44fa2cd
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu May 1 17:51:54 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 44fa2cdb48cf6b4e589d5c48f5c57f0a93c03b60
Author: Joshua McKenzie <josh.mckenzie@datastax.com>
Date:   Thu May 1 17:51:12 2014 -0500

    Parallel streaming for sstableloader
    
    patch by Joshua Mckenzie; reviewed by yukim for CASSANDRA-3668

 test/unit/org/apache/cassandra/streaming/SessionInfoTest.java       | 6 +++---
 .../unit/org/apache/cassandra/streaming/StreamTransferTaskTest.java | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 742682833259e0bd48243211253dd6a2469e95e2
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu May 1 16:40:17 2014 -0500

    fix GCS test for 2.0

 test/unit/org/apache/cassandra/locator/GoogleCloudSnitchTest.java | 1 -
 1 file changed, 1 deletion(-)

commit c2579b92bf2e721c099720a27b5d9e56be66e49c
Merge: f74063c 5bd6a75
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu May 1 15:19:15 2014 -0500

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	CHANGES.txt

commit 5bd6a756e10b4e869f1babb3bb6f9dfb223bd75e
Merge: 1491f75 f2bbd6f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu May 1 15:14:34 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit f2bbd6fcc670b9cb2eecbe0d2964d7e4b785e543
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu May 1 15:12:55 2014 -0500

    Add Google Compute Engine snitch.
    
    Patch by Brian Lynch, reviewed by brandonwilliams for CASSANDRA-7132

 .../cassandra/locator/GoogleCloudSnitchTest.java   | 108 +++++++++++++++++++++
 1 file changed, 108 insertions(+)

commit b35486a19b43eebd3be1d2fec6a827db0903c8cb
Merge: cf3f5b6 4485e6d
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Apr 30 21:14:09 2014 +0200

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/cql/QueryProcessor.java
    	test/unit/org/apache/cassandra/db/compaction/CompactionsPurgeTest.java

commit 4485e6dbfed89c9137a58412210e56ae88cfe217
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Apr 30 21:06:46 2014 +0200

    Optimize Cell liveness checks and clean up Cell
    
    patch by Aleksey Yeschenko; reviewed by Benedict Elliott Smith for
    CASSANDRA-7119

 test/unit/org/apache/cassandra/db/ColumnFamilyTest.java   |  5 +++--
 test/unit/org/apache/cassandra/db/CounterCellTest.java    |  8 ++++----
 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java |  2 +-
 test/unit/org/apache/cassandra/db/RemoveCellTest.java     | 14 ++++++--------
 test/unit/org/apache/cassandra/db/RemoveSubCellTest.java  |  5 +++--
 test/unit/org/apache/cassandra/db/RowTest.java            |  5 +++--
 .../cassandra/db/compaction/CompactionsPurgeTest.java     |  6 +++---
 .../cassandra/db/index/PerRowSecondaryIndexTest.java      | 15 +++++----------
 .../unit/org/apache/cassandra/service/QueryPagerTest.java |  2 +-
 9 files changed, 29 insertions(+), 33 deletions(-)

commit 6b4d980357de573f9128c3a065a6d11c54a3b571
Merge: ad34247 9872b74
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 30 20:22:53 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 9872b74ef20018e4e7645a8952fd7295e75764ad
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Mar 12 18:58:55 2014 +0100

    Native protocol v3
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-6855

 .../apache/cassandra/transport/SerDeserTest.java   | 217 +++++++++++++++++++++
 1 file changed, 217 insertions(+)

commit d9f06a3be095a6576974533d921a14819e43a91e
Merge: c06ba25 2269adb
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 30 11:36:04 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 2269adba6c28e24f60883700f657d36fff7b9d3f
Merge: 6b5b7f5 b433722
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 30 11:35:15 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/config/CFMetaData.java
    	test/unit/org/apache/cassandra/config/CFMetaDataTest.java

commit b4337228df7178183a643a8f201e9389cab36ab3
Merge: 90d086a 1052749
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 30 11:24:21 2014 +0200

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/thrift/CassandraServer.java

commit e02d5b354fb25f37580ad1c96453d225104f1a8e
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Apr 29 20:07:07 2014 -0500

    fix comment

 test/unit/org/apache/cassandra/db/ScrubTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1b51bec1455265de050fa85f1a2f90c26d28f591
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Apr 29 21:07:09 2014 -0400

    fix compile

 test/unit/org/apache/cassandra/db/ArrayBackedSortedColumnsTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7d7610fdb3fecda4868bb86a302d7e3707608300
Merge: b2ef564 8541cca
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Apr 29 14:07:34 2014 +0200

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/cql/QueryProcessor.java

commit 8541cca718fc324c2545831fc945247a4aeb3437
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Mon Apr 14 14:16:08 2014 -0700

    Push more of memtable data off-heap
    
    patch by benedict & xedin; reviewed by benedict, iamaleksey & xedin for CASSANDRA-6694

 .../apache/cassandra/db/LongFlushMemtableTest.java |   2 +-
 .../org/apache/cassandra/db/LongKeyspaceTest.java  |   2 +-
 .../db/compaction/LongCompactionsTest.java         |   2 +-
 .../LongLeveledCompactionStrategyTest.java         |   2 +-
 test/unit/org/apache/cassandra/Util.java           |   8 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |  17 +-
 .../cassandra/db/ArrayBackedSortedColumnsTest.java |  20 +--
 .../cassandra/db/CollationControllerTest.java      |  12 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  86 +++++------
 .../org/apache/cassandra/db/CounterCacheTest.java  |   4 +-
 .../org/apache/cassandra/db/CounterCellTest.java   |  80 +++++-----
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |   4 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |  10 +-
 .../unit/org/apache/cassandra/db/KeyspaceTest.java |  38 ++---
 .../org/apache/cassandra/db/MultitableTest.java    |   4 +-
 .../org/apache/cassandra/db/NativeCellTest.java    | 171 +++++++++++++++++++++
 .../apache/cassandra/db/RangeTombstoneTest.java    |   9 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  10 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |   4 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  10 +-
 .../org/apache/cassandra/db/RemoveCellTest.java    |   8 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   4 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   4 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   4 +-
 .../org/apache/cassandra/db/RemoveSubCellTest.java |  10 +-
 .../unit/org/apache/cassandra/db/RowCacheTest.java |   2 +-
 .../org/apache/cassandra/db/RowIterationTest.java  |   8 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |   2 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |   4 +-
 .../cassandra/db/SecondaryIndexCellSizeTest.java   |  15 +-
 .../apache/cassandra/db/SerializationsTest.java    |  31 ++--
 .../unit/org/apache/cassandra/db/TimeSortTest.java |   8 +-
 .../db/compaction/AntiCompactionTest.java          |   6 +-
 .../db/compaction/BlacklistingCompactionsTest.java |   2 +-
 .../db/compaction/CompactionsPurgeTest.java        |  34 ++--
 .../cassandra/db/compaction/CompactionsTest.java   |  18 +--
 .../compaction/LeveledCompactionStrategyTest.java  |   8 +-
 .../cassandra/db/compaction/OneCompactionTest.java |   2 +-
 .../SizeTieredCompactionStrategyTest.java          |   4 +-
 .../cassandra/db/compaction/TTLExpiryTest.java     |  16 +-
 .../cassandra/db/context/CounterContextTest.java   |  13 --
 .../db/index/PerRowSecondaryIndexTest.java         |   8 +-
 .../io/sstable/IndexSummaryManagerTest.java        |   6 +-
 .../cassandra/io/sstable/IndexSummaryTest.java     |  10 +-
 .../cassandra/io/sstable/SSTableLoaderTest.java    |   2 +-
 .../cassandra/io/sstable/SSTableMetadataTest.java  |  30 ++--
 .../cassandra/io/sstable/SSTableReaderTest.java    |  13 +-
 .../cassandra/io/sstable/SSTableScannerTest.java   |   8 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |   2 +-
 .../org/apache/cassandra/repair/ValidatorTest.java |   3 +-
 .../apache/cassandra/service/QueryPagerTest.java   |   4 +-
 .../service/pager/AbstractQueryPagerTest.java      |   2 +-
 .../cassandra/streaming/StreamingTransferTest.java |  20 +--
 .../apache/cassandra/tools/SSTableExportTest.java  |   6 +-
 .../apache/cassandra/tools/SSTableImportTest.java  |   6 +-
 .../cassandra/triggers/TriggerExecutorTest.java    |  14 +-
 .../apache/cassandra/triggers/TriggersTest.java    |   8 +-
 57 files changed, 486 insertions(+), 354 deletions(-)

commit 0d533ef4047a24e37348ba4b6665678e7ac23de1
Merge: 5476088 a4f5794
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Fri Apr 25 15:22:15 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit a4f5794222f2a69ea4502085f928e3d413dba1d7
Author: belliottsmith <github@sub.laerad.com>
Date:   Fri Apr 25 15:21:39 2014 +0200

    Fix KeyCacheTest

 test/unit/org/apache/cassandra/db/KeyCacheTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit cf74bcfc63f75c8ae188f804f3f42ef5cfc8379a
Merge: e6325fa 647bfc6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 23 22:00:29 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 647bfc6d7985a9e07734315424fa6cc89e587df3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 23 22:00:13 2014 -0500

    make sstable2json output more readable, and remove support for supercolumn json (CASSANDRA-7078)
    patch by jbellis; reviewed by ayeschenko for CASSANDRA-7078

 .../apache/cassandra/tools/SSTableExportTest.java  | 40 +++--------------
 .../apache/cassandra/tools/SSTableImportTest.java  | 51 ----------------------
 2 files changed, 6 insertions(+), 85 deletions(-)

commit 3e6aa753e31ae604f29feb38dd4ce4a13c2d85e2
Merge: ec7206c 072b488
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Apr 23 21:15:29 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 072b488cfcc4603d467bee6ea601c16cf92efc3e
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Apr 23 21:09:54 2014 +0200

    Followup to CASSANDRA-6916 - fix bug in cleanup and add unit test.

 test/unit/org/apache/cassandra/db/CleanupTest.java | 30 ++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit ec7206ce6a50d2ca03ac23f8ba6ec8eea9cfe6d8
Merge: f22e775 1f52122
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Apr 23 22:07:10 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit 1f5212278378bda5623c48eaef39f4a54aef2e49
Merge: 4e95953 c1eb74c
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Apr 23 22:06:48 2014 +0300

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/service/StorageProxy.java
    	src/java/org/apache/cassandra/triggers/TriggerExecutor.java
    	test/unit/org/apache/cassandra/triggers/TriggersTest.java

commit c1eb74ce47988c1e75d20ccb9a0320dd305c4b1c
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Apr 23 21:30:36 2014 +0300

    Merge groupable mutations in TriggerExecutor#execute()
    
    patch by Aleksey Yeschenko and Sergio Bossa for CASSANDRA-7047

 .../cassandra/triggers/TriggerExecutorTest.java    | 332 +++++++++++++++++++++
 .../apache/cassandra/triggers/TriggersTest.java    |  39 ++-
 2 files changed, 349 insertions(+), 22 deletions(-)

commit f22e775fbe1d2f08faa59045a2b3c66dd7209a23
Merge: 7e27b55 4e95953
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Apr 23 16:28:30 2014 +0200

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/cql/AlterTableStatement.java
    	src/java/org/apache/cassandra/cql/CreateColumnFamilyStatement.java
    	test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java

commit 4e95953f29d89a441dfe06d3f0393ed7dd8586df
Author: belliottsmith <github@sub.laerad.com>
Date:   Wed Apr 23 15:16:09 2014 +0100

    Preemptive open of compaction results
    
    Patch by benedict; reviewed by marcuse for CASSANDRA-6916

 .../db/compaction/LongCompactionsTest.java         |  2 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 64 +++++++++++++++++-----
 .../org/apache/cassandra/db/DirectoriesTest.java   | 23 +++++---
 .../unit/org/apache/cassandra/db/KeyCacheTest.java | 21 ++++++-
 test/unit/org/apache/cassandra/db/ScrubTest.java   | 23 ++++----
 .../compress/CompressedRandomAccessReaderTest.java | 19 ++++---
 .../cassandra/io/sstable/LegacySSTableTest.java    |  2 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  2 +-
 .../sstable/metadata/MetadataSerializerTest.java   |  5 +-
 .../apache/cassandra/io/util/DataOutputTest.java   |  2 +-
 .../compress/CompressedInputStreamTest.java        |  2 +-
 11 files changed, 113 insertions(+), 52 deletions(-)

commit bf14e5b16c4f781158605ccc9e490913fee20cd7
Merge: 8bc7ab1 32369eb
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Apr 22 18:51:08 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit 32369eb6d91a6af9ad798a67ad44d3b1e4182c83
Merge: c320cb3 93edb12
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Apr 22 18:50:46 2014 +0300

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/AtomicSortedColumns.java
    	test/unit/org/apache/cassandra/db/RangeTombstoneTest.java

commit 93edb123a1ba30a54d42ac2f944e39a84e9b8a70
Author: beobal <sam@beobal.com>
Date:   Tue Apr 15 17:27:25 2014 +0100

    Fix performance regression from CASSANDRA-5614
    
    patch by Sam Tunnicliffe; reviewed by Aleksey Yeschenko for
    CASSANDRA-6949

 .../apache/cassandra/db/RangeTombstoneTest.java    | 60 +++-------------------
 1 file changed, 7 insertions(+), 53 deletions(-)

commit 47e81bf37540df69dde7a2c32cc75dbba476765f
Merge: b1ea0aa 44f4e79
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 22 08:47:31 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 44f4e790196ff6425255cd12cfd100ddf9415524
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 22 08:47:11 2014 -0500

    fix CLTest post-#6764
    patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-6764

 .../org/apache/cassandra/db/CommitLogTest.java     | 38 ++++++++++++++++++++--
 1 file changed, 36 insertions(+), 2 deletions(-)

commit 498eb2ab77d748b5b638b82450edd968fe5ca73a
Merge: 68aa62b a2e7435
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 22 07:27:42 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit a2e74354ca51809a11b62dd7995c026807683b0a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 22 07:27:20 2014 -0500

    Add range tombstones to read repair digests
    patch by Oleg Anastasyev; reviewed by jbellis for CASSANDRA-6863

 test/unit/org/apache/cassandra/Util.java           |  7 ++++
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 46 +++++++++++++++++++++-
 test/unit/org/apache/cassandra/db/RowTest.java     | 40 +++++++++++++++++--
 3 files changed, 88 insertions(+), 5 deletions(-)

commit e100288123b055021d9b8873ab86f0dbf5fc9f22
Merge: 4d06917 66af6fe
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Apr 18 03:16:14 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit 66af6fedc02eed630028043f8a6f0d3014f193d5
Merge: de8a479 384de4b
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Apr 18 03:14:47 2014 +0300

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	build.xml
    	debian/changelog
    	src/java/org/apache/cassandra/db/BatchlogManager.java
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java
    	src/java/org/apache/cassandra/db/HintedHandOffManager.java
    	src/java/org/apache/cassandra/db/SystemKeyspace.java
    	src/java/org/apache/cassandra/service/StorageProxy.java
    	test/unit/org/apache/cassandra/db/BatchlogManagerTest.java

commit 384de4b85d93dd3a5d23fcc93bcd0f55aba59941
Merge: 7dbbe92 8709706
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Apr 18 02:40:19 2014 +0300

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/db/BatchlogManager.java
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java
    	src/java/org/apache/cassandra/db/HintedHandOffManager.java
    	src/java/org/apache/cassandra/db/RowMutation.java
    	src/java/org/apache/cassandra/db/commitlog/CommitLogReplayer.java
    	src/java/org/apache/cassandra/service/StorageProxy.java
    	test/unit/org/apache/cassandra/db/BatchlogManagerTest.java
    	test/unit/org/apache/cassandra/db/HintedHandOffTest.java

commit 87097066e7c3c133e333804c4e4b00457b6c989d
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Apr 18 01:36:08 2014 +0300

    Fix batchlog to account for CF truncation records
    
    patch by Aleksey Yeschenko; reviewed by Jonathan Ellis for
    CASSANDRA-6999

 .../apache/cassandra/db/BatchlogManagerTest.java   | 78 ++++++++++++++++++++--
 .../org/apache/cassandra/db/HintedHandOffTest.java |  2 +-
 2 files changed, 73 insertions(+), 7 deletions(-)

commit c18ce589efdf480ad4623298ffb7038eb4091afb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 7 15:51:35 2014 -0500

    Move sstableRandomAccessReader to nio2
    patch by Josh McKenzie; reviewed by Benedict Elliott Smith for CASSANDRA-4050

 .../io/util/BufferedRandomAccessFileTest.java      | 38 ----------------------
 1 file changed, 38 deletions(-)

commit 64bc45849fd2a488b766ca9ddfe8456dae50a187
Merge: 0015f37 5ebadc1
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Fri Apr 4 15:37:58 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 5ebadc11e36749e6479f9aba19406db3aacdaf41
Author: belliottsmith <github@sub.laerad.com>
Date:   Fri Apr 4 15:37:09 2014 -0500

    Ensure safe resource cleanup when replacing SSTables
    
    Patch by belliotsmith; reviewed by Tyler Hobbs for CASSANDRA-6912

 .../io/sstable/IndexSummaryManagerTest.java        |  2 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    | 28 +++++++++++++++-------
 2 files changed, 20 insertions(+), 10 deletions(-)

commit 0015f37a3fa6ff34a63566e253433dbc4d3cf384
Merge: f4e8fc3 57b18e6
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Apr 4 17:39:20 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit 57b18e600c6d79d19d29f3569b81cb946ef9ee57
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Apr 4 17:36:15 2014 +0300

    Track presence of legacy counter shards in sstables
    
    patch by Aleksey Yeschenko; reviewed by Marcus Eriksson for
    CASSANDRA-6888

 .../cassandra/io/sstable/SSTableMetadataTest.java  | 77 ++++++++++++++++++----
 1 file changed, 66 insertions(+), 11 deletions(-)

commit 9eb16ae5b37bd02914dc00643e87e3e0bc7af85e
Merge: 4bc9b47 9cd6823
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Apr 3 16:28:53 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 9cd68230b2430a2782d2b7062eaa7ed4f3437d62
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Apr 3 16:28:45 2014 -0500

    fix test compile

 test/unit/org/apache/cassandra/streaming/StreamTransferTaskTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4bc9b47fab02067b28711ac790a095d30f540245
Merge: 345772d afc4e2e
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Apr 3 16:19:51 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit afc4e2eb20e9918595356173af0cfc32bba142bf
Merge: 3a51a7e 04fd84c
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Apr 3 16:19:42 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1

commit 04fd84c3d536a82b1e20a6295bc09d9250b76d29
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Apr 3 16:17:44 2014 -0500

    Fix SSTable not released if stream session fails
    
    patch by yukim; reviewed by Richard Low for CASSANDRA-6818

 .../streaming/StreamTransferTaskTest.java          | 80 ++++++++++++++++++++++
 1 file changed, 80 insertions(+)

commit 345772dd8f40c4bd091bd6f5796156d8d9c588f9
Merge: 106b43d 3a51a7e
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Apr 3 16:14:17 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 3a51a7e83a7227ebaeacc6098a6ee7875f536c65
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Apr 3 16:12:54 2014 -0500

    Fix bad merge of 6825 into cassandra-2.1
    
    Patch by Tyler Hobbs; reviewed by Aleksey Yeschenko for CASSANDRA-6978

 test/unit/org/apache/cassandra/db/filter/ColumnSliceTest.java | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 106b43d4479a48f89e09f0563732b7df33b0d386
Merge: 51380e7 e6e596d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 3 16:00:39 2014 -0500

    merge from 2.1

commit e6e596d1a86272b70d759aad18f561e84e2854be
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 3 14:55:07 2014 -0500

    Fix BTree.clear for large updates
    patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-6943

 .../org/apache/cassandra/utils/LongBTreeTest.java  | 60 ++++++++++++++++++---
 .../unit/org/apache/cassandra/utils/BTreeTest.java | 61 +++++++++++++++++++++-
 2 files changed, 112 insertions(+), 9 deletions(-)

commit 6e9140ab6004e6eb6eac6f05073d158a40c0645f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 2 20:36:56 2014 -0500

    optimize fetching multiple cells by name from CF
    patch by Benedict Elliott Smith; reviewed by jbellis and ayeschenko for CASSANDRA-6933

 .../org/apache/cassandra/utils/LongBTreeTest.java  | 96 ++++++++++++++++++++++
 .../cassandra/db/ArrayBackedSortedColumnsTest.java | 43 ++++++++++
 2 files changed, 139 insertions(+)

commit 4be915fa97c5c57da9b60325077be1f998fc2d47
Merge: 23f1859 5b56106
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 17:54:03 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 5b561067df2ef11c603c616a4bf8b6aa63f66440
Merge: 895c68e 05b0882
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 17:53:55 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1

commit 05b08822c0aa060eb7ec5afd234e459f8f5ea05e
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 17:53:47 2014 -0500

    Add forgotten test

 .../cassandra/metrics/LatencyMetricsTest.java      | 50 ++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit 43d35a651c83e52113bbf25b405c3329dc963e58
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 17:53:19 2014 -0500

    Add forgotten test

 .../cassandra/metrics/LatencyMetricsTest.java      | 51 ++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit 0e98f5bd4c410d9ad453ee2000e941593a01e99f
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Apr 2 15:17:48 2014 -0500

    Handle short slice start/finishes of different lengths
    
    Patch by Tyler Hobbs; reviewed by Sylvain Lebresne as a follow-up for
    CASSANDRA-6825

 test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java | 4 ++++
 1 file changed, 4 insertions(+)

commit 6fe526a56eeaa340ea2b319a54cb4fca21440bf2
Merge: c732447 c6dbba1
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 14:53:52 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit c6dbba1bbd2cf52bf3173c920e4526e9365a9d42
Merge: e34d1af 4f47a44
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 14:53:42 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1

commit e34d1af963b85c46afc973221a296498eaba8264
Merge: 5ab1a34 f4f7417
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Apr 2 14:55:48 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	src/java/org/apache/cassandra/db/marshal/CompositeType.java
    	test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java

commit 4f47a44d05a1c9b8e284c2d8c084edb7c0376d1d
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 14:53:25 2014 -0500

    Revert "Don't shut ExpiringMap down."
    
    This reverts commit d4ec31f21eb83502bd523c057bce2d3b249b3d80.
    
    Conflicts:
    	CHANGES.txt

 test/unit/org/apache/cassandra/service/RemoveTest.java | 1 +
 1 file changed, 1 insertion(+)

commit c7324473fe07a92e21d3e8d3762fd0560b36ea5a
Merge: 7051710 5ab1a34
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 2 14:43:25 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 5ab1a341a47d43f74398443f1ec1c17edb95e550
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 2 14:35:54 2014 -0500

    add asserts to make sure we don't call KS.open during startup
    patch by Benedict Elliott Smith; reviewed by jbellis

 test/unit/org/apache/cassandra/SchemaLoader.java      |  7 ++++---
 .../cassandra/config/DatabaseDescriptorTest.java      | 13 +++++++++----
 .../cassandra/io/sstable/CQLSSTableWriterTest.java    | 10 +++++++---
 .../cassandra/io/sstable/LegacySSTableTest.java       | 19 ++++++++++++++-----
 .../cassandra/io/sstable/SSTableLoaderTest.java       |  1 +
 .../org/apache/cassandra/locator/EC2SnitchTest.java   | 12 +++++++-----
 .../cassandra/service/StorageServiceServerTest.java   |  1 +
 7 files changed, 43 insertions(+), 20 deletions(-)

commit f4f7417735e179c73334ecfb3df6aeb1467b6842
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Apr 2 14:27:35 2014 -0500

    Handle short slice start/finishes of different lengths
    
    Patch by Tyler Hobbs; reviewed by Sylvain Lebresne as a follow-up for
    CASSANDRA-6825

 test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java | 4 ++++
 1 file changed, 4 insertions(+)

commit 90387f63bc908b5ed91b47ee33454e85a98886de
Merge: 5b85be0 8234bc1
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 14:16:07 2014 -0500

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	CHANGES.txt

commit 8234bc15fdc63095d0457c9bf6757a750fbbf4f2
Merge: f7e690d d4ec31f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 14:15:41 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit d4ec31f21eb83502bd523c057bce2d3b249b3d80
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Apr 2 14:05:14 2014 -0500

    Don't shut ExpiringMap down.
    
    Patch by Benedict, reviewed by brandonwilliams for CASSANDRA-6948

 test/unit/org/apache/cassandra/service/RemoveTest.java | 1 -
 1 file changed, 1 deletion(-)

commit 500503d6d573eac02dba8332d13ac502648b6ac7
Merge: 3e0dac5 ab1a02c
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Apr 2 13:17:54 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit ab1a02cfa69e0c57579b312202b477e43bb90b45
Merge: 486cc4c b218536
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Apr 2 13:17:18 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
    	src/java/org/apache/cassandra/db/marshal/CompositeType.java
    	test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java

commit b218536dbc55232a73a81f6288d82ef2b0fa0e6f
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Wed Apr 2 12:02:47 2014 -0500

    Fix bad skip of sstables on slice query with composite start/finish
    
    Patch by Tyler Hobbs; reviewed by Sylvain Lebresne for CASSANDRA-6825

 .../cassandra/db/marshal/CompositeTypeTest.java    | 294 +++++++++++++++++++++
 1 file changed, 294 insertions(+)

commit 3e0dac5a443c6e8c089a832ddc05617241cdfb48
Merge: 386ed8f 486cc4c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 2 17:03:15 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 486cc4cc0a1aae49ef8d09fd884d7e4095c05f1b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 2 17:02:49 2014 +0200

    Fix tests post-merge

 test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 04f74a915c41bb7b7263c0ec2304e2d0f7f105c0
Merge: 2eecd40 8afe109
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 2 14:02:31 2014 +0200

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/cql/QueryProcessor.java

commit 8afe1090bc4d04346197be6aa696b3af174f3674
Merge: 92b40fd b42feea
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 2 14:01:43 2014 +0200

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	src/java/org/apache/cassandra/config/CFMetaData.java
    	src/java/org/apache/cassandra/config/Schema.java
    	src/java/org/apache/cassandra/cql/QueryProcessor.java
    	src/java/org/apache/cassandra/cql/SelectStatement.java
    	src/java/org/apache/cassandra/cql/UpdateStatement.java
    	src/java/org/apache/cassandra/db/Column.java
    	src/java/org/apache/cassandra/thrift/ThriftValidation.java
    	src/java/org/apache/cassandra/tools/SSTableExport.java
    	src/java/org/apache/cassandra/tools/SSTableImport.java
    	test/unit/org/apache/cassandra/SchemaLoader.java
    	test/unit/org/apache/cassandra/db/ScrubTest.java
    	test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java
    	test/unit/org/apache/cassandra/tools/SSTableExportTest.java

commit b42feea6432905946083e0e287b3545a5799e4a7
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 2 11:58:00 2014 +0200

    Fix Cassandra 2.0.x validates Thrift columns incorrectly
    
    patch by thobbs and slebresne; reviewed by thobbs and slebresne for CASSANDRA-6892

 test/unit/org/apache/cassandra/SchemaLoader.java   | 18 +++++-
 test/unit/org/apache/cassandra/db/ScrubTest.java   | 67 +++++++++++++++++++++-
 .../cassandra/thrift/ThriftValidationTest.java     | 53 +++++++++++++++--
 .../apache/cassandra/tools/SSTableExportTest.java  | 42 ++++++++++++--
 4 files changed, 167 insertions(+), 13 deletions(-)

commit 3b14239459f2561b49abf2044fd874c939a9b0ff
Merge: 93bd9ec e5639f4
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Apr 1 04:26:04 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit e5639f44c3e5a345026219eb4e5a242aafa957c3
Merge: 2bb30af 0fce7ac
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Apr 1 04:25:40 2014 +0300

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	src/java/org/apache/cassandra/db/BatchlogManager.java

commit 0fce7ace02d19a791916b163eec4212579668799
Merge: 07dc6e1 dc3f22b
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Apr 1 04:22:39 2014 +0300

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	CHANGES.txt
    	NEWS.txt
    	build.xml
    	debian/changelog
    	src/java/org/apache/cassandra/db/BatchlogManager.java
    	src/java/org/apache/cassandra/db/DeletionInfo.java

commit dc3f22b61d988d559d0078c557623d07abef8584
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Apr 1 04:16:48 2014 +0300

    Fix batchlogManager#deleteBatch() use of millisecond timsestamps
    
    patch by Aleksey Yeschenko; reviewed by Pavel Yaskevich for
    CASSANDRA-6822

 test/unit/org/apache/cassandra/db/BatchlogManagerTest.java | 3 +++
 1 file changed, 3 insertions(+)

commit 93bd9ec25382fdd651f9931de924fd1872bdb60b
Merge: cbde967 3632811
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Mar 31 12:36:36 2014 +0200

    Merge branch 'cassandra-2.1' into trunk

commit 3632811fac3222c7e14a625755385fb12f087c5c
Merge: 8e172c8 a79d54e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Mar 31 12:34:24 2014 +0200

    Merge branch 'cassandra-2.1' of https://git-wip-us.apache.org/repos/asf/cassandra into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	NEWS.txt

commit 8e172c8563a995808a72a1a7e81a06f3c2a355ce
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Mar 31 12:30:50 2014 +0200

    Remove 1.2 sstable support in 2.1
    
    patch by slebresne; reviewed by iamaleksey for CASSANDRA-6869

 test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a2a463a66878cd62ecd0ea096b07f806d99f7548
Merge: eeef406 b7ac8f9
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Mar 31 13:11:00 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit b7ac8f96c169a3cfe18dd50ca1f27ce2b21fd78b
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Mar 31 13:09:36 2014 +0300

    Serialize batchlog mutations with the version of the target node
    
    patch by Aleksey Yeschenko; reviewed by Sylvain Lebresne for
    CASSANDRA-6931

 test/unit/org/apache/cassandra/db/BatchlogManagerTest.java | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 516e232c372c0bacdd18b5c80166a55cf95865e4
Merge: fc75fc2 48e8dcc
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Mar 27 19:44:17 2014 +0300

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java

commit 48e8dcc8f0f15864c2ffafd41f54d713dd5e2f3e
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Mar 27 19:33:50 2014 +0300

    Add optimized CF.hasColumns() implementations
    
    patch by Aleksey Yeschenko; reviewed by Benedict Elliott Smith for
    CASSANDRA-6941

 .../unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 10 +++++-----
 test/unit/org/apache/cassandra/db/RowTest.java              | 13 +++++++------
 .../org/apache/cassandra/db/compaction/CompactionsTest.java |  6 +++---
 3 files changed, 15 insertions(+), 14 deletions(-)

commit f31f68957211793f8f29334a577b1f8288e1c830
Merge: a562394 3bb87d1
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Mar 25 14:45:28 2014 -0700

    Merge branch 'cassandra-2.1' into trunk

commit 1a3b5dbcb5fbee5066ceaa2467536119893f7e7f
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Mar 25 14:02:22 2014 -0700

    Add multiple memory allocation options for memtables
    patch by benedict and xedin; reviewed by marcuse and xedin for CASSANDRA-6689

 .../cassandra/db/CollationControllerTest.java      | 13 +++++----
 .../apache/cassandra/db/RangeTombstoneTest.java    | 32 ++++++++++++++--------
 .../cassandra/db/SecondaryIndexCellSizeTest.java   | 13 +++++----
 .../cassandra/db/context/CounterContextTest.java   | 25 ++++++++++++++---
 .../db/index/PerRowSecondaryIndexTest.java         | 14 ++++++----
 5 files changed, 65 insertions(+), 32 deletions(-)

commit f63fafbfa2fefabb8c71643ba096255f7c03056c
Merge: e531464 9ef8815
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Mar 25 00:32:06 2014 -0400

    Merge branch 'cassandra-2.1' into trunk

commit 9ef88156884419bd4bba6f10a24a60a2e7252c37
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Mar 25 00:31:26 2014 -0400

    remove dead code

 test/unit/org/apache/cassandra/db/KeyCollisionTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e5314641a41b9464d04ed156e46465b3c213abe8
Merge: 5f6e780 8a2a0c3
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Mar 24 17:00:00 2014 +0300

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/cql/AlterTableStatement.java
    	src/java/org/apache/cassandra/cql/DropIndexStatement.java
    	src/java/org/apache/cassandra/cql/QueryProcessor.java

commit 8a2a0c3d4ba674e345f9b2f8c8b2dec8f5782254
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Mar 24 16:55:32 2014 +0300

    Clean up OnDiskAtom and implementations
    
    patch by Aleksey Yeschenko; reviewed by Sylvain Lebresne for
    CASSANDRA-6506

 .../org/apache/cassandra/db/CounterCellTest.java   |  39 +++---
 .../cassandra/db/context/CounterContextTest.java   | 138 ++++++++-------------
 .../cassandra/streaming/StreamingTransferTest.java |   3 +-
 3 files changed, 66 insertions(+), 114 deletions(-)

commit 69bfca06f2b048c43b0dc4c3423227946b7f6523
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Mar 24 16:52:38 2014 +0300

    Clean up CFMetaData
    
    patch by Aleksey Yeschenko; reviewed by Sylvain Lebresne for
    CASSANDRA-6506

 test/unit/org/apache/cassandra/config/CFMetaDataTest.java       | 2 +-
 test/unit/org/apache/cassandra/config/DefsTest.java             | 8 ++++----
 test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java | 2 +-
 test/unit/org/apache/cassandra/triggers/TriggersSchemaTest.java | 6 +++---
 4 files changed, 9 insertions(+), 9 deletions(-)

commit 6838790f869dfcd773c83fd0165c699e6984540d
Merge: 6f24097 5baa72f
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Mar 24 12:36:20 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit 5baa72f7f299b4ec190ddb30b897d5519a6a2a75
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Mar 24 12:36:05 2014 +0100

    Remove avro usage in DataOutputTest

 test/unit/org/apache/cassandra/io/util/DataOutputTest.java | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 02aad29e876d78263bc85e9e2ce3fc619b7b7f8d
Merge: 66b304e 7c4a889
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Mar 21 19:09:48 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit 7c4a889491ee4d3774f2e95c24ed7dbcbb62dcb1
Merge: a7c4659 c843b6b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Mar 21 19:09:21 2014 +0100

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java

commit c843b6b85cf828fde16d8d8a04411cba515f715e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Mar 21 19:03:12 2014 +0100

    Fix paging with SELECT DISTINCT
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-6857

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0b68b6dd7edf7627672d93ad8d78ca6434e8c617
Merge: 74290df 269f810
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Fri Mar 21 15:06:03 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit 269f81052e42d36f9a3bee684464543b7074b6b9
Author: belliottsmith <github@sub.laerad.com>
Date:   Fri Mar 21 15:04:36 2014 +0100

    Make OpOrder AutoCloseable
    
    Patch by benedict, reviewed by marcuse for CASSANDRA-6901.

 .../cassandra/concurrent/LongOpOrderTest.java      | 24 +++++++++-------------
 1 file changed, 10 insertions(+), 14 deletions(-)

commit 3d737ecbb37a0b25bb0b80dd87e07b00ca9345f2
Merge: 233cc8b 0bc0db0
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Mar 20 16:50:04 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit 48c9db60526cea38be4a442694b1aa843a85d257
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 20 10:16:20 2014 +0100

    Remove unused import

 test/unit/org/apache/cassandra/db/marshal/CollectionTypeTest.java | 1 -
 1 file changed, 1 deletion(-)

commit 233cc8b29710066c2772b6ffcd9c71a66360fc77
Merge: 335aa9f e62238e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 20 10:13:13 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit e62238e08cc6a916daf85e77cfa79ea0fa0da0dd
Merge: f4b9f16 6e366e3
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 20 10:11:59 2014 +0100

    Merge branch 'cassandra-2.1' of https://git-wip-us.apache.org/repos/asf/cassandra into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit f4b9f16114947e708331899bdb15f8daf5100a3a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 20 10:10:45 2014 +0100

    Add proper compare function for CollectionType (for UDT sake)
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-6783

 .../cassandra/db/marshal/CollectionTypeTest.java   | 116 +++++++++++++++++++++
 1 file changed, 116 insertions(+)

commit 9f057832e3796635eb4fc1f6d757dffed0d47c4e
Merge: 00317fc 75508ec
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Mar 19 18:01:48 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit 75508ec8973972634dca2a41a12a0d1d48e7c3ae
Author: belliottsmith <github@sub.laerad.com>
Date:   Wed Mar 19 17:56:01 2014 +0100

    ByteBuffer write() methods for serializing sstables
    
    Patch by benedict, reviewed by marcuse for CASSANDRA-6781

 .../cassandra/AbstractSerializationsTester.java    |  13 +-
 test/unit/org/apache/cassandra/Util.java           |   6 +-
 .../apache/cassandra/db/SerializationsTest.java    |  15 +-
 .../apache/cassandra/gms/SerializationsTest.java   |   5 +-
 .../cassandra/io/sstable/IndexSummaryTest.java     |  11 +-
 .../sstable/metadata/MetadataSerializerTest.java   |   3 +-
 .../apache/cassandra/io/util/DataOutputTest.java   | 251 +++++++++++++++++++++
 .../org/apache/cassandra/repair/ValidatorTest.java |   4 +-
 .../cassandra/service/SerializationsTest.java      |   3 +-
 .../apache/cassandra/utils/BloomFilterTest.java    |   3 +-
 .../apache/cassandra/utils/ByteBufferUtilTest.java |   8 +-
 .../cassandra/utils/FastByteOperationsTest.java    | 162 +++++++++++++
 .../apache/cassandra/utils/IntervalTreeTest.java   |  14 +-
 .../org/apache/cassandra/utils/MerkleTreeTest.java |   3 +-
 .../apache/cassandra/utils/SerializationsTest.java |   5 +-
 .../cassandra/utils/StreamingHistogramTest.java    |   6 +-
 16 files changed, 468 insertions(+), 44 deletions(-)

commit 2639ac2ae94f8a2d773cf333a2631772df479325
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Mar 18 21:03:50 2014 -0400

    remove dead code

 .../org/apache/cassandra/locator/OldNetworkTopologyStrategyTest.java   | 3 ---
 1 file changed, 3 deletions(-)

commit 283175ee6032a652080f3767fa1fcac0ca74af0e
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Mar 18 20:54:29 2014 -0400

    don't rely on the Integer cache for equality

 test/unit/org/apache/cassandra/utils/BTreeTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit aabc43973eaa097d004e7d2cd09ff1576b38c0eb
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Mar 18 20:50:05 2014 -0400

    prefer assertEquals to assertTrue

 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java | 2 +-
 test/unit/org/apache/cassandra/utils/CounterIdTest.java   | 5 ++---
 2 files changed, 3 insertions(+), 4 deletions(-)

commit a8ac177fb283dfc720cb19c0f5a705314d153442
Merge: 8cedb60 11a9618
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Mar 18 18:15:00 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 11a96184277ef775fe15af0ea3e5bad51dca7a11
Merge: 8440bc5 9269cb8
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Mar 18 18:13:47 2014 -0500

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java

commit 9269cb83ce0bd45eff0f42611d5b5cd4415cba31
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Tue Mar 18 18:03:06 2014 -0500

    Pick unused generations when loading new sstables
    
    patch by Tyler Hobbs; reviewed by Jonathan Ellis for CASSANDRA-6514

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 79 ++++++++++++++++++++++
 1 file changed, 79 insertions(+)

commit 8cedb6079409064b7d550f2b9cb7865394b0323b
Merge: 83f4acc 8440bc5
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Mar 19 00:09:36 2014 +0300

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/triggers/TriggerExecutor.java

commit 8440bc550226b20913d2fc77b8c00ff675f4b8cc
Merge: fc33c95 75ff51e
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Mar 19 00:05:49 2014 +0300

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/triggers/TriggerExecutor.java
    	test/unit/org/apache/cassandra/triggers/TriggersTest.java

commit 75ff51e12485c16f3c408d40f357e07bb26905ea
Author: Sam Tunnicliffe <sam@beobal.com>
Date:   Tue Mar 18 23:42:33 2014 +0300

    Extend triggers to support CAS updates
    
    patch by Sam Tunnicliffe; reviewed by Aleksey Yeschenko for
    CASSANDRA-6882

 .../apache/cassandra/triggers/TriggersTest.java    | 180 +++++++++++++++++++++
 1 file changed, 180 insertions(+)

commit b74c2ade5c7f633262f7c292b21e3f77727a281f
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sun Mar 16 16:23:53 2014 -0400

    use parameterized logging

 .../apache/cassandra/locator/NetworkTopologyStrategyTest.java  |  4 ++--
 .../org/apache/cassandra/streaming/StreamingTransferTest.java  | 10 +++++-----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 8c52cc0e7f67378d66093c958558e765b682888f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Mar 14 14:46:53 2014 -0500

    Fix failing pig test
    
    Patch by Alex Liu, reviewed by brandonwilliams for CASSANDRA-6376

 test/unit/org/apache/cassandra/pig/CqlTableTest.java | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit c0aa7467e579c6952642818a0626b387da9cfc39
Merge: c1647c5 948964b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 12 18:40:17 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 948964b52fc58d6aa08f369be9e2d3a058cfea95
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 12 18:40:06 2014 -0500

    clean up Path and Cursor now that we know stack allocation doesn't work as expected
    patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-6692

 test/long/org/apache/cassandra/utils/LongBTreeTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c1647c59e414565d60d3936fe834106f66c6ef13
Merge: f32c4da 0cb1e3d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 12 18:30:18 2014 -0500

    Merge branch 'cassandra-2.1' into trunk

commit 0cb1e3d248eb3d14f197217256d8ec29c4b3717c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 12 18:29:40 2014 -0500

    apply BTree update function correctly
    patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-6692

 .../unit/org/apache/cassandra/utils/BTreeTest.java | 125 +++++++++++++++++++++
 1 file changed, 125 insertions(+)

commit 6041433108e9968f0612378c22cd96c274554ac5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 12 18:28:11 2014 -0500

    prefer Iterators to CollectionUtils

 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 346d8fb6dd99c86b632a0b99a368231bbd34b0f7
Merge: a03ac8d da444a6
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Mar 12 14:09:16 2014 +0100

    Merge branch 'cassandra-2.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/cql/AlterTableStatement.java
    	src/java/org/apache/cassandra/cql/CreateColumnFamilyStatement.java

commit da444a6903ddd8d02e7b251c8b38faf11d3a5c93
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Mar 12 14:04:47 2014 +0100

    Update syntax for changing caching options.
    
    Patch by marcuse, reviewed by slebresne for CASSANDRA-6745.

 test/unit/org/apache/cassandra/SchemaLoader.java | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 2037a8d7acb4d3a3a44204f077663fbd5869995c
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Mar 11 22:47:11 2014 -0400

    use junit assertions over assert

 .../unit/org/apache/cassandra/config/DefsTest.java | 123 +++++++++++----------
 1 file changed, 62 insertions(+), 61 deletions(-)

commit 2d92f14baaae7f2dd4a61f602896dd3a4abf7d1f
Merge: e185afa b4f262e
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Mar 11 15:33:10 2014 +0300

    Merge branch 'cassandra-2.1' into trunk

commit b4f262e1b0520a683666186d952f9913f568a71b
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Mar 11 15:32:25 2014 +0300

    Fix TriggersTest

 test/unit/org/apache/cassandra/triggers/TriggersTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 362148dd233001e3139b7631a9d4f3b06f51b6f2
Merge: 639ddac f7eca98
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Mar 11 15:20:45 2014 +0300

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/config/CFMetaData.java
    	src/java/org/apache/cassandra/service/StorageProxy.java

commit f7eca98a7487b5e4013fbc07e43ebf0055520856
Author: Sam Tunnicliffe <sam@beobal.com>
Date:   Tue Mar 11 14:55:16 2014 +0300

    Fix trigger mutations when base mutation list is immutable
    
    patch by Sam Tunnicliffe; reviewed by Aleksey Yeschenko for
    CASSANDRA-6790

 .../apache/cassandra/triggers/TriggersTest.java    | 179 +++++++++++++++++++++
 1 file changed, 179 insertions(+)

commit 553401d2fef2a8ab66b2da7a79d865be4dd669d9
Author: Sam Tunnicliffe <sam@beobal.com>
Date:   Tue Mar 11 14:48:53 2014 +0300

    Fix saving triggers to schema
    
    patch by Sam Tunnicliffe; reviewed by Aleksey Yeschenko for
    CASSANDRA-6789

 .../cassandra/triggers/TriggersSchemaTest.java     | 126 +++++++++++++++++++++
 1 file changed, 126 insertions(+)

commit 572d328762bee9100549963a6826fdb9f633af2a
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sat Mar 8 21:38:23 2014 -0500

    simply: no need for iterator to get first item in List

 test/unit/org/apache/cassandra/db/RowIterationTest.java          | 4 ++--
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 9371892374ddb8cc1d495ec4d38554603ec78a3a
Merge: e30d6dc f67b7a4
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Mar 6 11:55:59 2014 -0600

    Merge branch 'cassandra-2.1' into trunk

commit f67b7a477ae08fe7c8be2bb61eeecb0a7cc55e62
Author: Tyler Hobbs <tyler@datastax.com>
Date:   Thu Mar 6 11:22:47 2014 -0600

    Auto reload GossipingPropertyFileSnitch config
    
    Patch by Danield Shelepov, reviewed by Tyler Hobbs for CASSANDRA-5897

 .../locator/GossipingPropertyFileSnitchTest.java   | 59 ++++++++++++++++++++++
 .../locator/YamlFileNetworkTopologySnitchTest.java |  2 +-
 2 files changed, 60 insertions(+), 1 deletion(-)

commit 35e5721f8139a68aa5bba185c862395290f242e0
Merge: 800c62f 872eef3
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 6 10:15:28 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit 872eef3dc6822ef20c137016d92d2fe962f62101
Merge: 5d67e85 ba95ca0
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 6 10:15:19 2014 +0100

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit ba95ca0db52567b875e5be0d10f8523b706385c5
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 6 10:07:51 2014 +0100

    Fix CQLSSTableWriter.addRow(Map<String, Object>)
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-6526

 .../org/apache/cassandra/io/sstable/CQLSSTableWriterTest.java    | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 800c62f3b24c84e9cdded7630b35bffa7d665a6d
Merge: b173ce2 5d67e85
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 6 10:05:49 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit 5d67e852e2de161bec0722f80243a3cefbbc6535
Merge: 4cf8a8a 773fade
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 6 10:05:29 2014 +0100

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/cql3/statements/ColumnGroupMap.java
    	src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
    	src/java/org/apache/cassandra/db/SystemKeyspace.java
    	src/java/org/apache/cassandra/db/filter/NamesQueryFilter.java
    	src/java/org/apache/cassandra/utils/FBUtilities.java
    	test/long/org/apache/cassandra/db/LongKeyspaceTest.java
    	test/unit/org/apache/cassandra/SchemaLoader.java
    	test/unit/org/apache/cassandra/config/DefsTest.java
    	test/unit/org/apache/cassandra/db/CollationControllerTest.java
    	test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
    	test/unit/org/apache/cassandra/db/KeyspaceTest.java
    	test/unit/org/apache/cassandra/db/ReadMessageTest.java
    	test/unit/org/apache/cassandra/db/RecoveryManagerTruncateTest.java
    	test/unit/org/apache/cassandra/db/RemoveCellTest.java
    	test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java
    	test/unit/org/apache/cassandra/tools/SSTableExportTest.java

commit 773fade9aee009170c7062d174f2b78211061fce
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 6 08:54:32 2014 +0100

    FBUtilities.singleton() should use the CF comparator
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-6778

 .../org/apache/cassandra/db/LongKeyspaceTest.java  |  3 +-
 test/unit/org/apache/cassandra/SchemaLoader.java   |  3 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |  7 ++-
 .../cassandra/db/CollationControllerTest.java      |  5 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 67 ++++++++++++++++++----
 .../unit/org/apache/cassandra/db/KeyspaceTest.java |  7 ++-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  4 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  3 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  3 +-
 .../cassandra/io/sstable/LegacySSTableTest.java    |  4 +-
 .../apache/cassandra/tools/SSTableExportTest.java  |  8 ++-
 11 files changed, 87 insertions(+), 27 deletions(-)

commit b173ce207b311a57f288269eebf13375a2459a99
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Wed Mar 5 23:57:37 2014 -0500

    use junit asserts

 .../cassandra/db/compaction/CompactionsTest.java   | 67 ++++++++++++++--------
 1 file changed, 43 insertions(+), 24 deletions(-)

commit 60fb923018a6fd2dabf04a1d4500f7b29a23a6f1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 5 07:57:25 2014 -0600

    add Thrift get_multi_slice call
    patch by Ed Capriolo; reviewed by Tyler Hobbs for CASSANDRA-6757

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   1 +
 .../apache/cassandra/thrift/MultiSliceTest.java    | 149 +++++++++++++++++++++
 2 files changed, 150 insertions(+)

commit 630d3b9c777e4b9e371300f9b3578312412970d0
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Mar 4 21:44:34 2014 -0500

    use junit assertions

 .../cassandra/db/compaction/CompactionsPurgeTest.java    | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 64098f7d6f0b122448693a3c6da16af54c99013b
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Mar 3 15:03:34 2014 +0100

    Fix resetAndTruncate:ing CompressionMetadata
    
    Patch by kvaster, reviewed by marcuse for CASSANDRA-6791

 .../compress/CompressedRandomAccessReaderTest.java | 43 ++++++++++++++++++++++
 1 file changed, 43 insertions(+)

commit 2c8100af210990bf1f15cc6691066787b88e5f25
Merge: e80564f 0439531
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Mar 3 14:39:45 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit 04395312745805ed7e4fd201b88bcd3d46b3a601
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Mar 3 14:39:40 2014 +0100

    Fix merge

 .../apache/cassandra/io/compress/CompressedRandomAccessReaderTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e80564f398c6278f6a6a28943e06ec800d5e68f7
Merge: 7d8092b e4437bc
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Mar 3 14:27:15 2014 +0100

    Merge branch 'cassandra-2.1' into trunk

commit e4437bc1881aa58b6adbf2a9483e827e37ede8d5
Merge: dcca996 41d8a5f
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Mar 3 14:26:40 2014 +0100

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	CHANGES.txt

commit 41d8a5f4861c37ff8e22344418e9277236672c1f
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Mar 3 11:35:03 2014 +0100

    Fix resetAndTruncate:ing CompressionMetadata
    
    Patch by kvaster, reviewed by marcuse for CASSANDRA-6791

 .../compress/CompressedRandomAccessReaderTest.java | 42 ++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 7d8092b6602d2d92bd3ef215153ff5e686fab106
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Mon Mar 3 01:18:52 2014 -0500

    use junit asserts

 .../apache/cassandra/db/RangeTombstoneTest.java    | 25 +++++++++++-----------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit 583041f541e5622ffe8aa569b6c6e4b693649a14
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Feb 26 12:44:29 2014 -0600

    Fix test for change in CASSANDRA-6357

 test/unit/org/apache/cassandra/db/DirectoriesTest.java | 15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit f145fa496ce0264708ff8525dfd45ddfb65a39f1
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 26 15:15:32 2014 +0100

    Fix bad merge

 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b8887975389c5d2120f369cdce6d9083aa7803d2
Merge: 74258e2 5b6d2e4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 26 14:48:21 2014 +0100

    Merge branch 'cassandra-2.1' of https://git-wip-us.apache.org/repos/asf/cassandra into cassandra-2.1

commit 74258e2dc1a9720c4de172d9d2342d552f7ac3f7
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Dec 6 12:34:31 2013 +0100

    Improve handling of range tomsbstones for wide partitions
    
    patch by m0nstermind; reviewed by slebresne for CASSANDRA-6446

 .../cassandra/db/RangeTombstoneListTest.java       |  26 +++---
 .../apache/cassandra/db/RangeTombstoneTest.java    | 102 +++++++++++++++++++++
 .../apache/cassandra/tools/SSTableImportTest.java  |   2 +-
 3 files changed, 116 insertions(+), 14 deletions(-)

commit 5b6d2e40c85f6f9770c03a22e9b11ea5fb0fbe4c
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Feb 25 21:52:16 2014 -0600

    Fix test failing for clearing commit log directory

 .../apache/cassandra/dht/OrderPreservingPartitionerTest.java  | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit d0c38591bbf340ad4e998b66201b8e41a36dba8a
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Feb 25 18:02:18 2014 -0600

    Fix RangeTombstoneTest for CASSANDRA-6640 change

 .../apache/cassandra/db/RangeTombstoneTest.java    | 24 ++++++++++++----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 85f67aa9c647af9353e22bf1b4434e0fa93f23c7
Merge: 47a787a d21c0c9
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Feb 25 10:42:11 2014 -0600

    Merge branch 'cassandra-2.0' into cassandra-2.1

commit d21c0c932c7d962feb958159578cf2cfb471a648
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Feb 25 10:40:58 2014 -0600

    Compare scores of full replica ordering in DES.
    Patch by Tyler Hobbs, reviewed by brandonwilliams for CASSANDRA-6883

 .../locator/DynamicEndpointSnitchTest.java         | 108 ++++++++-------------
 1 file changed, 42 insertions(+), 66 deletions(-)

commit e0857f2dc6d2ad1a35a88a4f33c4d49bd0186727
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Feb 25 10:49:48 2014 +0100

    Fix unit test post-merge

 test/unit/org/apache/cassandra/service/QueryPagerTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3d93053200adc722101958db19d895f6b390f160
Merge: 6f4e0ba cd2c438
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Feb 25 10:45:53 2014 +0100

    Merge branch 'cassandra-2.0' into cassandra-2.1
    
    Conflicts:
    	src/java/org/apache/cassandra/service/pager/AbstractQueryPager.java

commit cd2c43884d600f9d444fbacd05f56c3581c10aa0
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Feb 25 10:31:14 2014 +0100

    Fix paging bug with deleted columns
    
    patch by slebresne; reviewed by iamaleksey for CASSANDRA-6748

 test/unit/org/apache/cassandra/SchemaLoader.java   |  9 ++++-
 .../apache/cassandra/service/QueryPagerTest.java   | 44 ++++++++++++++++++++--
 2 files changed, 49 insertions(+), 4 deletions(-)

commit 9416baa5936ca3efa28b80ebcb9632ea5ae1109e
Merge: f628bd8 f30b772
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 18 11:36:06 2014 -0600

    Merge branch 'cassandra-2.0' into cassandra-2.1

commit f30b772006e43e0c2905638e1e271854f2a71f69
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 18 11:35:53 2014 -0600

    Allow repairing between specific replicas
    patch by Sankalp Kohli; reviewed by Lyuben Todorov for CASSANDRA-6440

 .../service/AntiEntropyServiceTestAbstract.java    | 37 +++++++++++++++++++---
 1 file changed, 33 insertions(+), 4 deletions(-)

commit 5f82aa3b03031c9aa7439b4cb745a6c5641a7b76
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 17 20:40:42 2014 -0600

    optimize AtomicBTree
    patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-6692

 test/long/org/apache/cassandra/utils/LongBTreeTest.java | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 1828b929c2ea11b3a39373cf50dcdb17eecf10d0
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Feb 17 17:23:04 2014 +0100

    Remove now unused depency on snaptree

 .../org/apache/cassandra/utils/LongBTreeTest.java  | 26 +++++-----------------
 1 file changed, 6 insertions(+), 20 deletions(-)

commit 9f148562348d9e3201bb4fab5c6ff4b975b17c50
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Feb 17 17:06:10 2014 +0100

    Versions and licenses in preparation for 2.1.0-beta1 release

 .../cassandra/concurrent/LongOpOrderTest.java       | 21 +++++++++++++++++++++
 .../cassandra/db/commitlog/ComitLogStress.java      | 21 +++++++++++++++++++++
 .../org/apache/cassandra/utils/LongBTreeTest.java   | 21 +++++++++++++++++++++
 .../apache/cassandra/concurrent/WaitQueueTest.java  | 21 +++++++++++++++++++++
 4 files changed, 84 insertions(+)

commit 9639f95923233a1c8647da688d9f0fa4a15b12a7
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sun Feb 16 23:09:57 2014 -0500

    minor cleanups in unit tests

 .../cassandra/AbstractSerializationsTester.java    |  1 -
 test/unit/org/apache/cassandra/EmbeddedServer.java |  3 +--
 test/unit/org/apache/cassandra/Util.java           |  9 +++----
 test/unit/org/apache/cassandra/cli/CliTest.java    |  1 -
 .../DebuggableThreadPoolExecutorTest.java          |  2 +-
 .../unit/org/apache/cassandra/config/DefsTest.java | 30 +++++++++++-----------
 test/unit/org/apache/cassandra/db/CleanupTest.java |  7 ++---
 .../cassandra/db/CollationControllerTest.java      |  5 ----
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 12 ++++-----
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  2 +-
 .../org/apache/cassandra/db/CounterCellTest.java   |  7 +++--
 .../org/apache/cassandra/db/DirectoriesTest.java   |  2 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |  5 ++--
 .../unit/org/apache/cassandra/db/KeyspaceTest.java |  1 -
 .../org/apache/cassandra/db/MultitableTest.java    |  6 +----
 .../cassandra/db/RangeTombstoneListTest.java       |  2 --
 .../org/apache/cassandra/db/ReadMessageTest.java   |  2 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  |  3 +--
 .../apache/cassandra/db/RecoveryManager3Test.java  |  3 +--
 .../apache/cassandra/db/RecoveryManagerTest.java   |  5 ++--
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  3 +--
 .../unit/org/apache/cassandra/db/RowCacheTest.java |  2 --
 .../org/apache/cassandra/db/RowIterationTest.java  |  9 +++----
 test/unit/org/apache/cassandra/db/ScrubTest.java   | 13 +++++-----
 .../apache/cassandra/db/SerializationsTest.java    |  2 --
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  7 +++--
 .../db/compaction/CompactionsPurgeTest.java        | 17 ++++++------
 .../cassandra/db/compaction/CompactionsTest.java   | 10 ++++----
 .../compaction/LeveledCompactionStrategyTest.java  |  3 +--
 .../cassandra/db/compaction/OneCompactionTest.java |  7 +++--
 .../cassandra/db/compaction/TTLExpiryTest.java     |  7 ++---
 .../cassandra/db/marshal/TimeUUIDTypeTest.java     |  7 +++--
 .../cassandra/io/sstable/IndexSummaryTest.java     |  4 +--
 .../cassandra/io/sstable/LegacySSTableTest.java    |  3 +--
 .../cassandra/io/sstable/SSTableMetadataTest.java  |  2 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    | 15 +++++------
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  4 +--
 .../locator/OldNetworkTopologyStrategyTest.java    |  2 +-
 .../cassandra/locator/SimpleStrategyTest.java      | 12 ++++-----
 .../apache/cassandra/repair/DifferencerTest.java   |  2 --
 .../cassandra/serializers/ClientUtilsTest.java     |  3 +--
 .../service/EmbeddedCassandraServiceTest.java      |  3 +--
 .../apache/cassandra/service/InitClientTest.java   |  4 +--
 .../cassandra/service/LeaveAndBootstrapTest.java   |  7 +++--
 .../org/apache/cassandra/service/MoveTest.java     |  7 +++--
 .../org/apache/cassandra/service/RelocateTest.java |  5 ++--
 .../org/apache/cassandra/service/RemoveTest.java   |  2 +-
 .../service/StorageServiceClientTest.java          |  3 +--
 .../service/StorageServiceServerTest.java          |  2 +-
 .../org/apache/cassandra/utils/CounterIdTest.java  |  4 +--
 .../org/apache/cassandra/utils/MerkleTreeTest.java |  1 -
 .../unit/org/apache/cassandra/utils/UUIDTests.java | 19 ++++----------
 52 files changed, 114 insertions(+), 185 deletions(-)

commit 97859b0a74017ec008025feade05d26fc9fc747c
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sat Feb 15 23:28:14 2014 -0500

    remove recursive infinite loop

 test/unit/org/apache/cassandra/db/SerializationsTest.java | 6 ------
 1 file changed, 6 deletions(-)

commit f10148f4f1719f99bc3888b93f5a285c8af997d1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Feb 15 10:11:28 2014 -0600

    Add flush directory distinct from compaction directories
    patch by jbellis and aleksey for CASSANDRA-6357

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java      | 8 ++++----
 test/unit/org/apache/cassandra/db/DirectoriesTest.java            | 8 ++++----
 .../org/apache/cassandra/io/sstable/SSTableSimpleWriterTest.java  | 2 +-
 3 files changed, 9 insertions(+), 9 deletions(-)

commit b0954a0c1a4c3b888eafdd3b7d4c6da293e7a242
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Fri Feb 14 20:04:16 2014 -0500

    remove dead 'withOldCfIds' parm to SchemaLoader

 test/unit/org/apache/cassandra/SchemaLoader.java    | 21 ++++++++-------------
 .../org/apache/cassandra/db/SerializationsTest.java |  2 +-
 2 files changed, 9 insertions(+), 14 deletions(-)

commit ad2f6bb6f7d7d684b8723d76d1a0fb008abf41f0
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Fri Feb 14 19:25:41 2014 -0500

    use floating pt math for floating pt results

 test/unit/org/apache/cassandra/io/sstable/IndexSummaryManagerTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee477cc4ddd1ab8ba4c7c2338d31060119735e7a
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Feb 14 01:34:47 2014 +0300

    Replace index_interval with min/max_index_interval
    
    patch by Tyler Hobbs; reviewed by Aleksey Yeschenko for CASSANDRA-6379

 .../db/compaction/LongCompactionsTest.java         |   2 +-
 test/unit/org/apache/cassandra/SchemaLoader.java   |   3 +-
 .../db/compaction/BlacklistingCompactionsTest.java |   2 +-
 .../io/sstable/IndexSummaryManagerTest.java        | 235 ++++++++++++++++++---
 .../cassandra/io/sstable/IndexSummaryTest.java     |  35 ++-
 .../cassandra/io/sstable/SSTableReaderTest.java    |   6 +-
 6 files changed, 224 insertions(+), 59 deletions(-)

commit 79c6ecccc0760c2c19d3e83f5815307690ec0bdf
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Feb 13 11:44:21 2014 +0300

    Remove CF.resolve()

 test/unit/org/apache/cassandra/db/RowTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4334f99f4bbe0f8361d2063f53b1d10cbc4ba8d0
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Wed Feb 12 21:13:12 2014 -0500

    remove dead params

 .../unit/org/apache/cassandra/db/RangeTombstoneListTest.java |  6 ------
 .../cassandra/locator/OldNetworkTopologyStrategyTest.java    | 12 ++++++------
 2 files changed, 6 insertions(+), 12 deletions(-)

commit 5204575022030ce2e899edf36847fc3744f3d0ca
Author: Aleksey Yeschenko <aleksey@yeschenko.com>
Date:   Tue Feb 11 01:59:15 2014 +0300

    Replace TMBSC usage with ABSC and kill TMBSC

 .../apache/cassandra/db/LongFlushMemtableTest.java |  2 +-
 .../org/apache/cassandra/db/LongKeyspaceTest.java  |  2 +-
 .../apache/cassandra/cache/CacheProviderTest.java  |  4 ++--
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  4 ++--
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 16 ++++++-------
 .../unit/org/apache/cassandra/db/KeyspaceTest.java | 26 +++++++++++-----------
 .../org/apache/cassandra/db/MultitableTest.java    |  4 ++--
 .../apache/cassandra/db/RecoveryManager2Test.java  |  2 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |  4 ++--
 .../apache/cassandra/db/RecoveryManagerTest.java   |  8 +++----
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  2 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |  8 +++----
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  6 ++---
 .../apache/cassandra/db/SerializationsTest.java    |  4 ++--
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  4 ++--
 .../apache/cassandra/service/RowResolverTest.java  | 26 +++++++++++-----------
 .../service/pager/AbstractQueryPagerTest.java      |  2 +-
 .../cassandra/streaming/StreamingTransferTest.java |  8 +++----
 .../apache/cassandra/tools/SSTableExportTest.java  | 14 ++++++------
 .../apache/cassandra/utils/EncodedStreamsTest.java |  6 ++---
 20 files changed, 76 insertions(+), 76 deletions(-)

commit fb1c6b9cded56e63dfcc765515edbc94ee9f67a0
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Feb 11 20:30:57 2014 +0300

    Optimize (rewrite) ArrayBackedSortedColumns
    
    patch by Aleksey Yeschenko; reviewed by Benedict Elliott Smith for
    CASSANDRA-6662

 .../cassandra/db/ArrayBackedSortedColumnsTest.java | 69 ++++++++++++++++++++++
 1 file changed, 69 insertions(+)

commit 0e43885ab24768177cc1e758e1ab69b6dc1b23db
Author: Aleksey Yeschenko <aleksey@yeschenko.com>
Date:   Sun Feb 9 06:22:47 2014 +0300

    ColumnFamily-related cleanups
    
    patch by Aleksey Yeschenko; reviewed by Benedict Elliott Smith for
    CASSANDRA-6662

 .../cassandra/db/ArrayBackedSortedColumnsTest.java | 25 +++++++++-------------
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 15 ++++++-------
 2 files changed, 16 insertions(+), 24 deletions(-)

commit 7a6e5f043670353848fa1373656445c5ca8e4671
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Feb 11 11:16:54 2014 -0600

    fix AntiCompacitonTest

 test/unit/org/apache/cassandra/db/compaction/AntiCompactionTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 9381b8d569ae17cf2760bca266b5253e4bcd6ac2
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Tue Feb 11 13:13:37 2014 +0100

    Add commit_failure_policy.
    
    Patch by belliottsmith, reviewed by marcuse for CASSANDRA-6364
    
    CASSANDRA-6364

 .../org/apache/cassandra/db/CommitLogTest.java     | 32 ++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit 1b8b7b54087dd2dc2aeb2b9a0b06fbb4f13030be
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Feb 10 18:32:06 2014 +0100

    Fix CleanupTest
    
    patch by marcuse, reviewed by jbellis for CASSANDRA-6679

 test/unit/org/apache/cassandra/db/CleanupTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 503a8a865ed60b08e6c512c206a295a6a78f2848
Merge: 861d996 9a6ae96
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Feb 10 18:35:41 2014 +0100

    Merge branch 'cassandra-2.0' into trunk

commit 9a6ae96af725e307d05332554f221c97e10647d1
Merge: b5321d5 4b83a6f
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Feb 10 18:34:43 2014 +0100

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/CleanupTest.java

commit 4b83a6f9d9c00fe662ddb9db4533df8b9b96883d
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Mon Feb 10 18:32:06 2014 +0100

    Fix CleanupTest
    
    patch by marcuse, reviewed by jbellis for CASSANDRA-6679

 test/unit/org/apache/cassandra/db/CleanupTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b75ed1c34b11bfbe7cbb3af72e08d5f9843c2dbe
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Sat Feb 8 13:22:13 2014 +0100

    Add missing files

 .../db/compaction/AntiCompactionTest.java          | 100 +++++++++++++++++++++
 1 file changed, 100 insertions(+)

commit a7b72140b61cf1998963750c21d6f6080f02d6bb
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Sat Feb 8 08:46:24 2014 +0100

    Avoid repairing already repaired data.
    
    Patch by lyubent, yukim and marcuse, reviewed by yukim for CASSANDRA-5153

 .../LongLeveledCompactionStrategyTest.java         |   2 +-
 .../cassandra/AbstractSerializationsTester.java    |   5 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   3 +
 .../compaction/LeveledCompactionStrategyTest.java  | 130 ++++++++++++++++++---
 .../cassandra/io/sstable/LegacySSTableTest.java    |   2 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |   3 +-
 .../sstable/metadata/MetadataSerializerTest.java   |   2 +-
 .../apache/cassandra/repair/DifferencerTest.java   |  16 ++-
 .../org/apache/cassandra/repair/ValidatorTest.java |   4 +-
 .../service/AntiEntropyServiceTestAbstract.java    |   2 +-
 .../cassandra/service/SerializationsTest.java      |   3 +-
 .../cassandra/streaming/StreamingTransferTest.java |   2 +-
 .../apache/cassandra/tools/SSTableExportTest.java  |  15 +--
 13 files changed, 152 insertions(+), 37 deletions(-)

commit 4c0b4fa2e5a65be804d8179c376d672a42f4882b
Merge: 65e09fa 7407cf9
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Feb 7 10:38:10 2014 -0600

    Merge branch 'cassandra-2.0' into trunk

commit 7407cf981b928886a868cb82f899a99dd03fe612
Merge: fe57142 2dd55c7
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Feb 7 10:38:00 2014 -0600

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit 2dd55c7d31829b7746201fd86b647296b0c8ae58
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Feb 7 10:37:36 2014 -0600

    fix race in LeaveAndBootstrapTest

 test/unit/org/apache/cassandra/service/LeaveAndBootstrapTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 5653516e3ae44d95a71717db8eca758c01ee6b46
Merge: ab6eaed cd26f48
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 6 10:08:47 2014 -0600

    Merge branch 'cassandra-2.0' into trunk

commit cd26f48ce88d7db7c05f01ca6fbe82d087b3b3f7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 6 10:08:36 2014 -0600

    Expose bulk loading progress over JMX
    patch by Tyler Hobbs; reviewed by Nick Bailey for CASSANDRA-4757

 test/unit/org/apache/cassandra/io/sstable/SSTableScannerTest.java | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit ab6eaed8f6bdef21323be561a22e9fdb16bbd0fc
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Thu Feb 6 10:08:55 2014 +0100

    Make it possible to cache a configurable amount of rows in row cache.
    
    Patch by pcmanus and marcuse, reviewed by pcmanus for CASSANDRA-5357

 test/unit/org/apache/cassandra/SchemaLoader.java   |  3 +-
 .../unit/org/apache/cassandra/db/RowCacheTest.java | 78 ++++++++++++++++++++++
 2 files changed, 80 insertions(+), 1 deletion(-)

commit 0b738073af5213f41af530414f8bc88201da5248
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Wed Feb 5 21:51:25 2014 -0500

    naming

 .../org/apache/cassandra/service/pager/AbstractQueryPagerTest.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 812504713523c2b8fbff394fbf4448ea30b5e4a3
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Feb 6 04:57:56 2014 +0300

    Replace UnsortedColumns usage with ArrayBackedSortedColumns
    
    patch by Aleksey Yeschenko; reviewed by Sylvain Lebresne for
    CASSANDRA-6630

 .../org/apache/cassandra/db/CounterCacheTest.java  |  2 +-
 .../apache/cassandra/db/CounterMutationTest.java   | 46 ++++++++++++++++------
 2 files changed, 35 insertions(+), 13 deletions(-)

commit 63f110b5e058217c1d7e3d178b367b918ca2f856
Merge: fc91071 728c4fa
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Feb 3 23:32:23 2014 +0300

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/tools/NodeCmd.java
    	src/resources/org/apache/cassandra/tools/NodeToolHelp.yaml

commit 728c4fa9bf2b2c11dbc61c8e5536b1542abc1ccb
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Feb 3 23:01:31 2014 +0300

    Let scrub optionally skip broken counter partitions
    
    patch by Tyler Hobbs; reviewed by Aleksey Yeschenko for CASSANDRA-5930

 test/unit/org/apache/cassandra/db/ScrubTest.java | 81 +++++++++++++++++++++---
 1 file changed, 73 insertions(+), 8 deletions(-)

commit fc91071c01c33500774de83944bf5f937397c089
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Feb 3 11:33:37 2014 -0600

    Improve custom 2i performance and abstraction
    Patch by Miguel Angel Fernandez Diaz, reviewed by Sam Tunnicliffe for
    CASSANDRA-6640

 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java         | 2 +-
 test/unit/org/apache/cassandra/db/SecondaryIndexCellSizeTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 02fb218930aaf35d6c1101c4a2156e4663048fa1
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sun Feb 2 01:17:50 2014 -0500

    unused imports cleanup

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java     | 1 -
 test/unit/org/apache/cassandra/io/sstable/CQLSSTableWriterTest.java   | 4 ----
 test/unit/org/apache/cassandra/io/sstable/IndexHelperTest.java        | 2 --
 test/unit/org/apache/cassandra/io/sstable/IndexSummaryTest.java       | 1 -
 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java  | 1 -
 5 files changed, 9 deletions(-)

commit 3d64d3ad2793a86c8b162ee6a5be0698ac0d2d52
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jan 31 16:47:01 2014 +0100

    Fix potential loss of 2ndary index entry during compaction
    
    patch by slebresne; reviewed by beobal for CASSANDRA-6517

 .../apache/cassandra/db/RangeTombstoneTest.java    | 54 ++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit 0191b359fc18ebb1efa940257729d141c26112d3
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jan 31 16:47:01 2014 +0100

    Fix potential loss of 2ndary index entry during compaction
    
    patch by slebresne; reviewed by beobal for CASSANDRA-6517

 .../apache/cassandra/db/RangeTombstoneTest.java    | 59 ++++++++++++++++++++++
 1 file changed, 59 insertions(+)

commit 9d41638ab4ce9f49c5378c8a6b0eec10ddaec294
Merge: 5200d45 d76ad2e
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 31 09:40:48 2014 -0600

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	build.xml

commit d76ad2e2443d1884473c845ab77d69025560d03c
Merge: bcb294d 5f6c5ce
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 31 09:40:17 2014 -0600

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit 5f6c5ce68f53e8943a171679f595e99ff06afa49
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 31 09:40:06 2014 -0600

    fix fat client tests

 test/unit/org/apache/cassandra/locator/DynamicEndpointSnitchTest.java | 2 +-
 test/unit/org/apache/cassandra/service/InitClientTest.java            | 2 +-
 test/unit/org/apache/cassandra/service/StorageServiceClientTest.java  | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit d8e9bf172f459caed01fadd90be40a9f0857d60b
Merge: 4b54b8a f6a7a5b
Author: Jason Brown <jasedbrown@gmail.com>
Date:   Fri Jan 31 05:46:23 2014 -0800

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java
    	tools/stress/src/org/apache/cassandra/stress/Session.java

commit 9d70cf3b90e703865b4015bb19d171349953d5c7
Merge: 1141cdb 4cb045a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jan 31 13:25:45 2014 +0100

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	.rat-excludes
    	build.xml
    	debian/changelog

commit 6a9314408cbd69ce26c2ba04bf49df7809a911bf
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jan 31 10:45:03 2014 +0100

    Update versions and licenses for 1.2.14 release

 .../org/apache/cassandra/db/BatchlogManagerTest.java    | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 4b54b8acd21999ad4394feb93deb7cca1de445c0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jan 30 17:08:46 2014 -0600

    remove Table.switchlock and introduce o.a.c.utils.memory package
    patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-5549

 .../cassandra/concurrent/LongOpOrderTest.java      | 223 +++++++++++++++++++++
 .../apache/cassandra/db/LongFlushMemtableTest.java |  72 +++++++
 .../apache/cassandra/db/MeteredFlusherTest.java    |  72 -------
 .../org/apache/cassandra/utils/LongBTreeTest.java  |   6 +-
 .../apache/cassandra/cache/CacheProviderTest.java  |   2 +-
 .../org/apache/cassandra/cache/ObjectSizeTest.java | 105 ----------
 .../apache/cassandra/concurrent/WaitQueueTest.java |   2 +-
 .../cassandra/db/ArrayBackedSortedColumnsTest.java |   2 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |   2 +-
 .../org/apache/cassandra/db/CommitLogTest.java     |   6 +-
 .../org/apache/cassandra/db/CounterCellTest.java   |  10 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |   6 +
 .../apache/cassandra/db/RangeTombstoneTest.java    |  16 +-
 .../cassandra/db/SecondaryIndexCellSizeTest.java   |  31 +--
 .../cassandra/db/context/CounterContextTest.java   |  21 +-
 .../db/index/PerRowSecondaryIndexTest.java         |   9 +-
 .../cassandra/streaming/StreamingTransferTest.java |   2 +-
 17 files changed, 360 insertions(+), 227 deletions(-)

commit b5a3303f354492b38a74dea3b49d8e916007ed58
Merge: b1cb582 81fcc33
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jan 30 18:21:53 2014 +0100

    Merge branch 'cassandra-2.0' into trunk

commit 81fcc33d9d483d27d38348f7aed582f3621cedbd
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jan 30 18:17:16 2014 +0100

    Fix SSTableScanner potentially skipping rows during cleanup
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-6638

 .../cassandra/io/sstable/SSTableScannerTest.java   | 30 ++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 1a24611ee378e9afaf990230f0eeef038a10f186
Author: Marcus Eriksson <marcuse@apache.org>
Date:   Wed Jan 29 11:17:54 2014 +0100

    Fix test.

 .../apache/cassandra/service/pager/AbstractQueryPagerTest.java   | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 025b84efd6c79504893c69e8f3860d8ad512f6ca
Merge: 341d6c4 55211bc
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jan 29 10:10:34 2014 +0100

    Merge branch 'cassandra-2.0' into trunk

commit 55211bca799cba0b9bb443c5111102216d416591
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jan 29 10:08:08 2014 +0100

    Fix paging discardFirst IllgalArgumentException
    
    patch by slebresne; reviewed by thobbs for CASSANDRA-6555

 .../service/pager/AbstractQueryPagerTest.java      | 184 +++++++++++++++++++++
 1 file changed, 184 insertions(+)

commit 341d6c48c4c80d1a325a0045f1d7878e53dddc67
Merge: a1ecb12 479bf8a
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Jan 29 00:20:21 2014 -0600

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/ArrayBackedSortedColumns.java

commit 479bf8a1103df7ae3fa6f260df08177b30da3452
Merge: 09ab439 d43f84b
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Jan 29 00:11:49 2014 -0600

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit d43f84bb219b51e9ac5edda04a6a9febf344d57c
Author: Mikhail Stepura <mikhail.stepura@outlook.com>
Date:   Tue Jan 28 15:01:16 2014 -0800

    Fix ABSC reverse iterator's remove() method
    
    patch by Mikhail Stepura; reviewed by Aleksey Yeschenko for
    CASSANDRA-6629

 .../cassandra/db/ArrayBackedSortedColumnsTest.java | 28 ++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit 714c423360c36da2a2b365efaf9c5c4f623ed133
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Jan 24 02:52:43 2014 -0800

    New counters implementation
    
    patch by Aleksey Yeschenko; reviewed by Sylvain Lebresne for
    CASSANDRA-6504

 test/unit/org/apache/cassandra/SchemaLoader.java   |   8 +
 test/unit/org/apache/cassandra/Util.java           |   4 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |   1 -
 test/unit/org/apache/cassandra/db/CleanupTest.java |   5 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   7 +-
 .../org/apache/cassandra/db/CounterCacheTest.java  |  96 +++++++++++
 .../org/apache/cassandra/db/CounterCellTest.java   |  44 ++---
 .../apache/cassandra/db/CounterMutationTest.java   | 180 +++++++++++++++++++--
 .../apache/cassandra/db/RecoveryManagerTest.java   |   2 +-
 .../cassandra/db/context/CounterContextTest.java   |  92 +++++++++--
 .../apache/cassandra/tools/SSTableExportTest.java  |   3 +-
 .../org/apache/cassandra/utils/CounterIdTest.java  |  51 ++++++
 12 files changed, 430 insertions(+), 63 deletions(-)

commit e488e5879dce41518a217eb9de1978149b60867c
Merge: b38a905 a169863
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 24 12:51:10 2014 -0600

    Merge branch 'cassandra-2.0' into trunk

commit a16986374450c0e8c1bd1de8933042998a079f13
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 24 12:50:34 2014 -0600

    Don't check for expireTime is node isn't in REMOVED
    Patch by thobbs, reviewed by brandonwilliams for CASSANDRA-6564

 .../org/apache/cassandra/service/LeaveAndBootstrapTest.java | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit c612a364951c02d95ead41fb54048fa8fcb35265
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 24 12:49:19 2014 -0600

    Don't check for expireTime if node is not in REMOVED
    Patch by thobbs, reviewed by brandonwilliams for CASSANDRA-6564

 .../org/apache/cassandra/service/LeaveAndBootstrapTest.java | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 5c112047f8b47de3b400d96e2d5533cd8004b3bf
Merge: bf14289 8814623
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Jan 17 19:54:30 2014 +0300

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/BatchlogManager.java

commit 88146236988eb66c7396897abe66c05dd6a255f9
Merge: 14c6f70 b0b168f
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Jan 17 19:40:50 2014 +0300

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/db/BatchlogManager.java

commit b0b168f0690f7e1d2c0e3401ea0e74d3bbccd164
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Jan 17 19:24:49 2014 +0300

    Paginate batchlog replay
    
    patch by Aleksey Yeschenko; reviewed by Jonathan Ellis for
    CASSANDRA-6569

 .../apache/cassandra/db/BatchlogManagerTest.java   | 82 ++++++++++++++++++++++
 1 file changed, 82 insertions(+)

commit a0fb58f6f71f9c2739867149b3b298350ad52b4d
Merge: 7faff8d 83cd80b
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Jan 16 22:21:37 2014 +0300

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/CounterCell.java
    	src/java/org/apache/cassandra/db/CounterUpdateCell.java
    	src/java/org/apache/cassandra/db/compaction/LazilyCompactedRow.java
    	src/java/org/apache/cassandra/db/compaction/ParallelCompactionIterable.java
    	src/java/org/apache/cassandra/db/compaction/PrecompactedRow.java
    	src/java/org/apache/cassandra/db/context/CounterContext.java
    	src/java/org/apache/cassandra/io/sstable/AbstractSSTableSimpleWriter.java
    	src/java/org/apache/cassandra/io/sstable/SSTableWriter.java
    	test/unit/org/apache/cassandra/db/CounterColumnTest.java
    	test/unit/org/apache/cassandra/db/CounterMutationTest.java
    	test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java

commit 83cd80b277fa6e73be1c7d66b80669731f0f92c0
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Jan 16 22:07:20 2014 +0300

    Add support for 2.1 global counter shards
    
    patch by Aleksey Yeschenko; reviewed by Sylvain Lebresne for
    CASSANDRA-6505

 .../org/apache/cassandra/db/CounterColumnTest.java | 105 +--
 .../apache/cassandra/db/CounterMutationTest.java   | 115 ----
 .../cassandra/db/context/CounterContextTest.java   | 703 +++++++++++----------
 .../cassandra/streaming/StreamingTransferTest.java |  19 +-
 4 files changed, 416 insertions(+), 526 deletions(-)

commit 8b09061268a4ea94dd617ee53927d06560bbce8e
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Wed Jan 15 16:53:47 2014 -0500

    use junit assertions

 test/unit/org/apache/cassandra/cache/AutoSavingCacheTest.java   | 9 +++++----
 test/unit/org/apache/cassandra/config/ColumnDefinitionTest.java | 9 ++++-----
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 602dd62e5a93ae1ada5d63f8db5cc3e77fe0e5ee
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Wed Jan 15 16:37:55 2014 -0500

    fix build

 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java     |  5 +++++
 .../org/apache/cassandra/db/SecondaryIndexCellSizeTest.java   | 10 ++++++++++
 .../apache/cassandra/db/index/PerRowSecondaryIndexTest.java   | 11 ++++++++---
 3 files changed, 23 insertions(+), 3 deletions(-)

commit ea565aac9702698b2bfc2db7c3ca84da3f96121a
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Jan 14 21:12:38 2014 -0600

    Create system_auth tables with fixed CFID

 test/unit/org/apache/cassandra/config/CFMetaDataTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29d5dd03ae7f6b4741e07ce01014acaca93a6e6e
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Jan 9 17:06:34 2014 -0600

    Fix serialization test

 test/unit/org/apache/cassandra/db/SerializationsTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit db69dceeb3aa92e23d22668ea3bfa953d33ada83
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Jan 13 08:22:51 2014 -0600

    fix bad merge

 .../apache/cassandra/service/LeaveAndBootstrapTest.java    | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 71a5127ae530ae2dd436db1b93b3d8e88ba42a46
Merge: 5c86f36 3405878
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jan 13 10:33:24 2014 +0100

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/cql3/statements/SelectStatement.java

commit 2bfaf8f8d991588de43fe3d194a447fe4279cb44
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 10 13:53:32 2014 -0600

    Revert "fix tests"
    
    This reverts commit fbd51b77a047f2a04a94c4b474881c2be9bf1171.

 .../apache/cassandra/service/LeaveAndBootstrapTest.java    | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit fbd51b77a047f2a04a94c4b474881c2be9bf1171
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 10 13:50:35 2014 -0600

    fix tests

 .../apache/cassandra/service/LeaveAndBootstrapTest.java    | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 1997b7b409d12d04f4726ea2631a89601551356c
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 10 13:50:35 2014 -0600

    fix tests

 .../apache/cassandra/service/LeaveAndBootstrapTest.java    | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit b5e2a01af7ca1911d6779651fb647f9dc455f4e3
Merge: 892d8e6 c1c3d8f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 10 12:49:56 2014 -0600

    Merge branch 'cassandra-2.0' into trunk

commit c1c3d8f3f351a6834e5b02c12790d0d1163107bf
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 10 12:49:38 2014 -0600

    Don't update system table for unknown nodes/dead states
    Patch by Tyler Hobbs, reviewed by brandonwilliams for CASSANDRA-6053

 .../cassandra/service/LeaveAndBootstrapTest.java   | 31 ++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 5977e7b6d61a9dab2a6e699b4cb75eb9d93cffc8
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 10 12:48:08 2014 -0600

    Don't update system table for unknown nodes/dead states
    Patch by Tyler Hobbs, reviewed by brandonwilliams for CASSANDRA-6053

 .../cassandra/service/LeaveAndBootstrapTest.java   | 31 ++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 0a1b277d659e20cd19eaedaa7220b0fc55950dc4
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Jan 7 10:28:48 2014 -0600

    CF id is now non-deterministic
    
    and data dir/key cache are also unique per CF id.
    patch by yukim; reviewed by Pavel Yaskevich for CASSANDRA-5202

 .../cassandra/cache/AutoSavingCacheTest.java       | 66 +++++++++++++++
 .../org/apache/cassandra/cache/ObjectSizeTest.java |  2 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  8 +-
 .../org/apache/cassandra/db/DirectoriesTest.java   | 93 ++++++++++++----------
 .../io/sstable/SSTableSimpleWriterTest.java        |  3 +-
 5 files changed, 125 insertions(+), 47 deletions(-)

commit 25777e1f462e153a5670a107eeb65fb186bf9530
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 3 20:33:02 2014 -0600

    reorder imports

 .../org/apache/cassandra/utils/LongBTreeTest.java  | 26 +++++++++++++---------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit 412b053ca171495b33dd92eaa692df40d83a35c4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 3 14:50:26 2014 -0600

    replace SnapTreeMap/AtomicSortedColumns with BTree/AtomicBTreeColumns
    patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-6271

 .../org/apache/cassandra/utils/LongBTreeTest.java  | 335 +++++++++++++++++++++
 1 file changed, 335 insertions(+)

commit 49efc13cd530735ad802769e7f5322f3c79085ef
Merge: 76ee9a1 4ed2234
Author: Yuki Morishita <yukim@apache.org>
Date:   Mon Dec 30 14:03:54 2013 -0600

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java
    	src/java/org/apache/cassandra/service/CassandraDaemon.java
    	test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java

commit 4ed2234078c4d302c256332252a8ddd6ae345484
Author: Yuki Morishita <yukim@apache.org>
Date:   Mon Dec 30 13:48:09 2013 -0600

    Delete unfinished compaction sstables incrementally
    
    patch by thobbs; reviewed by yukim for CASSANDRA-6086

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 74 ++++++++++++++++++++--
 .../cassandra/db/compaction/CompactionsTest.java   |  4 +-
 2 files changed, 71 insertions(+), 7 deletions(-)

commit 23bc52386bd13fddf01037ac7e9cfb234f52ec43
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Dec 30 08:30:43 2013 -0600

    fix test build

 test/unit/org/apache/cassandra/db/HintedHandOffTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7eaedbf9587089e9b856c47959b76ee8a1093914
Merge: 35c2f92 604e31b
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Dec 30 08:18:39 2013 -0600

    Merge branch 'cassandra-2.0' into trunk

commit 604e31b60998d5df349f8cc84d06bbae1391dc0e
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Dec 30 08:17:50 2013 -0600

    Allow truncating hints from nodetool.
    Patch by Sankalp Kohli, reviewed by brandonwilliams for CASSANDRA-6158

 .../org/apache/cassandra/db/HintedHandOffTest.java | 32 ++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit e085e82b3cd78e6df154995bfa6779887fce9a0c
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sat Dec 28 16:16:30 2013 -0500

    warnings

 test/unit/org/apache/cassandra/MethodComparator.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 660902929ad789f3b07a0b1a67190184f8c5fb2a
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Thu Dec 26 18:44:57 2013 -0500

    use %n for new line in printf

 test/unit/org/apache/cassandra/config/CFMetaDataTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 67f9eba79eac01886765d616a6e7e02a6c912232
Merge: 30afda3 2111a20
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Dec 26 15:58:48 2013 -0600

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java

commit 2111a20b4b44e557357f81146ead6cf7493a8d31
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Dec 26 15:52:03 2013 -0600

    Fix streaming older SSTable yields row tombstones
    
    patch by yukim; reviewed by jbellis for CASSANDRA-6527

 .../cassandra/io/sstable/LegacySSTableTest.java    | 49 +++++++++++++++++++++-
 1 file changed, 48 insertions(+), 1 deletion(-)

commit 7c182811b0c1e199a7628a642249141f2f3c4b7a
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Dec 24 17:48:42 2013 -0500

    use junit assertions

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e026b7c9bc73e6fcb9183a72efe2635cd56daaa2
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Dec 24 17:43:28 2013 -0500

    close streams

 .../io/util/BufferedRandomAccessFileTest.java      | 100 ++++++++++++---------
 1 file changed, 58 insertions(+), 42 deletions(-)

commit 6bbb13b9b0fe62de2a2140055af2ea6968c73ccc
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sun Dec 22 00:37:43 2013 +0300

    Rename RowMutation->Mutation in preparation for Row->Partition

 .../org/apache/cassandra/db/LongKeyspaceTest.java  |   4 +-
 .../apache/cassandra/db/MeteredFlusherTest.java    |   2 +-
 .../cassandra/db/commitlog/ComitLogStress.java     |   4 +-
 .../db/compaction/LongCompactionsTest.java         |   2 +-
 .../LongLeveledCompactionStrategyTest.java         |   8 +-
 test/unit/org/apache/cassandra/SchemaLoader.java   |   7 +-
 test/unit/org/apache/cassandra/Util.java           |   4 +-
 .../apache/cassandra/config/CFMetaDataTest.java    |   3 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |  18 ++--
 test/unit/org/apache/cassandra/db/CleanupTest.java |   4 +-
 .../cassandra/db/CollationControllerTest.java      |  19 ++--
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 108 ++++++++++-----------
 .../org/apache/cassandra/db/CommitLogTest.java     |  10 +-
 .../apache/cassandra/db/CounterMutationTest.java   |   8 +-
 .../org/apache/cassandra/db/HintedHandOffTest.java |   2 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |   7 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |   4 +-
 .../unit/org/apache/cassandra/db/KeyspaceTest.java |  30 +++---
 .../org/apache/cassandra/db/MultitableTest.java    |   6 +-
 .../unit/org/apache/cassandra/db/NameSortTest.java |   6 +-
 .../apache/cassandra/db/RangeTombstoneTest.java    |  40 ++++----
 .../org/apache/cassandra/db/ReadMessageTest.java   |   8 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  |   2 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |   6 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  12 +--
 .../cassandra/db/RecoveryManagerTruncateTest.java  |   4 +-
 .../org/apache/cassandra/db/RemoveCellTest.java    |   6 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   6 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   6 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   6 +-
 .../org/apache/cassandra/db/RemoveSubCellTest.java |  16 +--
 .../org/apache/cassandra/db/RowIterationTest.java  |   9 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |   4 +-
 .../apache/cassandra/db/SerializationsTest.java    |  48 ++++-----
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  12 +--
 .../db/compaction/BlacklistingCompactionsTest.java |   7 +-
 .../db/compaction/CompactionsPurgeTest.java        |  54 +++++------
 .../cassandra/db/compaction/CompactionsTest.java   |  20 ++--
 .../compaction/LeveledCompactionStrategyTest.java  |  14 +--
 .../cassandra/db/compaction/OneCompactionTest.java |   8 +-
 .../SizeTieredCompactionStrategyTest.java          |  10 +-
 .../cassandra/db/compaction/TTLExpiryTest.java     |  25 ++---
 .../db/index/PerRowSecondaryIndexTest.java         |  14 +--
 .../cassandra/db/marshal/CompositeTypeTest.java    |   4 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |   4 +-
 .../io/sstable/IndexSummaryManagerTest.java        |   6 +-
 .../cassandra/io/sstable/SSTableMetadataTest.java  |  21 ++--
 .../cassandra/io/sstable/SSTableReaderTest.java    |  20 ++--
 .../cassandra/io/sstable/SSTableScannerTest.java   |   2 +-
 .../service/AntiEntropyServiceCounterTest.java     |   2 +-
 .../service/AntiEntropyServiceStandardTest.java    |   4 +-
 .../apache/cassandra/service/QueryPagerTest.java   |   2 +-
 .../cassandra/streaming/StreamingTransferTest.java |   6 +-
 53 files changed, 310 insertions(+), 354 deletions(-)

commit b34ed0db535068525e59f5c3ec20e2c29155467b
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Fri Dec 20 21:56:15 2013 -0500

    asserting that an auto-boxed primitive is not null is pointless

 test/unit/org/apache/cassandra/io/sstable/IndexSummaryManagerTest.java | 1 -
 1 file changed, 1 deletion(-)

commit d276d0a0638ff6d80ce8749d2afc1eaa5cfbb14a
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Wed Dec 18 23:27:47 2013 -0500

    remove dead code

 test/unit/org/apache/cassandra/SchemaLoader.java          | 11 ++++-------
 test/unit/org/apache/cassandra/db/SerializationsTest.java |  2 +-
 2 files changed, 5 insertions(+), 8 deletions(-)

commit e50d6af12fabac98e3cb4bd589e2b92212b041f4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Dec 17 17:51:55 2013 +0100

    Rename Column to Cell

 .../apache/cassandra/db/MeteredFlusherTest.java    |   2 +-
 .../db/compaction/LongCompactionsTest.java         |   2 +-
 test/unit/org/apache/cassandra/Util.java           |  14 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |   7 +-
 .../cassandra/db/ArrayBackedSortedColumnsTest.java |  24 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 108 ++++---
 .../org/apache/cassandra/db/CounterCellTest.java   | 323 +++++++++++++++++++++
 .../org/apache/cassandra/db/CounterColumnTest.java | 323 ---------------------
 .../apache/cassandra/db/CounterMutationTest.java   |  14 +-
 .../unit/org/apache/cassandra/db/KeyspaceTest.java |  41 ++-
 .../unit/org/apache/cassandra/db/NameSortTest.java |  10 +-
 .../apache/cassandra/db/RangeTombstoneTest.java    |  34 +--
 .../org/apache/cassandra/db/ReadMessageTest.java   |   2 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |   7 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |   3 +-
 .../org/apache/cassandra/db/RemoveCellTest.java    |  86 ++++++
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  86 ------
 .../org/apache/cassandra/db/RemoveSubCellTest.java | 100 +++++++
 .../apache/cassandra/db/RemoveSubColumnTest.java   | 100 -------
 .../unit/org/apache/cassandra/db/RowCacheTest.java |  24 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |   2 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |   2 +-
 .../cassandra/db/SecondaryIndexCellSizeTest.java   | 230 +++++++++++++++
 .../cassandra/db/SecondaryIndexColumnSizeTest.java | 230 ---------------
 .../apache/cassandra/db/SerializationsTest.java    |  31 +-
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  24 +-
 .../db/compaction/CompactionsPurgeTest.java        |   6 +-
 .../db/index/PerRowSecondaryIndexTest.java         |   8 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    |   2 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |   2 +-
 .../io/sstable/IndexSummaryManagerTest.java        |   7 +-
 .../io/sstable/SSTableSimpleWriterTest.java        |   4 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  10 +-
 .../apache/cassandra/service/QueryPagerTest.java   |   4 +-
 .../cassandra/streaming/StreamingTransferTest.java |   8 +-
 .../apache/cassandra/tools/SSTableExportTest.java  |   6 +-
 .../apache/cassandra/tools/SSTableImportTest.java  |  43 ++-
 37 files changed, 957 insertions(+), 972 deletions(-)

commit 362cc05352ec67e707e0ac790732e96a15e63f6b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 29 11:03:52 2013 +0100

    Push composites support in the storage engine
    
    patch by slebresne; reviewed by benedict for CASSANDRA-5417

 .../org/apache/cassandra/db/LongKeyspaceTest.java  |   5 +-
 .../apache/cassandra/db/MeteredFlusherTest.java    |   6 +-
 .../cassandra/db/commitlog/ComitLogStress.java     |   5 +-
 .../db/compaction/LongCompactionsTest.java         |   2 +-
 .../LongLeveledCompactionStrategyTest.java         |   2 +-
 .../cassandra/AbstractSerializationsTester.java    |   1 +
 test/unit/org/apache/cassandra/SchemaLoader.java   |  76 ++---
 test/unit/org/apache/cassandra/Util.java           | 102 +++++-
 .../apache/cassandra/config/CFMetaDataTest.java    |  30 +-
 .../cassandra/config/ColumnDefinitionTest.java     |   2 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |  53 +--
 .../cassandra/db/ArrayBackedSortedColumnsTest.java |  42 +--
 test/unit/org/apache/cassandra/db/CleanupTest.java |   2 +-
 .../cassandra/db/CollationControllerTest.java      |  14 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 358 +++++++++++----------
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  31 +-
 .../org/apache/cassandra/db/CommitLogTest.java     |  11 +-
 .../org/apache/cassandra/db/CounterColumnTest.java |  89 ++---
 .../apache/cassandra/db/CounterMutationTest.java   |  12 +-
 .../org/apache/cassandra/db/HintedHandOffTest.java |   3 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  21 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |   3 +-
 .../unit/org/apache/cassandra/db/KeyspaceTest.java | 162 ++++------
 .../unit/org/apache/cassandra/db/NameSortTest.java |   4 +-
 .../cassandra/db/RangeTombstoneListTest.java       |  13 +-
 .../apache/cassandra/db/RangeTombstoneTest.java    |  21 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  34 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |   5 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |   7 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   4 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   6 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   4 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  22 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |   5 +-
 .../unit/org/apache/cassandra/db/RowCacheTest.java |  33 +-
 .../org/apache/cassandra/db/RowIterationTest.java  |   7 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |   7 +-
 .../cassandra/db/SecondaryIndexColumnSizeTest.java |  13 +-
 .../apache/cassandra/db/SerializationsTest.java    |  62 ++--
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  38 ++-
 .../db/compaction/BlacklistingCompactionsTest.java |   5 +-
 .../db/compaction/CompactionsPurgeTest.java        |  39 +--
 .../cassandra/db/compaction/CompactionsTest.java   |  14 +-
 .../compaction/LeveledCompactionStrategyTest.java  |   6 +-
 .../cassandra/db/compaction/OneCompactionTest.java |   2 +-
 .../SizeTieredCompactionStrategyTest.java          |   6 +-
 .../cassandra/db/compaction/TTLExpiryTest.java     |  20 +-
 .../db/index/PerRowSecondaryIndexTest.java         |  18 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    |  13 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |  13 +-
 .../compress/CompressedRandomAccessReaderTest.java |   5 +-
 .../cassandra/io/sstable/IndexHelperTest.java      |  51 +--
 .../io/sstable/IndexSummaryManagerTest.java        |  10 +-
 .../cassandra/io/sstable/LegacySSTableTest.java    |   7 +-
 .../cassandra/io/sstable/SSTableLoaderTest.java    |   2 +-
 .../cassandra/io/sstable/SSTableMetadataTest.java  |  32 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    |  26 +-
 .../cassandra/io/sstable/SSTableScannerTest.java   |   2 +-
 .../io/sstable/SSTableSimpleWriterTest.java        |   2 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |   2 +-
 .../sstable/metadata/MetadataSerializerTest.java   |   3 +-
 .../service/AntiEntropyServiceCounterTest.java     |   3 +-
 .../service/AntiEntropyServiceStandardTest.java    |   3 +-
 .../apache/cassandra/service/QueryPagerTest.java   |  18 +-
 .../cassandra/streaming/StreamingTransferTest.java |  23 +-
 .../compress/CompressedInputStreamTest.java        |   3 +-
 .../apache/cassandra/tools/SSTableExportTest.java  |  42 ++-
 .../apache/cassandra/tools/SSTableImportTest.java  |  30 +-
 .../apache/cassandra/utils/IntervalTreeTest.java   |   4 +-
 69 files changed, 894 insertions(+), 827 deletions(-)

commit 74bf5aa16e7080360febca1745307a4d7ced32dc
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Dec 13 16:33:26 2013 -0600

    SSTable metadata(Stats.db) format change
    
    patch by yukim; reviewed by thobbs for CASSANDRA-6356

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  3 +-
 .../compaction/LeveledCompactionStrategyTest.java  |  2 +-
 .../compress/CompressedRandomAccessReaderTest.java |  6 +-
 .../cassandra/io/sstable/IndexSummaryTest.java     |  6 +-
 .../io/sstable/SSTableMetadataSerializerTest.java  | 90 ----------------------
 .../sstable/metadata/MetadataSerializerTest.java   | 88 +++++++++++++++++++++
 .../compress/CompressedInputStreamTest.java        |  4 +-
 7 files changed, 99 insertions(+), 100 deletions(-)

commit d53c838c9d2f89ac6c88c8306f2302f7fbc6b33d
Merge: 448e4d4 3edb62b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 13 00:17:45 2013 +0600

    Merge branch 'cassandra-2.0' into trunk

commit 3edb62bf773617aeb3a348edc5667a6b0bad0ffe
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 12 23:28:13 2013 +0600

    Fix row tombstones in larger-than-memory compactions
    patch by thobbs; reviewed by jbellis for CASSANDRA-6008

 test/unit/org/apache/cassandra/Util.java           |  6 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  2 +-
 .../db/compaction/CompactionsPurgeTest.java        | 84 +++++++++++++++++++---
 .../cassandra/streaming/StreamingTransferTest.java |  4 +-
 4 files changed, 80 insertions(+), 16 deletions(-)

commit 9c0b180a42968118074ea22725174bc9f104f88f
Merge: 5c379c5 2ccb3da
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sat Dec 7 13:56:43 2013 +0300

    Merge branch 'cassandra-2.0' into trunk

commit 2ccb3da7cd238110403d03bfebe46d6e4ed1be23
Merge: 3c15ff2 faa9d51
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sat Dec 7 13:55:59 2013 +0300

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit faa9d51a60cf91a2ab479aa84524a56e68c4ebe9
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sat Dec 7 13:54:41 2013 +0300

    Fix test build

 test/unit/org/apache/cassandra/db/DirectoriesTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c379c54b9c1806152e83a5cce76fc9ad14e1228
Merge: e6170fe 3c15ff2
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sat Dec 7 13:32:16 2013 +0300

    Merge branch 'cassandra-2.0' into trunk

commit 3c15ff2e44aa06491366eb4a4a4021c9ba4e535b
Merge: f2a82ee 510eabf
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sat Dec 7 13:31:37 2013 +0300

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit 510eabfeb4111b6acb27ce1c443e5aef99341d1d
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sat Dec 7 13:30:26 2013 +0300

    Fix handling of concurrent directory creation failure
    
    patch by Ryan Fowler; reviewed by Aleksey Yeschenko for
    CASSANDRA-6459

 .../org/apache/cassandra/db/DirectoriesTest.java   | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit e4d447240a4b68a56596445ac5e4f4fbbe0c50af
Merge: b34d43f 32dbe58
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Wed Dec 4 20:17:45 2013 +0100

    Merge branch 'cassandra-2.0' into trunk

commit 32dbe58254115b8a92a97e95566bb4374bb9c051
Merge: 1334f94 d8c4e89
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Wed Dec 4 20:17:38 2013 +0100

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit d8c4e89b3e85e8cb41a438963845cb10a923a3d6
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Wed Dec 4 20:17:30 2013 +0100

    fix MoveTest

 test/unit/org/apache/cassandra/service/MoveTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 22e18f5a348a911f89deed9f9984950de451d28a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Dec 2 13:07:28 2013 -0600

    Multithreaded commitlog
    patch by Benedict Elliot Smith; reviewed by jbellis for CASSANDRA-3578

 .../cassandra/db/commitlog/ComitLogStress.java     |  72 +++++++++++
 .../apache/cassandra/concurrent/WaitQueueTest.java | 137 +++++++++++++++++++++
 .../org/apache/cassandra/db/CommitLogTest.java     |   9 +-
 3 files changed, 215 insertions(+), 3 deletions(-)

commit 2042bc3ca9332fabe1069ce741969eec5bfb3d6d
Merge: 2ddf2cd f065cbf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 29 13:26:43 2013 -0600

    merge from 2.0

commit f065cbfe058a2b0bb58ed53602afe0f12942d525
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 29 13:26:16 2013 -0600

    Allow specifying datacentersto participate in a repair
    patch by Jimmy Mårdell; reviewed by Lyuben Todorov for CASSANDRA-6218

 .../apache/cassandra/service/AntiEntropyServiceTestAbstract.java  | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f1a67a06a8fa3358b7ee4059f35e515f913cf197
Merge: ed0c91e 4fae76c
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Wed Nov 27 18:58:55 2013 +0100

    Merge branch 'cassandra-2.0' into trunk

commit 4fae76c146f2856063927c9a8d1c34bd86b30a58
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Wed Nov 27 18:58:47 2013 +0100

    Fix CQLSSTableWriterTest

 test/unit/org/apache/cassandra/io/sstable/CQLSSTableWriterTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7ea5b40b7172ec9f3fdecca533e19d8a165de7df
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 27 11:35:12 2013 -0600

    don't leave replaced SSTRs around to break other tests
    patch by Tyler Hobbs

 .../org/apache/cassandra/io/sstable/IndexSummaryManagerTest.java    | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 57e959d88af5f1f88b7c2c00173721947ddcc9bf
Merge: 41325c3 ef33f95
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 27 10:44:21 2013 -0600

    Merge branch 'cassandra-2.0' into trunk

commit ef33f9543ed3555dca4a095417a3e0d53df5fbcc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 27 10:43:30 2013 -0600

    move pig-test out of normal unit tests (still part of test-all)

 .../apache/cassandra/pig/CqlTableDataTypeTest.java | 461 ------------
 .../org/apache/cassandra/pig/CqlTableTest.java     | 254 -------
 .../unit/org/apache/cassandra/pig/PigTestBase.java | 185 -----
 .../pig/ThriftColumnFamilyDataTypeTest.java        | 220 ------
 .../cassandra/pig/ThriftColumnFamilyTest.java      | 827 ---------------------
 test/unit/org/apache/pig/test/MiniCluster.java     |  78 --
 .../org/apache/pig/test/MiniGenericCluster.java    | 122 ---
 7 files changed, 2147 deletions(-)

commit 9f3a7f8a698aaaa9be44bed01aaf526567df8aca
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Mon Nov 25 20:06:42 2013 -0500

    simple naming fixes

 test/unit/org/apache/cassandra/service/QueryPagerTest.java | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit dbd1a727b7481a3dcd9867e3a6f7791c1095e12a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 22 12:09:20 2013 -0600

    allocate fixed index summary memory pool and resample cold index summaries to use less memory
    patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-5519

 test/unit/org/apache/cassandra/SchemaLoader.java   |   3 +-
 .../io/sstable/IndexSummaryManagerTest.java        | 327 +++++++++++++++++++++
 .../cassandra/io/sstable/IndexSummaryTest.java     | 151 +++++++++-
 .../cassandra/io/sstable/SSTableReaderTest.java    |  79 ++++-
 4 files changed, 541 insertions(+), 19 deletions(-)

commit 256da638594d84010a1cb5131db0c05cfce2d1eb
Merge: ac3afd3 03e3d15
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 20 20:57:54 2013 -0600

    Merge remote-tracking branch 'origin/trunk' into trunk

commit ac3afd3bc45481330eb3d57329512f7a593ecf19
Merge: 10a2089 ed8117f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 20 20:57:36 2013 -0600

    Merge branch 'cassandra-2.0' into trunk

commit 91d56bf5cadd25674e4034462f5a0a2ee2ab4132
Merge: 26d1b68 e01224e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 20 20:55:51 2013 -0600

    merge from 1.2

commit 03e3d15e97b27766c42211b65079ec3794435232
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Wed Nov 20 20:51:45 2013 -0500

    remove unused cruft from test

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 56 ++++++++--------------
 1 file changed, 20 insertions(+), 36 deletions(-)

commit e01224ede63e941fffa7b9b3906c1d54fb699bea
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 20 17:52:45 2013 -0600

    Improve initial FD phi estimate when starting up
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-6385

 test/unit/org/apache/cassandra/gms/ArrivalWindowTest.java | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 10a2089739dc19022777be6445ce3385ab25dce9
Merge: f424e58 26d1b68
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 20 12:53:32 2013 -0600

    Merge branch 'cassandra-2.0' into trunk

commit 26d1b68c7e567fa194e426efdb043f32941a8627
Merge: cb7eb86 b3ae77d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 20 12:45:52 2013 -0600

    merge from 1.2

commit b3ae77d7baa16673d749c8ab8beae09e0b319c00
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 20 12:41:21 2013 -0600

    Optimize FD phi calculation
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-6386

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java        | 1 -
 test/unit/org/apache/cassandra/utils/BoundedStatsDequeTest.java | 6 ------
 2 files changed, 7 deletions(-)

commit f424e585a99769ee7e8768d54c9c170864c1d412
Merge: ff6f04e cb7eb86
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Nov 20 11:58:43 2013 -0600

    Merge branch 'cassandra-2.0' into trunk

commit cb7eb8687d332debf1d1aa1fab9cba9c68638763
Merge: fcb2c65 5f79f53
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Nov 20 11:54:57 2013 -0600

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	build.xml
    	debian/changelog

commit 026865f2a36d9685057c407e3fa528c101ab46b7
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Nov 20 09:43:28 2013 +0100

    Update versions, licenses for 1.2.12 release

 .../apache/cassandra/pig/CqlTableDataTypeTest.java  | 21 +++++++++++++++++++++
 .../pig/ThriftColumnFamilyDataTypeTest.java         | 21 +++++++++++++++++++++
 2 files changed, 42 insertions(+)

commit 723792d64961340945c4d2f28965da7b0e3eaa42
Merge: 3958a00 6b1fb2c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Nov 19 18:27:15 2013 +0100

    Merge branch 'cassandra-2.0' into trunk

commit 6b1fb2ce76f72d57ad93c933d21a31f6bda817b9
Merge: 47724e6 39e3a5e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Nov 19 18:26:38 2013 +0100

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/ScrubTest.java
    	test/unit/org/apache/cassandra/service/LeaveAndBootstrapTest.java

commit eeb8d1bdc6ea67f472bcbc5225cdaca5a3199650
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Nov 19 18:05:03 2013 +0100

    Fix LeaveAndBootstrapTest

 test/unit/org/apache/cassandra/service/LeaveAndBootstrapTest.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit 445c874faa4c38b8e5b14835b282ac2efe358a43
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Nov 19 18:22:24 2013 +0100

    Fix ScrubTest

 test/unit/org/apache/cassandra/db/ScrubTest.java | 4 ++++
 1 file changed, 4 insertions(+)

commit 3958a009912cd4360607dc13a96cad474614dd87
Merge: 88fbdb1 47724e6
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Nov 19 11:00:50 2013 -0600

    Merge branch 'cassandra-2.0' into trunk

commit 47724e6b732b1ec97d7736ba75f314a96311d489
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Nov 19 11:00:41 2013 -0600

    remove unnecessary(and failing) test

 .../org/apache/cassandra/service/StorageServiceServerTest.java     | 7 -------
 1 file changed, 7 deletions(-)

commit 0a5a766d52f3c06399bfa8826df836b3dc070a20
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Nov 19 17:21:19 2013 +0100

    Fix TokenMetadataTest

 .../cassandra/locator/TokenMetadataTest.java       | 30 +++++++++++-----------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit f388c9d69b855f0c3b146864717a971034fd3dc5
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Nov 15 15:23:55 2013 -0600

    SSTable/SSTableReader cleanup
    
    patch by yukim; reviewed by jbellis for CASSANDRA-6355

 .../cassandra/db/compaction/LongLeveledCompactionStrategyTest.java   | 3 +--
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java         | 2 +-
 .../cassandra/db/compaction/LeveledCompactionStrategyTest.java       | 5 +----
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java     | 2 +-
 4 files changed, 4 insertions(+), 8 deletions(-)

commit cb871ba908dac0e8773a50dc805b272ac2c794d1
Merge: 0619da2 5008507
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Nov 13 18:01:51 2013 +0100

    Merge branch 'cassandra-2.0' into trunk

commit 5008507ca21265e0c6be53d61024baa7eaf187fc
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Nov 13 17:59:07 2013 +0100

    Fix paging with reversed slices
    
    patch by slebresne; reviewed by iamalesksey for CASSANDRA-6343

 .../apache/cassandra/service/QueryPagerTest.java   | 32 +++++++++++++++++++++-
 1 file changed, 31 insertions(+), 1 deletion(-)

commit 1475d92547f0404c6a347a1c7333fa8bdbfb220a
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Nov 4 23:37:32 2013 -0600

    Make calculatePendingRange asynchronous
    Patch by Ryan Fowler, reviewed by brandonwilliams for CASSANDRA-6244

 test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c28fe781606f92e0e3005a3901ff97f0c8633e9a
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Nov 4 23:24:13 2013 -0600

    Make calculatePendingRanges asynchronous
    Patch by Ryan Fowler, reviewed by brandonwilliams for CASSANDRA-6244

 test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 46a26ed553b3ea9af9658d7e7d9ea1cdf598abf3
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Nov 4 12:46:19 2013 -0600

    make calculatePendingRanges asynchronous

 test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5c21711e76731a6f48d67ca956ea865fda4574b4
Merge: bb95c1d ce206e2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Nov 3 00:08:41 2013 -0500

    merge from 2.0

commit ce206e20142024dbeff9ed68cb0ff4aeb4aaf0b8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Nov 3 00:06:34 2013 -0500

    use StandardCharsets static fields
    patch by Blair Zajac; reviewed by jbellis for CASSANDRA-6290

 test/unit/org/apache/cassandra/SchemaLoader.java             |  8 ++++----
 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java | 12 +++++-------
 test/unit/org/apache/cassandra/utils/FBUtilitiesTest.java    |  4 ++--
 3 files changed, 11 insertions(+), 13 deletions(-)

commit d5e32da4e0b336e9a2e0d70995d25d01e876bbec
Merge: 144ee9a 91fa467
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 1 11:34:42 2013 -0500

    Merge branch 'cassandra-2.0' into trunk

commit 91fa4672248e4f5c3e829d312564d1cd5e1750bc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 1 11:34:29 2013 -0500

    r/m unused IMeasureableMemory implementation now that CLHC is no longer an option for row cache

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 9 ---------
 1 file changed, 9 deletions(-)

commit 81219d4f39ef0e2b27a22cd91ec4f688d48d8cd4
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Fri Nov 1 01:20:34 2013 -0400

    warnings/dead code removal

 .../cassandra/pig/ThriftColumnFamilyTest.java      | 29 +++++++++-------------
 1 file changed, 12 insertions(+), 17 deletions(-)

commit ddb8bc68a9e6198c6eb5d49afdaff2bdc57a1ede
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Oct 30 16:11:06 2013 -0500

    fix sstr test

 .../cassandra/io/sstable/SSTableReaderTest.java    | 36 ++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit 47b8fc422f3978c7173c91e7324953d81e5f5b63
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Oct 30 16:10:26 2013 -0500

    fix sstr test

 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 3d00fe6cd5577ee92e5659a1abe9bd9f8d735012
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Oct 30 15:44:46 2013 -0500

    fix build

 .../cassandra/io/sstable/SSTableReaderTest.java    | 35 ----------------------
 1 file changed, 35 deletions(-)

commit 58e2706d3d66095802c3a03dee0bdfae0045b324
Merge: 45bb924 89911c8
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Oct 30 14:10:00 2013 -0500

    Merge branch 'cassandra-2.0' into trunk

commit 89911c82ac7bddb32ccac4adc224c764d87b5cf3
Merge: 4169aa3 18f7935
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Oct 30 14:09:47 2013 -0500

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/io/sstable/SSTableReader.java
    	test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java

commit 18f7935370b1628cba8fa35819c05f235ba918aa
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Oct 30 14:01:44 2013 -0500

    Use non-pooled SegmentedFile builders when bulk loading
    Patch by Sam Tunnicliffe, reviewed by brandonwilliams for CASSANDRA-6272

 .../cassandra/io/sstable/SSTableReaderTest.java    | 38 ++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 5f5905d51561b2adb616a9b1b0b29f1358372ba4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Oct 25 15:13:41 2013 +0200

    Remove CFDefinition
    
    patch by slebresne; reviewed by iamaleksey for CASSANDRA-6253

 test/unit/org/apache/cassandra/SchemaLoader.java   | 87 ++++++++++++----------
 .../cassandra/config/ColumnDefinitionTest.java     | 19 +++--
 .../unit/org/apache/cassandra/config/DefsTest.java | 23 +++---
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  4 +-
 .../apache/cassandra/db/RangeTombstoneTest.java    | 18 +----
 .../cassandra/thrift/ThriftValidationTest.java     |  4 +-
 6 files changed, 77 insertions(+), 78 deletions(-)

commit 36cdf34bd92ede5ad99447e10d90e6caa1fd743a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 30 10:17:23 2013 -0500

    Remove multithreaded compaction and PCR
    patch by jbellis; reviewed by marcuse for CASSANDRA-6142

 .../db/compaction/CompactionsPurgeTest.java        |  32 ++-
 .../cassandra/io/LazilyCompactedRowTest.java       | 319 ---------------------
 .../org/apache/cassandra/repair/ValidatorTest.java |  39 ++-
 3 files changed, 47 insertions(+), 343 deletions(-)

commit f3a75035ac105d032988d8b26e562458ac469699
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 29 15:39:30 2013 -0500

    update COLD_READS_TO_OMIT_KEY

 .../db/compaction/SizeTieredCompactionStrategyTest.java      | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 37285304ee484122410c977399024f2af132753c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 29 15:25:39 2013 -0500

    Compact hottest sstables first and optionally omit coldest
    patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-6109

 .../SizeTieredCompactionStrategyTest.java          | 192 ++++++++++++++++++++-
 1 file changed, 184 insertions(+), 8 deletions(-)

commit 4f0bc89cf48819c4891d6bf253b1e6e66cfdca3b
Merge: ecea057 eb6e4d0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 29 15:39:52 2013 -0500

    Merge branch 'cassandra-2.0' into trunk

commit eb6e4d0f07db3ec9996c7b8e374c97d873f5b99c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 29 15:39:30 2013 -0500

    update COLD_READS_TO_OMIT_KEY

 .../db/compaction/SizeTieredCompactionStrategyTest.java      | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 2c6a5c000f19a07909f4cecef3f14e33457cdfec
Merge: e7ff361 786672e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 29 15:31:10 2013 -0500

    merge from 2.0

commit 786672edb6b4156e69bb3daecb9bcca0cba7db21
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 29 15:25:39 2013 -0500

    Compact hottest sstables first and optionally omit coldest
    patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-6109

 .../SizeTieredCompactionStrategyTest.java          | 192 ++++++++++++++++++++-
 1 file changed, 184 insertions(+), 8 deletions(-)

commit e7ff361c83313737031c372de84ef282eedc8c50
Merge: 8f6e652 97cbf6a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 29 11:12:03 2013 +0100

    Merge branch 'cassandra-2.0' into trunk

commit 97cbf6ad33af1fe3d16912bd3280b53bf9f22bb2
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 29 11:11:05 2013 +0100

    Add CQL-aware SSTableWriter
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-5894

 test/unit/org/apache/cassandra/SchemaLoader.java   |  14 ++-
 .../cassandra/io/sstable/CQLSSTableWriterTest.java | 115 +++++++++++++++++++++
 2 files changed, 128 insertions(+), 1 deletion(-)

commit e6b4fcf24c46019dae955aba54939ad18afad8ba
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sun Oct 27 21:41:54 2013 -0400

    close streams

 test/unit/org/apache/pig/test/MiniCluster.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 9cdc755f8570e774a1bfb4dbbac8cd4a9c8b9bf9
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sun Oct 27 21:36:09 2013 -0400

    use junit assertions for unit tests over java asserts

 .../org/apache/cassandra/db/CounterColumnTest.java | 131 +++++++++++----------
 1 file changed, 67 insertions(+), 64 deletions(-)

commit 9fa54cf3b3656c37decc18767ff198df5e243074
Merge: 55a7748 d280e97
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sun Oct 27 23:35:17 2013 +0300

    Merge branch 'cassandra-2.0' into trunk

commit 6b3fe5ee7ca333bf1d8cef1cb06e72f2b7ccef6a
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sun Oct 27 23:28:46 2013 +0300

    Add IRequestSink interface
    
    patch by Aleksey Yeschenko; reviewed by Jonathan Ellis for
    CASSANDRA-6248

 test/unit/org/apache/cassandra/repair/DifferencerTest.java | 4 ++--
 test/unit/org/apache/cassandra/repair/ValidatorTest.java   | 4 ++--
 test/unit/org/apache/cassandra/service/RemoveTest.java     | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 2faac19e1746d179c04596cb6885d1cb52663e77
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Fri Oct 25 00:41:09 2013 -0400

    use junit assertions for unit tests over java asserts

 .../cassandra/config/DatabaseDescriptorTest.java   | 29 ++++++++++------------
 1 file changed, 13 insertions(+), 16 deletions(-)

commit 8664e3aa5eac47d7089a0790c1f891c27a4d88f0
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Thu Oct 24 00:03:55 2013 -0400

    make sure to close file streams

 .../cassandra/io/LazilyCompactedRowTest.java       | 55 ++++++++++++----------
 1 file changed, 30 insertions(+), 25 deletions(-)

commit cfcc57577d43e039562a8b3035b1b9e5b544a7ee
Merge: 5942afa 322f9a9
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Oct 23 16:17:16 2013 +0200

    Merge branch 'cassandra-2.0' into trunk

commit 322f9a98315aabd8a57b6fe42d5763f9ff6de3a7
Merge: 86b26b6 62e8804
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Oct 23 16:17:02 2013 +0200

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	CHANGES.txt

commit 4768daa9d0ad55f026615d1aef330c38203d80d1
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 22 09:55:40 2013 +0200

    Avoid stack overflow on RangeTombstoneList insertion
    
    patch by slebresne; reviewed by frousseau for CASSANDRA-6181

 .../cassandra/db/RangeTombstoneListTest.java       | 31 ++++++++++++++++++----
 1 file changed, 26 insertions(+), 5 deletions(-)

commit 4d82ac9d29a2f329fa7236704b06464430d53f76
Merge: 0bff97a 8a06958
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Oct 22 15:30:07 2013 -0500

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	build.xml

commit b6147c1c7bfca817429f1e13d4dd9096bee5e626
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 22 18:01:51 2013 +0200

    License and versions for 2.0.2 release

 .../org/apache/cassandra/pig/CqlTableDataTypeTest.java | 18 ++++++++++++++++++
 .../cassandra/pig/ThriftColumnFamilyDataTypeTest.java  | 18 ++++++++++++++++++
 2 files changed, 36 insertions(+)

commit 30205558335d7ea547842db033d9d8f5e8834973
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Sat Oct 19 01:47:31 2013 -0400

    cleanup junit assertion sense (use assertEquals, etc)

 .../cassandra/service/LeaveAndBootstrapTest.java   | 72 +++++++++++-----------
 .../org/apache/cassandra/service/MoveTest.java     | 64 +++++++++----------
 .../apache/cassandra/tools/SSTableExportTest.java  |  4 +-
 3 files changed, 70 insertions(+), 70 deletions(-)

commit 6c379343561766724e48d1d7cf98e282e8ec91dd
Merge: 303702d 16bb898
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 18 23:30:30 2013 +0100

    Merge branch 'cassandra-2.0' into trunk

commit 16bb89810df5d1b0d8c7262c1f6c426e36866372
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 18 09:50:07 2013 +0100

    Update FailureDetector to use nanontime
    patch by Sankalp Kohli; reviewed by jbellis for CASSANDRA-4925

 .../apache/cassandra/gms/ArrivalWindowTest.java    | 24 +++++++++++-----------
 .../cassandra/utils/BoundedStatsDequeTest.java     | 20 +++++++++---------
 2 files changed, 22 insertions(+), 22 deletions(-)

commit 5433525f5ecda967a755dbff9f54ed96ce8bb81c
Merge: 3f8a90a cf3bd6f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Oct 18 09:45:36 2013 -0500

    Merge branch 'cassandra-2.0' into trunk

commit cf3bd6f8611684fc80390b660e3783b98599eecf
Merge: 91bd207 44f8ba4
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Oct 18 09:45:25 2013 -0500

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit 44f8ba4f702bce85265bf841daf32204e9ee8221
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Oct 18 09:44:14 2013 -0500

    Add more pig unit tests for type mappings.
    Patch by Alex Liu, reviewed by brandonwilliams for CASSANDRA-6197

 .../apache/cassandra/pig/CqlTableDataTypeTest.java | 422 +++++++++++++++++++++
 .../pig/ThriftColumnFamilyDataTypeTest.java        | 181 +++++++++
 2 files changed, 603 insertions(+)

commit d143206dc84f26ec5005e03fd465f400cdf13241
Merge: 5c408af 6bd71a5
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 15 18:15:20 2013 +0200

    Merge branch 'cassandra-2.0' into trunk

commit 6bd71a5e5e21088fdd749854c8078040493d804e
Merge: 4eaca39 6165840
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 15 18:15:05 2013 +0200

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	build.xml
    	debian/changelog

commit 6165840f1584f932064b8ad2320b29de632ed813
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 15 09:21:10 2013 +0200

    Versions and license for 1.2.11 release

 test/unit/org/apache/cassandra/pig/CqlTableTest.java   | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/pig/PigTestBase.java    | 18 ++++++++++++++++++
 .../apache/cassandra/pig/ThriftColumnFamilyTest.java   | 18 ++++++++++++++++++
 3 files changed, 54 insertions(+)

commit 0f13031023ea588b8b71f3aab3108797c3a114d6
Merge: bb13b80 fe598e7
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Oct 14 14:19:20 2013 -0500

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	build.xml
    	test/conf/log4j-junit.properties

commit fe598e77e6e06a6408ea8e8b1fa80b25977e572d
Merge: 3a29c74 4e35969
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Oct 14 14:17:05 2013 -0500

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	build.xml
    	src/java/org/apache/cassandra/hadoop/pig/AbstractCassandraStorage.java

commit 4e35969795793159075cd9368f3dd595b265584f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Oct 14 14:13:18 2013 -0500

    Add PigUnit unit tests.
    Patch by Alex Liu, reviewed by brandonwilliams for CASSANDRA-5695

 .../org/apache/cassandra/pig/CqlTableTest.java     | 236 ++++++
 .../unit/org/apache/cassandra/pig/PigTestBase.java | 167 +++++
 .../cassandra/pig/ThriftColumnFamilyTest.java      | 809 +++++++++++++++++++++
 test/unit/org/apache/pig/test/MiniCluster.java     |  78 ++
 .../org/apache/pig/test/MiniGenericCluster.java    | 122 ++++
 5 files changed, 1412 insertions(+)

commit 152da3cb5eeacaf1b799a6e8443c2d821943bb9b
Merge: 1612ad1 c198b76
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Oct 8 20:43:25 2013 -0400

    Merge branch 'cassandra-2.0' into trunk

commit c198b76c46e4beae45e2a98910322a8761b73684
Author: Dave Brosius <dbrosius@mebigfatguy.com>
Date:   Tue Oct 8 20:37:50 2013 -0400

    Fix NPE if StorageService.getOperationMode() is executed before full startup
    patch by cwarrington reviewed by dbrosius for cassandra-6166

 .../org/apache/cassandra/service/StorageServiceServerTest.java     | 7 +++++++
 1 file changed, 7 insertions(+)

commit ec308e66b34fc6946aa6c1c1b8967ba3aa963a74
Merge: 12c4734 b3647d9
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Oct 3 11:21:32 2013 +0200

    Merge branch 'cassandra-2.0' into trunk

commit b3647d9e7e30668370b701bb0b3724a111e24795
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Oct 3 11:21:18 2013 +0200

    Fix test build

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 12c4734b5d657fec128db6cb284d03c92b2f1882
Merge: c7af304 4106f56
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Oct 3 11:10:49 2013 +0200

    Merge branch 'cassandra-2.0' into trunk

commit 4106f56945a8bc82762338ff1737d387abe0060a
Merge: 4bd8626 20a8050
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Oct 3 11:10:35 2013 +0200

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/db/columniterator/IndexedSliceReader.java

commit 20a805023fa26ab1b2f70b574b35357df9652cd3
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Oct 3 11:06:12 2013 +0200

    Fix skipping columns with multiple slices
    
    patch by frousseau & slebresne; reviewed by frousseau & slebresne for CASSANDRA-6119

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 198 +++++++++++++++++++++
 1 file changed, 198 insertions(+)

commit 7a1436704dc33a1d1cdd987b1a5f4947cd34bf31
Author: Dave Brosius <dbrosius@apache.org>
Date:   Tue Oct 1 21:10:02 2013 -0400

    fix build

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e5f66507ee5b47b4ea90e465a0ac5de717afd9b0
Merge: 17c7e94 58eebc9
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 1 09:02:05 2013 +0200

    Merge branch 'cassandra-2.0' into trunk

commit 58eebc9a977ef7dfafe6ea568cece963191598ce
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 1 08:59:43 2013 +0200

    Fix potential NPE in 2ndary indexes
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-6098

 test/unit/org/apache/cassandra/SchemaLoader.java   |  3 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 48 ++++++++++++++++++++++
 2 files changed, 50 insertions(+), 1 deletion(-)

commit bb8e95c2b93ce4f60288272b51d5829634905674
Merge: fe54388 ed7b08b
Author: Dave Brosius <dbrosius@apache.org>
Date:   Fri Sep 27 22:04:15 2013 -0400

    Merge branch 'cassandra-2.0' into trunk

commit ed7b08b399df8cad311a28a25a47c576238d3f0a
Merge: 3a70933 8d3d67e
Author: Dave Brosius <dbrosius@apache.org>
Date:   Fri Sep 27 22:03:47 2013 -0400

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit 8d3d67e5f2ce2a215dc9f72ca252e5f0efdadc6e
Author: Dave Brosius <dbrosius@apache.org>
Date:   Fri Sep 27 22:03:15 2013 -0400

    fix typo in test

 test/unit/org/apache/cassandra/db/RangeTombstoneListTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2c7b61b76ec034afe4267fdaecd0905db16b40eb
Merge: 5832cc8 d493030
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 26 13:20:25 2013 -0500

    Merge branch 'cassandra-2.0' into trunk

commit d49303078459b0b2e0d40d9f79660ccdc0dc1fe0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 26 13:18:02 2013 -0500

    add back ScrubTest
    patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-5730

 test/unit/org/apache/cassandra/db/ScrubTest.java | 206 +++++++++++++++++++++++
 1 file changed, 206 insertions(+)

commit 5832cc8398a0051da647d2331f90215f5023234d
Merge: e2a3456 b5c23cf
Author: Dave Brosius <dbrosius@apache.org>
Date:   Wed Sep 25 23:20:09 2013 -0400

    Merge branch 'cassandra-2.0' into trunk

commit b5c23cf740c2d04f873fe970c2bef15974518e0d
Merge: 83da4bd 00e871d
Author: Dave Brosius <dbrosius@apache.org>
Date:   Wed Sep 25 23:19:33 2013 -0400

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit 00e871d0fa4f34e0024d82934d7ec9649ab62680
Author: Dave Brosius <dbrosius@apache.org>
Date:   Wed Sep 25 23:15:52 2013 -0400

    don't let test pass by default

 test/unit/org/apache/cassandra/db/ReadMessageTest.java | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 1257868e33827b6e367c6dc51cca4f67f948c9ae
Merge: 6813123 e5cbde9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 19 17:44:33 2013 -0500

    Merge branch 'cassandra-2.0' into trunk

commit e5cbde9d62d7cb3a4755099750107aea77b157be
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 19 17:43:21 2013 -0500

    Revert CASSANDRA-5577 to fix CASSANDRA-6025 and add test
    patch by jbellis

 test/unit/org/apache/cassandra/SchemaLoader.java   |  1 +
 .../cassandra/db/CollationControllerTest.java      | 73 +++++++++++++++++-----
 2 files changed, 57 insertions(+), 17 deletions(-)

commit 0eca1652e8a7b943b62a78df9b7d1ea0564a1370
Merge: 1c98583 2648047
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 18 12:44:56 2013 -0500

    merge from 2.0

commit 2648047a443306c8f2fc921c353cdbd54d964c5f
Merge: e93578b 7161aec
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 18 12:44:31 2013 -0500

    merge from 1.2

commit 7161aec42c5bdb9e007587e20bc71603a505a95d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 18 12:12:51 2013 -0500

    Avoid second-guessing out-of-space state
    patch by jbellis; reviewed by yukim for CASSANDRA-5605

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java          | 2 +-
 test/unit/org/apache/cassandra/db/DirectoriesTest.java                | 4 ++--
 test/unit/org/apache/cassandra/db/ScrubTest.java                      | 2 +-
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java      | 3 +--
 .../unit/org/apache/cassandra/io/sstable/SSTableSimpleWriterTest.java | 2 +-
 5 files changed, 6 insertions(+), 7 deletions(-)

commit fcd0aebb6ec6f7bab267cba952f7a03f1c929512
Merge: 2c65393 3bba32c
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Sat Sep 14 17:47:02 2013 -0700

    Merge branch 'cassandra-2.0' into trunk

commit 3bba32c409e9e6632063a5b5086e8ceb110dab33
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Sat Sep 14 17:45:00 2013 -0700

    Additional NEWS and test fixes for 2.0 (part of CASSANDRA-5909)

 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 86b32704b4e1cac8552461224a6dfd24e11b4df7
Merge: d2c67a1 742e5ba
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Sat Sep 14 16:08:18 2013 -0700

    Merge branch 'cassandra-1.2' into cassandra-2.0

commit 742e5baf6311a1141b42bec0b3c3dc2ff19fa376
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Sat Sep 14 16:05:54 2013 -0700

    Fix CommitLogReplayer date time issue
    patch by Vijay ; reviewed by jbellis for CASSANDRA-5909

 .../apache/cassandra/db/RecoveryManagerTest.java   | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit e546e33872426be0db084b2eee1f9ffac0994772
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Fri Sep 13 09:27:44 2013 +0200

    Remove old json leveled manifest migration code.
    
    Patch by marcuse, reviewed by jbellis for CASSANDRA-5996

 .../org/apache/cassandra/db/DirectoriesTest.java   |  13 ---
 .../db/compaction/LegacyLeveledManifestTest.java   | 117 ---------------------
 .../LegacyLeveledManifestTestHelper.java           |  78 --------------
 3 files changed, 208 deletions(-)

commit 0132b71a05f2e2bfa6fcd5470024644a19a4456f
Merge: 7246502 f6fda9c
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Sep 11 00:58:23 2013 +0300

    Merge branch 'cassandra-2.0' into trunk

commit f6fda9c69c3aa38fbd66d9c005cdc08f81e32962
Merge: 678aa37 fd12966
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Sep 11 00:57:01 2013 +0300

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/db/index/PerRowSecondaryIndex.java
    	src/java/org/apache/cassandra/db/index/SecondaryIndexManager.java

commit fd129664ca482181d2c794a68bbd5a5bcc2b01be
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed Sep 11 00:43:28 2013 +0300

    Pass the updated cf to the PRSI index() method
    
    patch by Ben Coverston; reviewed by Aleksey Yeschenko for
    CASSANDRA-5999

 .../cassandra/db/SecondaryIndexColumnSizeTest.java  |  4 ++--
 .../db/index/PerRowSecondaryIndexTest.java          | 21 ++++++++-------------
 2 files changed, 10 insertions(+), 15 deletions(-)

commit 93ac0397dbf5d5a7cd11dd0631325e62bf33b588
Merge: e01186c 0573d95
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Sep 3 16:16:40 2013 -0500

    Merge branch 'cassandra-2.0' into trunk

commit 0573d95dee25f78d0b2111e6a249844f7bae3a5a
Merge: 31f6ec1 c49ad3c
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Sep 3 16:16:29 2013 -0500

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/io/sstable/IndexSummary.java
    	test/unit/org/apache/cassandra/io/sstable/IndexSummaryTest.java

commit c49ad3ccf2cb568e381b849b77f5734117a81420
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Sep 3 16:00:52 2013 -0500

    Fix loading index summary containing empty key
    
    patch by yukim; reviewed by jbellis for CASSANDRA-5965

 .../cassandra/io/sstable/IndexSummaryTest.java     | 54 ++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit 4e52e0d2add1358c5d80bf9bf805a987dfb4dc5d
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Sep 3 07:18:03 2013 +0300

    Stop using Thrift-generated Index* classes internally
    
    patch by Aleksey Yeschenko; reviewed by Dave Brosius for CASSANDRA-5971

 test/unit/org/apache/cassandra/SchemaLoader.java   |  1 -
 .../cassandra/config/ColumnDefinitionTest.java     |  1 -
 .../unit/org/apache/cassandra/config/DefsTest.java |  1 -
 test/unit/org/apache/cassandra/db/CleanupTest.java |  4 +--
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 41 +++++++++++-----------
 .../apache/cassandra/db/RangeTombstoneTest.java    | 16 ++++-----
 .../cassandra/io/sstable/SSTableReaderTest.java    |  6 ++--
 .../cassandra/streaming/StreamingTransferTest.java |  6 ++--
 8 files changed, 34 insertions(+), 42 deletions(-)

commit 0ebfa3fbbe8cda0e2b91086466e29771303c9020
Merge: 38758c3 83a43f1
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sat Aug 31 21:33:57 2013 -0400

    Merge branch 'cassandra-2.0' into trunk

commit 83a43f121485a66c6862baca52e740cc479910e0
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sat Aug 31 21:33:08 2013 -0400

    replace import junit.framework.* with org.junit.* (junit3 vs junit4)

 .../db/compaction/LongCompactionsTest.java         |  2 +-
 .../org/apache/cassandra/utils/LongBitSetTest.java |  2 +-
 .../org/apache/cassandra/cache/ObjectSizeTest.java |  3 +--
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  3 +--
 .../org/apache/cassandra/db/CommitLogTest.java     | 17 ++++++++-------
 .../org/apache/cassandra/db/HintedHandOffTest.java |  2 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  4 ++--
 .../unit/org/apache/cassandra/db/KeyspaceTest.java | 13 +++++------
 .../unit/org/apache/cassandra/db/NameSortTest.java | 11 +++++-----
 .../cassandra/db/RemoveColumnFamilyTest.java       |  7 ++----
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  7 ++----
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  7 ++----
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  7 ++----
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  6 ++----
 .../org/apache/cassandra/db/RowIterationTest.java  |  2 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |  2 +-
 .../db/compaction/BlacklistingCompactionsTest.java |  4 ++--
 .../db/compaction/CompactionsPurgeTest.java        |  4 ++--
 .../cassandra/db/compaction/CompactionsTest.java   |  2 +-
 .../cassandra/db/compaction/OneCompactionTest.java |  2 +-
 .../db/index/PerRowSecondaryIndexTest.java         |  4 ++--
 .../apache/cassandra/dht/PartitionerTestCase.java  |  4 ++--
 .../cassandra/io/LazilyCompactedRowTest.java       | 17 +++++++--------
 .../cassandra/io/sstable/IndexHelperTest.java      |  2 +-
 .../cassandra/io/sstable/IndexSummaryTest.java     |  2 +-
 .../cassandra/io/sstable/SSTableLoaderTest.java    |  2 +-
 .../cassandra/io/sstable/SSTableScannerTest.java   |  2 +-
 .../apache/cassandra/locator/EC2SnitchTest.java    |  2 +-
 .../locator/NetworkTopologyStrategyTest.java       |  2 +-
 .../org/apache/cassandra/repair/ValidatorTest.java |  5 ++---
 .../apache/cassandra/service/QueryPagerTest.java   |  3 +--
 .../apache/cassandra/service/RowResolverTest.java  |  2 +-
 .../cassandra/streaming/StreamingTransferTest.java |  4 ++--
 .../apache/cassandra/tools/SSTableExportTest.java  | 25 +++++++++++-----------
 .../apache/cassandra/tools/SSTableImportTest.java  |  6 ++----
 .../org/apache/cassandra/utils/BitSetTest.java     |  4 ++--
 .../apache/cassandra/utils/BloomFilterTest.java    |  3 +--
 .../apache/cassandra/utils/IntervalTreeTest.java   |  5 +++--
 .../cassandra/utils/StreamingHistogramTest.java    |  2 +-
 39 files changed, 89 insertions(+), 114 deletions(-)

commit 3205e5dbbc8fb8f365b72137cf1c1ea50f15cab6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 30 13:27:00 2013 -0500

    Revert CASSANDRA-5838

 test/unit/org/apache/cassandra/db/KeyspaceTest.java     | 16 ++++++++--------
 test/unit/org/apache/cassandra/db/RowIterationTest.java |  2 +-
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 5b5d41d4b833630d24a8f180cce1ae6a72d7ebcf
Merge: 73e27b0 bffd9ea
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Aug 30 03:03:29 2013 +0300

    Merge branch 'cassandra-2.0' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/service/StorageService.java
    	tools/stress/src/org/apache/cassandra/stress/Session.java
    	tools/stress/src/org/apache/cassandra/stress/StressStatistics.java

commit bffd9ea8eb5358b5f138cbad8a387d5037d1ac12
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri Aug 30 02:54:10 2013 +0300

    Upgrade Thrift to 0.9.1
    
    patch by Carl Yeksigian and Jake Farrell; reviewed by Aleksey Yeschenko
    for CASSANDRA-5923

 test/unit/org/apache/cassandra/client/TestRingCache.java            | 2 +-
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java        | 6 +++---
 test/unit/org/apache/cassandra/db/KeyspaceTest.java                 | 2 +-
 test/unit/org/apache/cassandra/dht/RangeTest.java                   | 2 +-
 .../cassandra/locator/ReplicationStrategyEndpointCacheTest.java     | 2 +-
 5 files changed, 7 insertions(+), 7 deletions(-)

commit c146f437b51d276efe040e73fd78c89c06bf1ce8
Merge: 48ea937 9495eb5
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Aug 29 10:18:45 2013 -0500

    Merge branch 'cassandra-2.0' into trunk

commit 9495eb59c403cd97ba41e68e68903abb4f8ff113
Merge: 8d4b51d 18be7fa
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Aug 29 10:18:32 2013 -0500

    Merge branch 'cassandra-1.2' into cassandra-2.0
    
    Conflicts:
    	src/java/org/apache/cassandra/streaming/StreamOut.java
    	test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java

commit 18be7fa8760c578a9d42f7512e7767992025ac18
Author: Sergio Bossa <sergio.bossa@gmail.com>
Date:   Wed Aug 28 14:43:04 2013 -0500

    Fix streaming does not transfer wrapped range
    
    patch by Sergio Bossa; reviewed by yukim for CASSANDRA-5948

 .../cassandra/streaming/StreamingTransferTest.java | 181 ++++++++++++---------
 1 file changed, 105 insertions(+), 76 deletions(-)

commit 9e8391a481844fa277b01d64328cf0d14e779a6d
Merge: 3bba76d e49261b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Aug 27 10:51:00 2013 +0200

    Merge branch 'cassandra-2.0' into trunk

commit e49261b46f8db7ccee4205b6dc54741e5d2cc73e
Merge: db381ea c284786
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Aug 27 10:50:45 2013 +0200

    Merge branch 'cassandra-2.0.0' into cassandra-2.0

commit c2847864c6ec05320f18ba380104742b41ca4023
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Aug 27 10:50:07 2013 +0200

    Fix QueryPagerTest

 test/unit/org/apache/cassandra/service/QueryPagerTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2029fb2dca83b7046d490c06ff94964a344023b7
Merge: 74492ef 1af59e3
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed Aug 21 19:33:40 2013 -0700

    Merge branch 'cassandra-2.0' into trunk

commit 1af59e39e2525420d65012eb4cbf2552f1646075
Merge: 7b9ae6a 5774ecb
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed Aug 21 19:33:18 2013 -0700

    Merge branch 'cassandra-2.0.0' into cassandra-2.0

commit 5774ecb4056fc70c52c23ed923a10d01d5fecf59
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed Aug 21 19:32:26 2013 -0700

    Fix for missing filter type in 2.0 branch

 test/unit/org/apache/cassandra/utils/BloomFilterTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 74492ef27f084a58d3825c0fabbd06e1c7c6eb60
Merge: 5e33b9b 7b9ae6a
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed Aug 21 19:25:02 2013 -0700

    Merge branch 'cassandra-2.0' into trunk

commit 7b9ae6a0375d52d18944ad9274f4c5f01ca5a42a
Merge: f3bb823 ed6a5b9
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed Aug 21 19:24:28 2013 -0700

    Merge branch 'cassandra-2.0.0' into cassandra-2.0

commit ed6a5b935d164bb1e0a106886f09dca47517f556
Merge: 372af08 9bb4d93
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed Aug 21 19:23:53 2013 -0700

    Merge branch 'cassandra-1.2' into cassandra-2.0.0

commit 9bb4d93e3c8471012a39cbb0a1be5b082115a42b
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed Aug 21 19:21:28 2013 -0700

    additional check for offheap bloom filter size
    patch by Vijay; reviewed by jbellis for CASSANDRA-5903

 .../apache/cassandra/utils/BloomFilterTest.java    | 36 ++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit 8f243a912362fb5e1e960150bcf5ebee5d5b149b
Merge: e890b1f bc12d73
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 15 15:17:22 2013 -0500

    Merge branch 'cassandra-2.0' into trunk

commit bc12d73a5a0f31ab8258b3d2a35063b5750df91c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 15 15:17:13 2013 -0500

    Cleanup doesn't need to inspect sstables that contain only local data
    patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-5722

 .../cassandra/db/compaction/CompactionsTest.java   | 112 +++++++++++++++++++++
 1 file changed, 112 insertions(+)

commit 29605aedd9e19f2f07042cd0aa6b31b6c94a4aea
Author: Dave Brosius <dbrosius@apache.org>
Date:   Thu Aug 15 06:53:28 2013 -0400

    switch logging from log4j to logback
    patch by dbrosius reviewed by jbellis for cassandra-5883

 test/unit/org/apache/cassandra/db/marshal/UUIDTypeTest.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit a69457c14a36c5eb3db523b3eb42b6d399993177
Merge: c651f83 9e846d9
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Wed Aug 14 08:45:34 2013 +0200

    Merge branch 'cassandra-2.0' into trunk

commit 9e846d9ff69f825f6200f7f75fdfc53926bfc255
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Wed Aug 14 08:41:30 2013 +0200

    Use a range aware scanner for cleanup to improve performance.
    
    Patch by thobbs, stuhood and marcuse, reviewed by marcuse for CASSANDRA-2524

 .../unit/org/apache/cassandra/db/RowCacheTest.java |  37 ++-
 .../cassandra/io/sstable/SSTableScannerTest.java   | 287 +++++++++++++++++++++
 2 files changed, 319 insertions(+), 5 deletions(-)

commit c651f83627b4bc491e2ebe6c8f29c311d40ed2a6
Author: Dave Brosius <dbrosius@apache.org>
Date:   Tue Aug 13 20:44:45 2013 -0400

    add jmx listener to publish metrics for cassandra-5838

 test/unit/org/apache/cassandra/db/RowIterationTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c27a161920a2227cd04f8338a75732920694b1db
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sat Aug 10 10:06:58 2013 -0400

    update metrics-core to 3.0.1
    patch by dbrosius reviewed by jbellis for cassandra-5838

 test/unit/org/apache/cassandra/db/KeyspaceTest.java | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 815b2382a34dc25f005c9cc1bde78e10bc5d2ae0
Author: Jake Luciani <jake@apache.org>
Date:   Thu Aug 8 17:21:40 2013 -0400

    Switch from crc32 to adler32 for compressed sstable checksumns
    and change to checksum the post-compressed data
    
    Patch by tjake; reviewed by jbellis for (CASSANDRA-5862)

 .../cassandra/io/compress/CompressedRandomAccessReaderTest.java       | 4 ++--
 .../cassandra/streaming/compress/CompressedInputStreamTest.java       | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 18f0234bf908d1f970bb694d0bb58539ab427387
Author: Benedict <sub@laerad.com>
Date:   Wed Aug 7 12:19:09 2013 -0500

    Log Merkle tree precision stats
    
    patch by Benedict; reviewed by yukim for CASSANDRA-2698

 .../apache/cassandra/repair/DifferencerTest.java   |   2 +-
 .../cassandra/utils/HistogramBuilderTest.java      | 109 +++++++++++++++++++++
 .../org/apache/cassandra/utils/MerkleTreeTest.java |   9 +-
 3 files changed, 114 insertions(+), 6 deletions(-)

commit ed4a06771f555f49882c37f02ae45a58c2301105
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 6 14:15:46 2013 -0500

    Notify indexer of columns shadowed by range tombstones
    patch by Sam Tunnicliffe; reviewed by jbellis for CASSANDRA-5614

 .../apache/cassandra/db/RangeTombstoneTest.java    | 220 ++++++++++++++++++++-
 1 file changed, 219 insertions(+), 1 deletion(-)

commit 5c2895881b8f4ff080f1f7236f5d759f0323ea91
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jul 31 19:22:29 2013 -0500

    r/m PBS test since it keeps heisenfailing (PBS is already gone for 2.0; see #5455)

 .../apache/cassandra/service/PBSPredictorTest.java | 114 ---------------------
 1 file changed, 114 deletions(-)

commit 1d6bed3ba8b19fe1c618155a5d7806b9bb4c6c4e
Merge: 369415c ab8a28e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 30 15:08:18 2013 -0500

    merge from 1.2

commit ab8a28e365da8ef515a40e838e773d67ad92a282
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 30 14:51:07 2013 -0500

    fix bulk-loading compressed sstables
    patch by Tyler Hobbs and yukim; reviewed by jbellis for CASSANDRA-5820

 .../cassandra/io/sstable/SSTableLoaderTest.java    | 98 ++++++++++++++++++++++
 1 file changed, 98 insertions(+)

commit 6d6a5e330bfdbda911f8ad0df393dedfbf648632
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sun Jul 28 21:12:24 2013 -0400

    use .equals on objects

 test/unit/org/apache/cassandra/utils/MerkleTreeTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 813577e32b7e9a40ff1e71875d019eda44c84586
Merge: 371e7bf 422d223
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Jul 24 11:07:31 2013 -0500

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/KeyCacheTest.java

commit 422d2236b59b80e3cafef9fb8cad3235280e8626
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Jul 24 10:58:07 2013 -0500

    fix KeyCacheTest to work with globalized key cache

 .../unit/org/apache/cassandra/db/KeyCacheTest.java | 75 ++++++++++++++--------
 1 file changed, 49 insertions(+), 26 deletions(-)

commit a9659774b3a9b71975ea9084ed26de971dcd0ee7
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Jul 23 01:30:29 2013 +0300

    fix schema-related trigger issues
    
    patch by Aleksey Yeschenko; reviewed by Jonathan Ellis for
    CASSANDRA-5774

 test/unit/org/apache/cassandra/config/CFMetaDataTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 06939dda2cb307fe5489c9b7ca83ebc259f6cee2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 18 13:26:11 2013 -0700

    Replace countPendingHints with HintsCreated metric
    patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-5746

 test/unit/org/apache/cassandra/db/HintedHandOffTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d41b9e70c0b48aea172f18fdb62ca4a3a687db78
Merge: cf96baa 2188d64
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 18 13:14:43 2013 -0700

    merge from 1.2

commit 4df6c287506b3d4f1628140fbcbb754cb445549e
Merge: 20c0baf f5b224c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 15 10:33:51 2013 +0200

    Merge branch 'cassandra-1.2' into trunk

commit f5b224cf9aa0f319d51078ef4b78d55e36613963
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 15 10:33:34 2013 +0200

    Fix potential index out of bound error in RangeTombstoneList (+test)

 .../cassandra/db/RangeTombstoneListTest.java       | 37 ++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit 20c0baf08565fbae1b6fb52f80155039a847f93a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 15 09:45:54 2013 +0200

    Fix unit tests

 test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java        | 2 +-
 test/unit/org/apache/cassandra/db/marshal/DynamicCompositeTypeTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 88f65a182450c8b08d372166f879ac33ef9a1ea2
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jun 28 18:02:37 2013 +0200

    Optimized data structure for range tombstones (trunk version)

 .../cassandra/db/RangeTombstoneListTest.java       | 269 +++++++++++++++++++++
 .../cassandra/io/LazilyCompactedRowTest.java       |   4 +-
 .../apache/cassandra/tools/SSTableImportTest.java  |   2 +-
 3 files changed, 272 insertions(+), 3 deletions(-)

commit 6e81f816c730de1798fede6073b0908bf49ee5c0
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jun 28 18:02:37 2013 +0200

    Optimized data structure for range tombstones
    
    patch by slebresne; reviewed by frousseau for CASSANDRA-5677

 test/unit/org/apache/cassandra/Util.java           |   2 +-
 .../cassandra/db/RangeTombstoneListTest.java       | 269 +++++++++++++++++++++
 .../cassandra/io/LazilyCompactedRowTest.java       |   4 +-
 3 files changed, 272 insertions(+), 3 deletions(-)

commit daff1fce0f17c03d51e06d1d9a27a70d9785a5a6
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jul 12 15:25:48 2013 +0200

    Cleanup AbstractType/TypeSerializer classes
    
    patch by slebresne; reviewed by carlyeks for CASSANDRA-5744

 .../apache/cassandra/cql/jdbc/JdbcDecimalTest.java |  4 +--
 .../apache/cassandra/db/marshal/RoundTripTest.java |  6 ----
 .../cassandra/serializers/ClientUtilsTest.java     | 37 ++++++++--------------
 3 files changed, 15 insertions(+), 32 deletions(-)

commit db4da73e58424de64d56d61a7bca10d33fe213d1
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Tue Jul 9 19:08:42 2013 -0700

    Save EC2Snitch topology information in system table - take 2
    patch by Vijay; reviewed by Jason Brown for CASSANDRA-5171

 .../apache/cassandra/locator/EC2SnitchTest.java    | 38 ++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit fc8b76f79ec725c1082b18a0d6b19bdd080bb033
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 8 19:39:25 2013 +0200

    Renames post 4495

 .../apache/cassandra/cql/jdbc/JdbcDecimalTest.java |  2 +-
 .../apache/cassandra/db/marshal/BytesTypeTest.java |  2 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    |  5 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |  2 +-
 .../apache/cassandra/db/marshal/RoundTripTest.java |  2 +-
 .../cassandra/db/marshal/TimeUUIDTypeTest.java     |  2 +-
 .../cassandra/db/marshal/TypeValidationTest.java   |  2 +-
 .../cassandra/serializers/ClientUtilsTest.java     | 71 ++++++++++++++++++++++
 .../org/apache/cassandra/type/ClientUtilsTest.java | 71 ----------------------
 9 files changed, 78 insertions(+), 81 deletions(-)

commit e9c674242b617588651ecbb79669e97a612cd25b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 8 18:34:34 2013 +0200

    Don't tie client side use of AbstractType to JDBC
    
    patch by carlyeks; reviewed by ardot for CASSANDRA-4495

 .../apache/cassandra/cql/jdbc/ClientUtilsTest.java | 73 ----------------------
 .../apache/cassandra/cql/jdbc/JdbcDecimalTest.java |  7 ++-
 .../apache/cassandra/db/marshal/BytesTypeTest.java |  1 +
 .../cassandra/db/marshal/CompositeTypeTest.java    |  1 +
 .../db/marshal/DynamicCompositeTypeTest.java       |  1 +
 .../apache/cassandra/db/marshal/RoundTripTest.java | 24 +++----
 .../cassandra/db/marshal/TimeUUIDTypeTest.java     |  1 +
 .../cassandra/db/marshal/TypeValidationTest.java   |  1 +
 .../org/apache/cassandra/type/ClientUtilsTest.java | 71 +++++++++++++++++++++
 9 files changed, 92 insertions(+), 88 deletions(-)

commit 07ca445e5b1a2abce44837c926321dc3bea2749e
Merge: 1a2f357 83b7575
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Mon Jul 8 11:40:27 2013 +0200

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/io/sstable/SSTableMetadata.java
    	src/java/org/apache/cassandra/io/sstable/SSTableWriter.java
    	test/unit/org/apache/cassandra/io/sstable/SSTableMetadataSerializerTest.java

commit 83b75754ff143d4d77b01ef76a813da47779c6f4
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Mon Jul 8 09:55:34 2013 +0200

    Don't keep ancestor information in memory since it is only used on startup.
    
    patch by marcuse, reviewed by jbellis for CASSANDRA-5342

 .../cassandra/io/sstable/SSTableMetadataSerializerTest.java | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 4b8897327794855e442b93edc470a5710d240a83
Merge: 09ea746 1a8f723
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 1 09:37:08 2013 +0200

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/columniterator/IndexedSliceReader.java
    	test/unit/org/apache/cassandra/db/RangeTombstoneTest.java

commit 1a8f7230a1b56d8e58c33ef2922f4460e7b6f913
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 1 09:29:48 2013 +0200

    Fix sometimes skipping range tombstones during reverse queries
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-5712

 .../apache/cassandra/db/RangeTombstoneTest.java    | 37 ++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit ff339c58cc6726c676039e8a7ed4c2f6a0ea4f14
Author: Jason Brown <jasedbrown@gmail.com>
Date:   Fri Jun 28 14:04:27 2013 -0700

    Refactor IESCS in Snitches, (part 2 - rework YFNTS)
    patch by jasobrown; reviewed by jbellis for CASSANDRA-5681

 .../locator/YamlFileNetworkTopologySnitchTest.java      | 17 -----------------
 1 file changed, 17 deletions(-)

commit 0e96e585837c277073779a5f004fbb1e245964af
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Jun 27 21:35:18 2013 +0300

    Rename Table to Keyspace
    
    patch by Jeremiah Jordan; reviewed by Aleksey Yeschenko for
    CASSANDRA-5613

 .../org/apache/cassandra/db/LongKeyspaceTest.java  |  71 +++
 .../org/apache/cassandra/db/LongTableTest.java     |  71 ---
 .../apache/cassandra/db/MeteredFlusherTest.java    |   4 +-
 .../db/compaction/LongCompactionsTest.java         |  14 +-
 .../LongLeveledCompactionStrategyTest.java         |   6 +-
 test/unit/org/apache/cassandra/SchemaLoader.java   |   4 +-
 test/unit/org/apache/cassandra/Util.java           |  10 +-
 .../apache/cassandra/cache/CacheProviderTest.java  |   4 +-
 .../apache/cassandra/config/CFMetaDataTest.java    |  16 +-
 .../cassandra/config/DatabaseDescriptorTest.java   |  12 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |  26 +-
 test/unit/org/apache/cassandra/db/CleanupTest.java |  14 +-
 .../cassandra/db/CollationControllerTest.java      |   4 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 168 +++---
 .../org/apache/cassandra/db/CounterColumnTest.java |   2 +-
 .../apache/cassandra/db/CounterMutationTest.java   |   8 +-
 .../org/apache/cassandra/db/HintedHandOffTest.java |  10 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  16 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |   6 +-
 .../unit/org/apache/cassandra/db/KeyspaceTest.java | 649 ++++++++++++++++++++
 .../org/apache/cassandra/db/MultitableTest.java    |  14 +-
 .../unit/org/apache/cassandra/db/NameSortTest.java |  14 +-
 .../apache/cassandra/db/RangeTombstoneTest.java    |   8 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |   4 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  |   6 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |  14 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  20 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  12 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   4 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   4 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   4 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |   4 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |   8 +-
 .../unit/org/apache/cassandra/db/RowCacheTest.java |   6 +-
 .../org/apache/cassandra/db/RowIterationTest.java  |  22 +-
 .../apache/cassandra/db/SerializationsTest.java    |   4 +-
 .../apache/cassandra/db/SystemKeyspaceTest.java    |  80 +++
 .../org/apache/cassandra/db/SystemTableTest.java   |  81 ---
 test/unit/org/apache/cassandra/db/TableTest.java   | 653 ---------------------
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  26 +-
 .../db/compaction/BlacklistingCompactionsTest.java |   6 +-
 .../db/compaction/CompactionsPurgeTest.java        |  72 +--
 .../cassandra/db/compaction/CompactionsTest.java   |  56 +-
 .../compaction/LeveledCompactionStrategyTest.java  |  16 +-
 .../cassandra/db/compaction/OneCompactionTest.java |   6 +-
 .../cassandra/db/compaction/TTLExpiryTest.java     |   7 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    |   4 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |   4 +-
 .../org/apache/cassandra/dht/BootStrapperTest.java |  14 +-
 .../cassandra/io/LazilyCompactedRowTest.java       |  24 +-
 .../cassandra/io/sstable/SSTableMetadataTest.java  |  18 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    |  32 +-
 .../io/sstable/SSTableSimpleWriterTest.java        |   8 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  24 +-
 .../locator/NetworkTopologyStrategyTest.java       |   8 +-
 .../ReplicationStrategyEndpointCacheTest.java      |  18 +-
 .../cassandra/locator/SimpleStrategyTest.java      |  24 +-
 .../org/apache/cassandra/repair/ValidatorTest.java |   4 +-
 .../service/AntiEntropyServiceCounterTest.java     |   4 +-
 .../service/AntiEntropyServiceStandardTest.java    |   4 +-
 .../service/AntiEntropyServiceTestAbstract.java    |  40 +-
 .../cassandra/service/LeaveAndBootstrapTest.java   |  74 +--
 .../org/apache/cassandra/service/MoveTest.java     |  50 +-
 .../apache/cassandra/service/QueryPagerTest.java   |   2 +-
 .../org/apache/cassandra/service/RelocateTest.java |  16 +-
 .../apache/cassandra/service/RowResolverTest.java  |   2 +-
 .../service/StorageServiceServerTest.java          |  24 +-
 .../cassandra/streaming/StreamingTransferTest.java |  30 +-
 .../apache/cassandra/utils/EncodedStreamsTest.java |   6 +-
 69 files changed, 1344 insertions(+), 1356 deletions(-)

commit 67435b528dd474bd25fc90eaace6e6786f75ce04
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jun 26 19:34:27 2013 +0200

    Fix ALTER RENAME post-5125
    
    patch by slebresne; reviewed by iamaleksey for CASSANDRA-5702

 .../apache/cassandra/config/CFMetaDataTest.java    | 28 +++++++++++++++-------
 .../unit/org/apache/cassandra/config/DefsTest.java |  2 +-
 2 files changed, 20 insertions(+), 10 deletions(-)

commit eb4fa4a621db43ad9d48b146ee16caf09db7a853
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed May 29 15:46:50 2013 -0500

    Redesign repair messages
    
    patch by yukim; reviewed by slebresne for CASSANDRA-5426

 .../compaction/LeveledCompactionStrategyTest.java  |  10 +-
 .../apache/cassandra/repair/DifferencerTest.java   | 139 +++++++++++++++
 .../org/apache/cassandra/repair/ValidatorTest.java | 169 ++++++++++++++++++
 .../service/AntiEntropyServiceTestAbstract.java    | 103 +----------
 .../cassandra/service/SerializationsTest.java      | 198 ++++++++++++++++-----
 .../org/apache/cassandra/utils/MerkleTreeTest.java | 136 +++++++-------
 6 files changed, 539 insertions(+), 216 deletions(-)

commit e48ff29387547c0837ab381f6e890f8417a1b65c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue May 28 10:17:26 2013 +0200

    Add auto paging capability to the native protocol
    
    This also generalize the paging used internally, and pages CQL3 'select
    count' operation to avoid OOM.
    
    patch by slebresne; reviewed by iamaleksey for CASSANDRA-4415

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 113 +++++---
 .../cassandra/db/compaction/CompactionsTest.java   |   4 +-
 .../cassandra/db/compaction/TTLExpiryTest.java     |   4 +-
 .../apache/cassandra/service/QueryPagerTest.java   | 283 +++++++++++++++++++++
 4 files changed, 363 insertions(+), 41 deletions(-)

commit 140b0311df890d2258f19f3df98f1a996b6f2a6e
Merge: b73f9d4 fbe8a6e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 21 09:27:21 2013 -0500

    merge from 1.2

commit fbe8a6eb213ee3558be701c73c31a0da79446657
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 20 10:19:13 2013 -0500

    Fix tracing when operation completesbefore all responses arrive
    patch by jbellis; reviewed by slebresne for CASSANDRA-5668

 .../cassandra/service/AntiEntropyServiceTestAbstract.java      | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 51511697254615b570f4162bbcd2baee23a234e9
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue May 28 20:28:13 2013 -0500

    Streaming 2.0
    
    patch by Yukim; reviewed by slebresne for CASSANDRA-5286

 .../org/apache/cassandra/dht/BootStrapperTest.java |   3 +-
 .../org/apache/cassandra/service/RemoveTest.java   |  38 +---
 .../apache/cassandra/streaming/BootstrapTest.java  |  54 -----
 .../cassandra/streaming/SerializationsTest.java    | 220 ---------------------
 .../cassandra/streaming/SessionInfoTest.java       |  73 +++++++
 .../org/apache/cassandra/streaming/StreamUtil.java |  46 -----
 .../cassandra/streaming/StreamingTransferTest.java | 198 ++++++++++++-------
 .../compress/CompressedInputStreamTest.java        |   5 +-
 8 files changed, 205 insertions(+), 432 deletions(-)

commit 89e792fc5930dec6d81776d1aa6c09bbc36e3b28
Merge: 1f7628c 26c4262
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Jun 18 20:23:36 2013 +0300

    Merge branch 'cassandra-1.2' into trunk

commit 26c4262233c0fb1b4593683bf7829d42ca3e12b8
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Jun 18 20:22:28 2013 +0300

    cli: ninja column->cell

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f7628ce7c1b3f820717eaa44df9b182158eb49e
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Jun 18 19:15:02 2013 +0300

    Include a timestamp with all read commands to determine column expiration
    
    patch by Aleksey Yeschenko; reviewed by Sylvain Lebresne for
    CASSANDRA-5149

 .../org/apache/cassandra/db/LongTableTest.java     |   5 +-
 test/unit/org/apache/cassandra/SchemaLoader.java   |   2 +-
 test/unit/org/apache/cassandra/Util.java           |   9 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |   6 +-
 test/unit/org/apache/cassandra/db/CleanupTest.java |   4 +-
 .../cassandra/db/CollationControllerTest.java      |   4 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 259 +++++++++++++++------
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |   4 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  12 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |   2 +-
 .../apache/cassandra/db/RangeTombstoneTest.java    |  10 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  13 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |   6 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   2 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   2 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   2 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  18 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  10 +-
 .../unit/org/apache/cassandra/db/RowCacheTest.java |  28 ++-
 test/unit/org/apache/cassandra/db/RowTest.java     |   4 +-
 .../apache/cassandra/db/SerializationsTest.java    |  24 +-
 test/unit/org/apache/cassandra/db/TableTest.java   |  94 +++++---
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  13 +-
 .../db/compaction/CompactionsPurgeTest.java        |  22 +-
 .../cassandra/db/compaction/CompactionsTest.java   |   4 +-
 .../compaction/LeveledCompactionStrategyTest.java  |   2 +-
 .../cassandra/db/compaction/TTLExpiryTest.java     |   2 +-
 .../db/index/PerRowSecondaryIndexTest.java         |   7 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    |   2 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |   2 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    |   2 +-
 .../service/AntiEntropyServiceTestAbstract.java    |   2 +-
 .../apache/cassandra/service/RowResolverTest.java  |  14 +-
 .../cassandra/streaming/StreamingTransferTest.java |  12 +-
 .../apache/cassandra/tools/SSTableExportTest.java  |   4 +-
 .../apache/cassandra/tools/SSTableImportTest.java  |  12 +-
 36 files changed, 392 insertions(+), 228 deletions(-)

commit 62295f68c7b7b10cc7d41d72f0817e17133a9b36
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Tue Jun 18 17:57:22 2013 +0200

    another try at fixing the broken testMutateLevel test

 .../apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 60bf7a5730b47ceec64cc7974cb047c1bd59c792
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 11 22:15:34 2013 -0700

    run RAT

 .../db/compaction/BlacklistingCompactionsTest.java  | 21 +++++++++++++++++++++
 .../db/compaction/LegacyLeveledManifestTest.java    | 21 +++++++++++++++++++++
 .../cassandra/db/compaction/TTLExpiryTest.java      | 21 +++++++++++++++++++++
 .../cassandra/io/sstable/IndexSummaryTest.java      | 21 +++++++++++++++++++++
 .../cassandra/io/sstable/SSTableMetadataTest.java   | 21 +++++++++++++++++++++
 5 files changed, 105 insertions(+)

commit 9e8691c26283f2532be3101486a8290ed5128c18
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Mon Jun 3 09:31:47 2013 +0200

    clean up shaky LeveledCompactionStrategyTest

 .../compaction/LeveledCompactionStrategyTest.java   | 21 ++++++++-------------
 1 file changed, 8 insertions(+), 13 deletions(-)

commit c0c1492666e44612ec4f3ca5b47ffcd68e85e210
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sat Jun 1 23:42:49 2013 -0400

    have BulkLoader ignore snapshot directories
    patch by jaymé reviewed by dbrosius for cassandra-5587

 test/unit/org/apache/cassandra/io/sstable/DescriptorTest.java | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 6f5d8a56fc026fbf7173cfc364346def3806c7d5
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Fri May 31 04:04:36 2013 +0300

    Ninja-kill what's left from avro

 test/unit/org/apache/cassandra/config/CFMetaDataTest.java         | 3 +--
 test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java | 1 -
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 0ad499e9a82afa23f17672e25678d065b421e0d8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 23 15:08:58 2013 -0500

    Track max/min column names in sstables to be able to optimize slice queries.
    
    Patch by marcuse and jbellis, reviewed by jbellis for CASSANDRA-5514

 test/unit/org/apache/cassandra/SchemaLoader.java   |   6 ++
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   4 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 102 +++++++++++++++++++++
 .../cassandra/db/marshal/CompositeTypeTest.java    |   3 +
 .../compress/CompressedRandomAccessReaderTest.java |   5 +-
 .../io/sstable/SSTableMetadataSerializerTest.java  |   3 +-
 .../cassandra/io/sstable/SSTableMetadataTest.java  |  99 ++++++++++++++++++++
 .../compress/CompressedInputStreamTest.java        |   3 +-
 8 files changed, 219 insertions(+), 6 deletions(-)

commit a3734e54bc9032dedad5d44394cca8dc7e400a43
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 22 15:31:26 2013 -0500

    remove on-heap row cache
    
    Removed on-heap row cache
    patch by jbellis; reviewed by jasobrown for CASSANDRA-5348

 test/unit/org/apache/cassandra/db/CollationControllerTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2ee90305cd1e62033d2b78269487a73819a20c21
Merge: c609f27 3a51ccf
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed May 22 00:41:50 2013 +0300

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/BatchlogManager.java
    	src/java/org/apache/cassandra/db/RowMutation.java
    	src/java/org/apache/cassandra/service/StorageProxy.java
    	test/unit/org/apache/cassandra/db/HintedHandOffTest.java

commit 3a51ccf2d12a5fcfaa1378eff0209526c9a33278
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Wed May 22 00:25:27 2013 +0300

    Improve batchlog replay behavior and hint ttl handling
    
    patch by Aleksey Yeschenko; reviewed by Jonathan Ellis for
    CASSANDRA-5314

 test/unit/org/apache/cassandra/db/HintedHandOffTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1d2c12242f20dfcc0b787129b4ad8eeef2768d6b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 21 10:02:12 2013 -0500

    use nanotime consistently for node-local timeouts
    patch by Mikhail Mazursky; reviewed by jbellis for CASSANDRA-5581

 .../db/compaction/LongCompactionsTest.java         |  5 +++--
 .../org/apache/cassandra/utils/LongBitSetTest.java | 25 +++++++++++-----------
 .../DebuggableThreadPoolExecutorTest.java          |  4 ++--
 test/unit/org/apache/cassandra/db/CleanupTest.java |  5 +++--
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  1 -
 5 files changed, 21 insertions(+), 19 deletions(-)

commit 997ab95936c3527252a20f92d7deafcda493ec4e
Author: Dave Brosius <dbrosius@apache.org>
Date:   Thu May 16 17:47:25 2013 -0400

    remove unused imports

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java         | 7 -------
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 4 ----
 2 files changed, 11 deletions(-)

commit 42a39b5d642efc6c593b27e26642a9acb5b84a2f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 15 18:03:13 2013 -0500

    simplify de-tombstoning of columns for pre-collated results

 test/unit/org/apache/cassandra/tools/SSTableExportTest.java | 2 +-
 test/unit/org/apache/cassandra/tools/SSTableImportTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 2effc40edb798fc3e39b0511b5be39e6d0738f59
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 13 11:26:23 2013 -0500

    replace Thread.sleep with Uninterruptibles.sleepUninterruptibly
    patch by Mikhail Mazursky; reviewed by jbellis for CASSANDRA-5557

 .../org/apache/cassandra/db/RemoveSubColumnTest.java    |  7 +++++--
 test/unit/org/apache/cassandra/db/RowTest.java          | 17 ++++++-----------
 .../apache/cassandra/db/context/CounterContextTest.java | 12 ++++--------
 .../unit/org/apache/cassandra/service/RelocateTest.java | 12 ++++--------
 4 files changed, 19 insertions(+), 29 deletions(-)

commit 72231959a622f51ee2030a9da5a56aa027328970
Merge: 738b127 2699533
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sat May 11 01:52:12 2013 +0300

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/service/CassandraServerTest.java

commit 26995337b8d65f7af8eb12ef3a2c946fc4ad41c1
Merge: c3ff774 ce8bc33
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sat May 11 01:37:00 2013 +0300

    Merge branch 'cassandra-1.1' into cassandra-1.2
    
    Conflicts:
    	test/unit/org/apache/cassandra/service/CassandraServerTest.java

commit ce8bc33d438dc0877a2bcb0049d4c1d84db508d5
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sat May 11 01:30:17 2013 +0300

    Move CassandraServerTest.test_get_count() to thrift server tests

 .../cassandra/service/CassandraServerTest.java     | 88 ----------------------
 1 file changed, 88 deletions(-)

commit a9bd531bc9a286cc8e81a800aaa29c1fead62dcd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 7 14:20:53 2013 -0500

    Single-pass compaction
    patch by jbellis; reviewed by marcuse for CASSANDRA-4180

 test/unit/org/apache/cassandra/SchemaLoader.java   |  21 +-
 test/unit/org/apache/cassandra/Util.java           |  18 --
 test/unit/org/apache/cassandra/db/ScrubTest.java   | 222 ---------------------
 .../apache/cassandra/db/SerializationsTest.java    |   3 +-
 .../cassandra/db/compaction/CompactionsTest.java   |   3 +-
 .../cassandra/io/LazilyCompactedRowTest.java       |  44 ++--
 .../apache/cassandra/io/sstable/SSTableTest.java   | 112 -----------
 .../cassandra/service/LeaveAndBootstrapTest.java   |   2 +-
 .../org/apache/cassandra/service/MoveTest.java     |   2 +-
 .../org/apache/cassandra/service/RemoveTest.java   |   2 +-
 10 files changed, 34 insertions(+), 395 deletions(-)

commit f1c9bc612e2df5ffacec0debedb2021f1a9171e7
Author: Dave Brosius <dbrosius@apache.org>
Date:   Tue May 7 01:47:03 2013 -0400

    don't declare throwing exceptions that aren't thrown

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 35633503d579b5fd67282b7e4d1f252489acb9e8
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Sun May 5 22:37:39 2013 -0700

    5306 test fix

 test/unit/org/apache/cassandra/locator/DynamicEndpointSnitchTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b0ec50cc389d1ca27eebe18256fcc2c1f91f8a2
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sun May 5 17:06:12 2013 -0400

    don't declare throwing exceptions that aren't thrown

 test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bfa06db1ac4755ce8dc01856eeaefebbf9c7a892
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sun May 5 15:43:54 2013 -0400

    remove throws declarations on methods that don't throw those exceptions

 test/unit/org/apache/cassandra/client/TestRingCache.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit ec5f416a466f3de8c1341cc426f25dcce7a7e723
Merge: b505b90 ac1d7ee
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Sat May 4 20:34:34 2013 +0200

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	build.xml
    	src/java/org/apache/cassandra/db/compaction/LeveledManifest.java
    	test/unit/org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java

commit c007102c5b2fe2b6abd09a19cbc4b69f5e83ad0b
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri May 3 12:53:16 2013 -0500

    fix repair test after CASSANDRA-5523

 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java   | 3 +++
 1 file changed, 3 insertions(+)

commit c33ccd9e38cae018022bec16e66489428bfc8912
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Fri May 3 01:13:44 2013 -0700

    move IndexSummary off heap
    patch by Vijay; reviewed by jbellis for CASSANDRA-5521

 .../cassandra/io/sstable/IndexSummaryTest.java     | 87 ++++++++++++++++++++++
 .../cassandra/io/sstable/SSTableReaderTest.java    |  5 +-
 2 files changed, 90 insertions(+), 2 deletions(-)

commit 57c75a7c296c1952704b8347eb8ce6f1d3d3704b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 2 12:18:23 2013 -0500

    fix tests

 .../apache/cassandra/tools/SSTableExportTest.java  | 25 ----------------------
 1 file changed, 25 deletions(-)

commit b6be6835d15c1c709d503d7f03aad2355ea60f40
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 2 11:47:34 2013 -0500

    check outputstream for broken pipe
    patch by Pawel Mirski; reviewed by jbellis for CASSANDRA-5150

 .../apache/cassandra/tools/SSTableExportTest.java  | 63 ++++++++++++++++++++--
 1 file changed, 60 insertions(+), 3 deletions(-)

commit 3f394828f9c6cca20d8e376b9465fa2069efd542
Author: Dave Brosius <dbrosius@apache.org>
Date:   Wed May 1 21:03:33 2013 -0400

    SchemaLoader.oldCfIdGenerator no longer used - removed

 test/unit/org/apache/cassandra/SchemaLoader.java | 3 ---
 1 file changed, 3 deletions(-)

commit e26b726ccbc140f3971ce24371bd555db497e94e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 26 23:54:03 2013 -0500

    Removed token range bisection
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-5518

 .../org/apache/cassandra/dht/BootStrapperTest.java | 111 ---------------------
 1 file changed, 111 deletions(-)

commit 74f37b5a398fea0d60c5dc87124208a28580e8c3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 30 15:51:34 2013 -0500

    ghetto merge from 1.2

 .../org/apache/cassandra/cache/ObjectSizeTest.java  | 21 +++++++++++++++++++++
 .../compaction/LegacyLeveledManifestTestHelper.java | 21 +++++++++++++++++++++
 .../cassandra/io/sstable/SSTableReaderTest.java     |  4 +---
 3 files changed, 43 insertions(+), 3 deletions(-)

commit 60f09f0121e0801851b9ab017eddf7e326fa05fb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 30 14:10:07 2013 -0500

    ant rat-write

 .../org/apache/cassandra/cache/ObjectSizeTest.java  | 21 +++++++++++++++++++++
 .../compaction/LegacyLeveledManifestTestHelper.java | 21 +++++++++++++++++++++
 2 files changed, 42 insertions(+)

commit 2b0797b24e2d4a433c0e17506a0d8bb812f8f2dd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 30 14:09:25 2013 -0500

    fix compaction throttling bursty-ness
    patch by yukim and jbellis for CASSANDRA-4316

 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4439b4117dad85b206f3cd8d4bfbb4a5d1a9e822
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Apr 28 09:49:56 2013 -0500

    ghetto-merge from cassandra 1.2

 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9851b73fc3bbaf61ec80b54c64483bcf56aaa396
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Apr 28 09:10:38 2013 -0500

    Reduce memory consumption of IndexSummary
    patch by jbellis; reviewed by vijay for CASSANDRA-5506

 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7f2c3a8e40f97c626def5c510d77c1da3d9ae926
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 26 13:17:32 2013 -0500

    Removed compatibility with pre-1.2.5 sstables and network messages
    patch by jbellis; reviewed by marcuse for CASSANDRA-5511

 .../cassandra/utils/LongBloomFilterTest.java       |  68 +++--------
 .../cassandra/utils/LongLegacyBloomFilterTest.java |  65 ----------
 test/unit/org/apache/cassandra/SchemaLoader.java   | 122 +++++++++----------
 .../unit/org/apache/cassandra/config/DefsTest.java |   8 --
 .../org/apache/cassandra/db/CommitLogTest.java     |   2 -
 .../org/apache/cassandra/db/DirectoriesTest.java   |  27 -----
 .../org/apache/cassandra/db/KeyCollisionTest.java  |   5 -
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  45 ++++---
 .../cassandra/io/LazilyCompactedRowTest.java       |   9 +-
 .../cassandra/io/sstable/DescriptorTest.java       |  67 -----------
 .../cassandra/io/sstable/LegacySSTableTest.java    |   5 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    |  32 +----
 .../apache/cassandra/io/sstable/SSTableTest.java   |   4 +-
 .../service/StorageServiceServerTest.java          |   3 +-
 .../org/apache/cassandra/utils/BitSetTest.java     |  28 +----
 .../apache/cassandra/utils/BloomFilterTest.java    |   4 +-
 .../cassandra/utils/LegacyBloomFilterTest.java     | 132 ---------------------
 .../apache/cassandra/utils/SerializationsTest.java |  52 +-------
 18 files changed, 122 insertions(+), 556 deletions(-)

commit 2fa332176fb246c21b5238570f8cda75b7359db4
Merge: 32f4e2c 49ec3e8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 25 11:55:45 2013 -0500

    Merge branch 'cassandra-1.2' into trunk

commit 49ec3e804d1db54fdba83437a9f837e0120661b6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 23 23:26:54 2013 -0500

    update buildTestSSTable to compile

 test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 32f4e2ccec259c3a7c9527b538d53464c52cfc11
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Thu Apr 25 18:17:53 2013 +0200

    Use new ic legacy sstables for legacy leveled manifest test

 .../db/compaction/LegacyLeveledManifestTest.java      | 19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 85b0d150fb5cf7892eafd6f090cc176e3634a0af
Merge: bf2ee04 591b8ca
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Thu Apr 25 18:16:39 2013 +0200

    Merge branch 'cassandra-1.2' into trunk

commit 591b8ca4b3cd1074f6c62414975950a69149748d
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Thu Apr 25 18:04:12 2013 +0200

    Add helper to create sstables for legacy leveled manifest test

 test/unit/org/apache/cassandra/SchemaLoader.java   |  3 ++
 .../LegacyLeveledManifestTestHelper.java           | 57 ++++++++++++++++++++++
 2 files changed, 60 insertions(+)

commit c48acd9e6e74a4fa9039df0f599fefdb948ee72b
Merge: 784738e 304a25e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 23 13:11:25 2013 -0500

    merge from 1.2

commit 3d557240ae85f626852fe7eb14bf8cfb1077d1b2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 19 13:43:26 2013 -0500

    resurrect ScrubTest

 test/unit/org/apache/cassandra/db/ScrubTest.java | 211 +++++++++++++++++++++++
 1 file changed, 211 insertions(+)

commit 302267e8a3761053f4acac43dc7dfaa4877384c6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 22 08:40:54 2013 -0500

    remove per-row bloom filter of column names
    patch by jbellis; reviewed by slebresne for CASSANDRA-5492

 test/unit/org/apache/cassandra/Util.java                 | 2 +-
 test/unit/org/apache/cassandra/cache/ObjectSizeTest.java | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 573ddbfb057ac1858e910f569d7204df1d87519e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 22 08:47:08 2013 -0500

    RIE.DeletionInfo -> DeletionTime

 test/unit/org/apache/cassandra/cache/ObjectSizeTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 98b5195f7eb1f3a88bb86aa95211403dbd73c98d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 22 08:40:33 2013 -0500

    cleanup

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 2 +-
 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java    | 4 ----
 2 files changed, 1 insertion(+), 5 deletions(-)

commit 3a3f612f871a5697187b59fba3c863d916011435
Merge: b59ca1f 7746225
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 22 09:39:48 2013 -0500

    merge from cassandra-1.2

commit 7746225dc5bfc07297cc485c8035fd7441e38e88
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 22 08:22:18 2013 -0500

    Revert "Always record row-level tombstones in index component; this time from the correct feature branch"
    
    This reverts commits 811f82c5b151bb1f6178392470981883d5e1dfc5, 317ab72a8cc067bd16db63d9e6c19390e96075f9, 344f5fa5af64b601751269fc570fbf4de930e9e2, d7a09825025374b6a49a250467039dc15f36d053.

 test/unit/org/apache/cassandra/cache/ObjectSizeTest.java  | 9 ++++-----
 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java | 4 ++++
 2 files changed, 8 insertions(+), 5 deletions(-)

commit debd8f0176038f6933978eb9b4f8ee6adc07b541
Author: Yuki Morishita <yukim@apache.org>
Date:   Mon Apr 15 22:01:37 2013 -0500

    Fix primary range ignores replication strategy patch by yukim; reviewed by jbellis for CASSANDRA-5424

 .../service/AntiEntropyServiceTestAbstract.java    |   2 +-
 .../service/StorageServiceServerTest.java          | 187 ++++++++++++++++++++-
 2 files changed, 186 insertions(+), 3 deletions(-)

commit 811f82c5b151bb1f6178392470981883d5e1dfc5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 19 14:04:41 2013 -0500

    fix build, sort of

 test/unit/org/apache/cassandra/cache/ObjectSizeTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 317ab72a8cc067bd16db63d9e6c19390e96075f9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 19 13:31:11 2013 -0500

    fix merge

 test/unit/org/apache/cassandra/cache/ObjectSizeTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d7a09825025374b6a49a250467039dc15f36d053
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 19 13:27:22 2013 -0500

    Always record row-level tombstones in index component; this time from the correct feature branch
    patch by jbellis; reviewed by jasobrown for CASSANDRA-5487

 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java | 4 ----
 1 file changed, 4 deletions(-)

commit 17034c0878659ea99e24b665c71e0b454f21809e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 19 13:26:27 2013 -0500

    Revert "Always record row-level tombstones in index component"
    
    This reverts commit 798470e051af794b605cce28031b33b589cfc6d8.

 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java | 4 ++++
 1 file changed, 4 insertions(+)

commit 798470e051af794b605cce28031b33b589cfc6d8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 19 13:20:46 2013 -0500

    Always record row-level tombstones in index component
    patch by jbellis; reviewed by jasobrown for CASSANDRA-5487

 test/unit/org/apache/cassandra/db/RangeTombstoneTest.java | 4 ----
 1 file changed, 4 deletions(-)

commit 29974346a4fb50ee9c8b65ade7fbdafe32f411dd
Merge: 116d907 9fc071a
Author: Jason Brown <jasedbrown@gmail.com>
Date:   Thu Apr 18 10:42:25 2013 -0700

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/io/sstable/Descriptor.java
    	test/unit/org/apache/cassandra/streaming/BootstrapTest.java

commit 9fc071a39971d7e2a4b17399b07630f6f2438484
Author: Jason Brown <jasedbrown@gmail.com>
Date:   Thu Apr 18 05:56:18 2013 -0700

    Do not hard code the current Descriptor version into BootstrapTest.
    patch by jasobrown; reviewed by Aleksey Yeschenko for CASSANDRA-5495

 test/unit/org/apache/cassandra/streaming/BootstrapTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 116d90761700c08c3ae25bf1e710bfde353abcdf
Merge: e73d37d 455a0fc
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Apr 18 19:48:29 2013 +0300

    Merge branch 'cassandra-1.2' into trunk

commit 455a0fccfb6f2e679c4d69857ccca2899a5a1d33
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Apr 18 19:47:13 2013 +0300

    Fix SemanticVersion.isSupportedBy minor/patch handling
    
    patch by Aleksey Yeschenko; reviewed by Jonathan Ellis for
    CASSANDRA-5496

 test/unit/org/apache/cassandra/utils/SemanticVersionTest.java | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 7a6fbc1b22a099abe368b786e9933fb5d980c329
Merge: 67f5d6f da93a1c
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Tue Apr 16 18:42:53 2013 -0700

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/ColumnFamily.java
    	src/java/org/apache/cassandra/db/RowIndexEntry.java

commit da93a1cfe483a1522b2c149d287279a74e43a8a9
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Tue Apr 16 18:24:11 2013 -0700

    replace measureDeep in key cache with custom calculation
    patch by Vijay; reviewed by Jonathan Ellis for CASSANDRA-4860

 .../apache/cassandra/cache/CacheProviderTest.java  | 33 ++++++---
 .../org/apache/cassandra/cache/ObjectSizeTest.java | 83 ++++++++++++++++++++++
 2 files changed, 107 insertions(+), 9 deletions(-)

commit 46595896c0bc74f7305cab890778cc411dd38375
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 16 12:45:08 2013 -0500

    finish s/markCompacted/markObsolete/

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8ce9edf0409945c81f36c08f0e8e39c1ccb7db4b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 11 21:31:27 2013 -0500

    fix SerializationsTest

 .../org/apache/cassandra/AbstractSerializationsTester.java   |  1 -
 test/unit/org/apache/cassandra/db/SerializationsTest.java    | 12 ++++--------
 2 files changed, 4 insertions(+), 9 deletions(-)

commit 0c7141ee8afa05d46680ec22635a5bf41f827b75
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 11 11:29:33 2013 -0500

    remove PBSPredictor
    patch by jbellis; reviewed by marcuse for CASSANDRA-5455

 .../apache/cassandra/service/PBSPredictorTest.java | 114 ---------------------
 1 file changed, 114 deletions(-)

commit eba27a641341878c08180c88814e33287ca8b05b
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Apr 11 11:23:08 2013 -0500

    fix merge failure

 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0aaf67a74f441a8d3c4b54920f35c93f064be4f5
Merge: 8b0e186 0f1fb43
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Apr 11 11:12:36 2013 -0500

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/ColumnIndex.java
    	src/java/org/apache/cassandra/io/sstable/SSTableWriter.java
    	test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java

commit 8b0e1868e8cf813ddfc98d11448aa2ad363eccc1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 11 10:57:48 2013 -0500

    initial CAS support
    patch by jbellis and slebresne for CASSANDRA-5062

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java      | 4 ++--
 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 0f1fb4340ca1f6360487c76909883bfedc63e4ce
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Apr 11 10:57:42 2013 -0500

    Fix streaming RangeTombstones at column index boundary; patch by slebresne reviewed by yukim for CASSANDRA-5418

 .../cassandra/streaming/StreamingTransferTest.java | 36 ++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit f5ec4c7c3620d453db39d44217cfeca4f775b47b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 11 09:32:41 2013 -0500

    remove CompactSerializerTest; it doesn't tell us  anything useful

 .../apache/cassandra/io/CompactSerializerTest.java | 163 ---------------------
 1 file changed, 163 deletions(-)

commit 576efcd8121e70e7d550fdce9432be43690a4b1d
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed Apr 10 10:21:51 2013 -0700

    Fix TimeoutException when there is a firewall issue.
    patch by Vijay; reviewed by jbellis for CASSANDRA-3533

 test/unit/org/apache/cassandra/io/CompactSerializerTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 6f8d73711a5d9d64947a1f5d51284bfda3d5d127
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 9 21:10:58 2013 -0500

    make testCompactionProgress less racy

 .../compaction/LeveledCompactionStrategyTest.java  | 56 ++++++++++++----------
 1 file changed, 31 insertions(+), 25 deletions(-)

commit 2c35a5d36681caf80de916c0ab6a90061d5bf87e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 9 21:03:50 2013 -0500

    rename store -> cfs

 .../compaction/LeveledCompactionStrategyTest.java  | 43 ++++++++++------------
 1 file changed, 20 insertions(+), 23 deletions(-)

commit 162675983c0a41edd29220e6cbc061f04830142b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 9 17:00:37 2013 -0500

    fix merge

 .../db/index/PerRowSecondaryIndexTest.java         | 24 +++++++++++-----------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit a751d04d7d0e5e96ea7cee79093e090836ca0f5e
Merge: 2fde93d c7eb146
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 9 16:55:07 2013 -0500

    merge from 1.2

commit c7eb146e5669a8e97b1997ce9860b769a3cc7b32
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 9 16:48:29 2013 -0500

    Ensure that PerRowSecondaryIndex is notified of row-level deletes
    patch by Sam Tunnicliffe; reviewed by jbellis for CASSANDRA-5445

 test/unit/org/apache/cassandra/SchemaLoader.java   |  2 +-
 .../db/index/PerRowSecondaryIndexTest.java         | 55 ++++++++++++++++++++++
 2 files changed, 56 insertions(+), 1 deletion(-)

commit 2fde93d7e8b9a53eb1f913f669f8e6fe9d653b9a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 9 15:20:29 2013 -0500

    remove redundant calls now that EchoedRow is gone

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 3 ---
 1 file changed, 3 deletions(-)

commit 61bbae106931499ab24ec6d87fe5d4826efe9e21
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 9 15:19:19 2013 -0500

    r/m unused parameter

 .../org/apache/cassandra/db/compaction/CompactionsTest.java   | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit a5647ad5c70c3b2bf25ca0901e461ee9bdb41299
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 9 15:18:00 2013 -0500

    move blacklist tests to another class where closing System.err is less likely to bite us in the ass

 .../db/compaction/BlacklistingCompactionsTest.java | 139 +++++++++++++++++++++
 .../cassandra/db/compaction/CompactionsTest.java   | 108 ----------------
 2 files changed, 139 insertions(+), 108 deletions(-)

commit ebefb77c6e8a5046a8c1b1bb0edd258aaf0ad8b7
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Tue Apr 9 18:28:11 2013 +0200

    Add an official way to disable autocompaction.
    
    patch by marcuse, reviewed by pcmanus for CASSANDRA-5074

 test/unit/org/apache/cassandra/db/compaction/TTLExpiryTest.java | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit efbdee23705fed6be49a2fb20a79f1aaaa8c98ff
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Tue Apr 9 08:08:32 2013 +0200

    Decide on a gcBefore before sending out TreeRequests
    
    patch by marcuse, reviewed by yukim, for CASSANDRA-4932

 .../apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java  | 3 ++-
 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java   | 3 ++-
 test/unit/org/apache/cassandra/service/SerializationsTest.java         | 2 +-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 75d5639014a4680f2a734b4ec9b452ed0cfff058
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 8 13:19:40 2013 -0500

    Leveled compaction performs size-tiered compactions in L0
    patch by tjake and jbellis for CASSANDRA-5371

 .../SizeTieredCompactionStrategyTest.java          | 23 ++++++++--------------
 1 file changed, 8 insertions(+), 15 deletions(-)

commit bc6b5f49201fe9c04524a0ba000ceca140caae3d
Merge: 26bcbee 56f35db
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sat Apr 6 18:33:35 2013 -0400

    Merge branch 'cassandra-1.2' into trunk

commit 56f35dbf79e33c9fdc2c7350ee663cc72499e7ec
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sat Apr 6 17:57:19 2013 -0400

    unused imports warnings cleanups

 .../unit/org/apache/cassandra/cql/jdbc/ClientUtilsTest.java |  1 -
 .../unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 13 +++++--------
 .../apache/cassandra/db/SecondaryIndexColumnSizeTest.java   |  2 --
 .../org/apache/cassandra/db/marshal/CompositeTypeTest.java  |  1 -
 .../unit/org/apache/cassandra/db/marshal/RoundTripTest.java |  3 ---
 .../org/apache/cassandra/db/marshal/TimeUUIDTypeTest.java   |  1 -
 test/unit/org/apache/cassandra/dht/BootStrapperTest.java    |  1 -
 test/unit/org/apache/cassandra/gms/SerializationsTest.java  |  1 -
 .../org/apache/cassandra/io/LazilyCompactedRowTest.java     |  1 -
 9 files changed, 5 insertions(+), 19 deletions(-)

commit b27c61ba5f48f0d719ed95d2254693cf41d343d0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 5 08:40:38 2013 -0500

    Revert EchoMessage code
    
    This reverts commits c3ab05f3936b1bedd2e28ebf86790c0eaa45eaba and a7b2ff65ac1946ca8e7e52e00374a83ebe922627.

 test/unit/org/apache/cassandra/io/CompactSerializerTest.java | 1 -
 1 file changed, 1 deletion(-)

commit 6afbed371c0d12a15a969e4f52ba670998bab282
Author: Marcus Eriksson <marcuse@spotify.com>
Date:   Fri Apr 5 10:40:50 2013 +0200

    fix build and test error, should not use QueryPath

 test/unit/org/apache/cassandra/SchemaLoader.java                  | 2 +-
 .../org/apache/cassandra/db/index/PerRowSecondaryIndexTest.java   | 8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit c3ab05f3936b1bedd2e28ebf86790c0eaa45eaba
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Thu Apr 4 11:47:08 2013 -0700

    add EchoMessageSerializer to CompactSerializerTest

 test/unit/org/apache/cassandra/io/CompactSerializerTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 76c8fe4676f8789ec407b75295d5a2a322a3a659
Merge: a7b2ff6 6a4af0c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 4 13:32:57 2013 -0500

    merge from 1.2

commit 6a4af0c77ac0aa3600e0a778497e6856d3e356cb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 4 10:55:17 2013 -0500

    Ensure that PerRowSecondaryIndex updates see the most recentvalues
    patch by Sam Tunnicliffe; reviewed by jbellis for CASSANDRA-5397

 test/unit/org/apache/cassandra/SchemaLoader.java   |  29 ++++
 .../db/index/PerRowSecondaryIndexTest.java         | 151 +++++++++++++++++++++
 2 files changed, 180 insertions(+)

commit a950b9257f4c92d067eb5e1d437096699123ac9b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Jan 15 16:21:53 2013 +0100

    Support indexes on composite column components
    
    patch by slebresne; reviewed by iamaleksey for CASSANDRA-5125

 test/unit/org/apache/cassandra/SchemaLoader.java   | 22 +++--------
 test/unit/org/apache/cassandra/cli/CliTest.java    |  1 -
 .../apache/cassandra/config/CFMetaDataTest.java    |  9 ++---
 .../cassandra/config/ColumnDefinitionTest.java     | 15 ++------
 .../unit/org/apache/cassandra/config/DefsTest.java | 44 +++++++++-------------
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  4 +-
 .../cassandra/thrift/ThriftValidationTest.java     |  7 ++--
 7 files changed, 35 insertions(+), 67 deletions(-)

commit e306a87b7d8e1ef15a5269006d7706a4c97d1798
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 3 15:23:07 2013 -0500

    fix regression when requested range does not overlap an sstable at all
    patch by marcuse; reviewed by jbellis for CASSANDRA-5407

 .../cassandra/io/sstable/SSTableReaderTest.java    | 25 ++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 4c28cfb57bfcd8f52991c3ee44eee0044fb3ba65
Author: Jason Brown <jasedbrown@gmail.com>
Date:   Wed Apr 3 06:29:05 2013 -0700

    IndexHelper.skipBloomFilters won't skip non-SHA filters, part 2
    patch by Carl Yeksigian; reviewed by jasobrown got CASSANDRA-5385

 test/unit/org/apache/cassandra/db/ScrubTest.java | 245 +++++++++++++++++++++++
 1 file changed, 245 insertions(+)

commit aa76394764bcb4af54150f12528fed9ddfa66044
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 2 18:01:05 2013 -0500

    Merge ColumnFamily, ISortedColumns.  Add EmptyColumns and UnsortedColumns; clean up TMBSC, ABSC, and ASC
    patch by jbellis; reviewed by Carl Yeksigian for CASSANDRA-5403

 .../org/apache/cassandra/db/LongTableTest.java     |  2 +-
 .../apache/cassandra/db/MeteredFlusherTest.java    |  2 +-
 .../apache/cassandra/cache/CacheProviderTest.java  |  3 +-
 .../cassandra/db/ArrayBackedSortedColumnsTest.java | 51 +++++++---------------
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  4 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 22 +++++-----
 .../org/apache/cassandra/db/MultitableTest.java    |  4 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  |  2 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |  4 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  6 +--
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  2 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |  9 ++--
 .../apache/cassandra/db/SerializationsTest.java    |  5 +--
 test/unit/org/apache/cassandra/db/TableTest.java   | 29 ++++++------
 .../cassandra/io/LazilyCompactedRowTest.java       |  6 +--
 .../apache/cassandra/io/sstable/SSTableTest.java   |  4 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  9 ++--
 .../service/AntiEntropyServiceTestAbstract.java    |  2 +-
 .../apache/cassandra/service/RowResolverTest.java  | 25 ++++++-----
 .../cassandra/streaming/StreamingTransferTest.java |  9 ++--
 .../apache/cassandra/tools/SSTableExportTest.java  | 18 +++-----
 .../apache/cassandra/tools/SSTableImportTest.java  | 25 +++++------
 .../apache/cassandra/utils/EncodedStreamsTest.java |  5 ++-
 23 files changed, 110 insertions(+), 138 deletions(-)

commit 81cbdc531265a6279c9584719a6d2f807bc9d2c4
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Apr 2 14:55:47 2013 -0500

    Add yaml network topology snitch for mixed ec2/other envs
    Patch by Eric Dong, reviewed by brandonwilliams for CASSANDRA-5339

 .../locator/YamlFileNetworkTopologySnitchTest.java | 117 +++++++++++++++++++++
 1 file changed, 117 insertions(+)

commit ae1f7be73422b72fe5a2dc2170a99c55c0bf5f0d
Merge: 313c79a 4f75875
Author: Jason Brown <jasedbrown@gmail.com>
Date:   Tue Apr 2 11:47:41 2013 -0700

    Merge remote-tracking branch 'apache/cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/columniterator/SimpleSliceReader.java
    	src/java/org/apache/cassandra/io/sstable/SSTableIdentityIterator.java
    	test/unit/org/apache/cassandra/db/ScrubTest.java

commit 4f75875c2ec1b5324d2c4afea5251fb02fadf268
Author: Jason Brown <jasedbrown@gmail.com>
Date:   Tue Apr 2 11:23:54 2013 -0700

    IndexHelper.skipBloomFilters won't skip non-SHA filters
    patch by Carl Yeksigian; reviewed by jasobrown for CASSANDRA-5385

 test/unit/org/apache/cassandra/db/ScrubTest.java | 243 -----------------------
 1 file changed, 243 deletions(-)

commit 91907513cba4493f37f8aa86a7c14578d8bb065e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 27 16:17:53 2013 -0500

    avoid duplicate index entries ind PrecompactedRow and ParallelCompactionIterable
    patch by jbellis; reviewed by Sam Tunnicliffe for CASSANDRA-5395

 .../org/apache/cassandra/db/compaction/CompactionsPurgeTest.java     | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit a143966e1cfe3f782f6237d67d216ef8bc2d4713
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 27 16:17:53 2013 -0500

    avoid duplicate index entries ind PrecompactedRow and ParallelCompactionIterable
    patch by jbellis; reviewed by Sam Tunnicliffe for CASSANDRA-5395

 .../org/apache/cassandra/db/compaction/CompactionsPurgeTest.java     | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 338fa9a30747d18befc0ff66b5cb5265f7bb65f1
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Mar 29 08:53:24 2013 -0500

    Fix fat client.
    Patch by Carl Yeksigian, reviewed by brandonwilliams for CASSANDRA-5378

 test/unit/org/apache/cassandra/locator/DynamicEndpointSnitchTest.java | 2 +-
 test/unit/org/apache/cassandra/service/InitClientTest.java            | 2 +-
 test/unit/org/apache/cassandra/service/StorageServiceClientTest.java  | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 6de0495e53adef564141eeb312d7e61e951a9ebc
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Mar 29 08:51:07 2013 -0500

    Fix the fat client.
    Patch by Carl Yeksigian, reviewed by brandonwilliams for CASSANDRA-5378

 test/unit/org/apache/cassandra/locator/DynamicEndpointSnitchTest.java | 2 +-
 test/unit/org/apache/cassandra/service/InitClientTest.java            | 2 +-
 test/unit/org/apache/cassandra/service/StorageServiceClientTest.java  | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 60d9c7f2f9bf3fc65dc486847815ebcb978c70f7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 26 23:14:08 2013 -0500

    rename dis -> in, dos -> out

 test/unit/org/apache/cassandra/Util.java           |  8 ++--
 .../org/apache/cassandra/db/ReadMessageTest.java   |  6 +--
 .../io/sstable/SSTableMetadataSerializerTest.java  |  8 ++--
 .../compress/CompressedInputStreamTest.java        |  4 +-
 .../org/apache/cassandra/utils/BitSetTest.java     | 20 ++++----
 .../cassandra/utils/BytesReadTrackerTest.java      | 54 +++++++++++-----------
 .../apache/cassandra/utils/EncodedStreamsTest.java | 14 +++---
 .../apache/cassandra/utils/IntervalTreeTest.java   |  8 ++--
 8 files changed, 61 insertions(+), 61 deletions(-)

commit c3569d05b8d28d3b3481d2e661320071dc30431c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 26 23:11:39 2013 -0500

    inline Column.serializer()

 test/unit/org/apache/cassandra/db/CounterColumnTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 01bc564bb2e89684b445f217a83c39f32113560a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 26 13:11:19 2013 -0500

    revert 27ed655fd0552055bd1c26c62c098c16501bc32b

 test/unit/org/apache/cassandra/db/KeyCacheTest.java               | 4 ++--
 .../cassandra/io/compress/CompressedRandomAccessReaderTest.java   | 8 ++++----
 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java        | 4 ++--
 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java       | 4 ++--
 .../apache/cassandra/io/util/BufferedRandomAccessFileTest.java    | 4 ++--
 5 files changed, 12 insertions(+), 12 deletions(-)

commit 9297e7b7196426a6d6c2ad757974ea7fd0866bfa
Author: Jason Brown <jasedbrown@gmail.com>
Date:   Tue Mar 19 05:57:14 2013 -0700

    Remove row-level bloom filters.
    patch by Jason Brown; reviewed by Jonathan Ellis for CASSANRDA-4885

 test/unit/org/apache/cassandra/Util.java         | 2 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit dda7b2b432c94f4a7040f935a9faf746cd208d5b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Mar 24 09:48:31 2013 -0500

    fix LCST better
    patch by Marcus Eriksson

 .../compaction/LeveledCompactionStrategyTest.java   | 21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit ac965a60eeb931d0d97346157004681d76e2a0d6
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Sun Mar 24 13:20:27 2013 +0300

    Rebuild BF when loading sstables if bloom_filter_fp_chance has changed since compaction
    
    patch by Aleksey Yeschenko; reviewed by Jonathan Ellis for
    CASSANDRA-5015

 .../org/apache/cassandra/io/sstable/SSTableMetadataSerializerTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ae80948025ef336117508c731b508506b650c33b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Mar 23 16:49:56 2013 -0500

    rename AntiEntropyService -> ActiveRepairService

 .../compaction/LeveledCompactionStrategyTest.java  | 10 ++++-----
 .../service/AntiEntropyServiceTestAbstract.java    | 24 ++++++++++----------
 .../cassandra/service/SerializationsTest.java      | 26 +++++++++++-----------
 3 files changed, 29 insertions(+), 31 deletions(-)

commit de0707432d92bdcf9b846a1135f64e1777ab56d6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 22 11:26:49 2013 -0500

    fix unit test
    patch by Marcus Eriksson

 .../apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 4937ac7e5776cf72e4c3b266fbffb29ff97c807a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Mar 22 10:27:43 2013 +0100

    Track maximum ttl and use to expire entire sstables
    
    patch by krummas; reviewed by slebresne for CASSANDRA-5528

 .../compaction/LeveledCompactionStrategyTest.java  |   7 +-
 .../cassandra/db/compaction/TTLExpiryTest.java     | 132 +++++++++++++++++++
 .../cassandra/io/LazilyCompactedRowTest.java       |   7 +-
 .../cassandra/io/sstable/SSTableMetadataTest.java  | 143 +++++++++++++++++++++
 .../apache/cassandra/streaming/BootstrapTest.java  |   2 +-
 5 files changed, 285 insertions(+), 6 deletions(-)

commit 480a1a8f5acfd6e93c789f43305d9506d41da3e3
Merge: 207cdf3 27ed655
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Thu Mar 21 15:16:39 2013 -0700

    merge with 1.2

commit 27ed655fd0552055bd1c26c62c098c16501bc32b
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Mar 20 14:45:13 2013 -0700

    Change Kernel Page Cache skipping into row preheating (disabled by default)
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis and Yuki Morishita for CASSANDRA-4937

 test/unit/org/apache/cassandra/db/KeyCacheTest.java               | 4 ++--
 .../cassandra/io/compress/CompressedRandomAccessReaderTest.java   | 8 ++++----
 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java        | 4 ++--
 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java       | 4 ++--
 .../apache/cassandra/io/util/BufferedRandomAccessFileTest.java    | 4 ++--
 5 files changed, 12 insertions(+), 12 deletions(-)

commit d72e9381fa8f992e182b415d6060128b567808be
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 18 15:43:00 2013 -0600

    Replace compaction lock with runWithCompactionsDisabled
    patch by jbellis; reviewed by slebresne for CASSANDRA-3430

 .../apache/cassandra/db/compaction/LongCompactionsTest.java  |  4 +---
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 10 +++++-----
 .../org/apache/cassandra/db/RecoveryManagerTruncateTest.java |  2 +-
 .../apache/cassandra/db/SecondaryIndexColumnSizeTest.java    |  4 ++--
 .../org/apache/cassandra/db/compaction/CompactionsTest.java  |  3 +--
 .../db/compaction/LeveledCompactionStrategyTest.java         | 12 +++++++-----
 6 files changed, 17 insertions(+), 18 deletions(-)

commit b06c45a96d9bd3f3c0807e87bfbccf8f1a9e2459
Merge: 5856194 c67e501
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Mar 14 16:01:06 2013 -0500

    Merge branch 'cassandra-1.2' into trunk

commit f07804e0d0cf57bc6e1e2924a7b926d55408f640
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 14 10:19:05 2013 +0100

    Update versions and license for 1.2.3

 .../org/apache/cassandra/MethodComparator.java     | 21 ++++++++++++++++++++
 .../apache/cassandra/OrderedJUnit4ClassRunner.java | 23 +++++++++++++++++++++-
 2 files changed, 43 insertions(+), 1 deletion(-)

commit e79d9fbf84a35021cafa21d428e08fdd9bee584e
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Mon Mar 11 19:24:27 2013 +0300

    Remove memory emergency pressure valve logic
    
    patch by Aleksey Yeschenko; reviewed by Jonathan Ellis for
    CASSANDRA-3534

 test/unit/org/apache/cassandra/db/RowCacheTest.java | 9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit 593807007415b28ffb128f408c44cac2023930dc
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Mar 6 19:28:28 2013 -0600

    fix scrub test on java7

 test/unit/org/apache/cassandra/db/ScrubTest.java | 3 +++
 1 file changed, 3 insertions(+)

commit 209d067afaaedeb274525097b39aa286f43301fa
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 6 08:13:32 2013 +0000

    move hintFor into HHOM

 test/unit/org/apache/cassandra/db/HintedHandOffTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1936648a1188b8948048610eb2ccea316a39c647
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 4 11:37:38 2013 +0100

    change Message IDs to ints
    patch by jbellis; reviewed by vijay for CASSANDRA-5307

 .../apache/cassandra/db/SerializationsTest.java    | 32 +++++++++++-----------
 .../apache/cassandra/service/PBSPredictorTest.java | 16 +++++------
 .../org/apache/cassandra/service/RemoveTest.java   |  4 +--
 .../cassandra/service/SerializationsTest.java      |  6 ++--
 .../cassandra/streaming/SerializationsTest.java    |  8 +++---
 5 files changed, 33 insertions(+), 33 deletions(-)

commit 4cd67af552bace64096dbc53d2b3d153a360e583
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Mar 6 18:02:47 2013 -0600

    Fix TMD test on java7

 test/unit/org/apache/cassandra/locator/TokenMetadataTest.java | 3 +++
 1 file changed, 3 insertions(+)

commit ec921a9ff8af1531dcc7ae5cb2bd8d60b265d50f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Mar 6 16:25:06 2013 -0600

    Fix unit tests on java7
    Patch by Marcus Eriksson, reviewed by brandonwilliams for CASSANDRA-5315

 .../org/apache/cassandra/MethodComparator.java     | 146 +++++++++++++++++++++
 .../apache/cassandra/OrderedJUnit4ClassRunner.java |  34 +++++
 .../cassandra/config/DatabaseDescriptorTest.java   |   4 +
 .../unit/org/apache/cassandra/config/DefsTest.java |   3 +
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   3 +
 .../cassandra/db/compaction/CompactionsTest.java   |   3 +
 .../compaction/LeveledCompactionStrategyTest.java  |   3 +
 .../org/apache/cassandra/dht/BootStrapperTest.java |   3 +
 .../cassandra/io/sstable/SSTableReaderTest.java    |   3 +
 .../service/StorageServiceServerTest.java          |   3 +
 .../cassandra/streaming/StreamingTransferTest.java |   3 +
 11 files changed, 208 insertions(+)

commit 54601f1927a70ef11bf5707b65cf08f81f070873
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Mar 6 16:23:35 2013 -0600

    forgotten files

 .../org/apache/cassandra/MethodComparator.java     | 146 +++++++++++++++++++++
 .../apache/cassandra/OrderedJUnit4ClassRunner.java |  34 +++++
 2 files changed, 180 insertions(+)

commit 814c05e14b90bd420e916f5c6a16883b73b51edd
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Mar 6 16:22:20 2013 -0600

    forgotten files

 .../org/apache/cassandra/MethodComparator.java     | 146 +++++++++++++++++++++
 .../apache/cassandra/OrderedJUnit4ClassRunner.java |  34 +++++
 2 files changed, 180 insertions(+)

commit 018e82b5eff17b50301a01069664ef37a4ae142f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Mar 6 16:21:38 2013 -0600

    Fix unit tests on java7
    Patch by Marcus Eriksson, reviewed by brandonwilliams for CASSANDRA-5315

 test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java      | 3 +++
 test/unit/org/apache/cassandra/config/DefsTest.java                    | 3 +++
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java           | 3 +++
 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java      | 3 +++
 .../apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java  | 3 +++
 test/unit/org/apache/cassandra/dht/BootStrapperTest.java               | 3 +++
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java       | 3 +++
 test/unit/org/apache/cassandra/service/StorageServiceServerTest.java   | 3 +++
 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java    | 3 +++
 9 files changed, 27 insertions(+)

commit bf8c1ce9aea60349b21284861051f47fafc54180
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Mar 6 16:15:34 2013 -0600

    Fix unit tests on java7
    Patch by Marcus Eriksson, reviewed by brandonwilliams for CASSANDRA-5315

 test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java     | 3 +++
 test/unit/org/apache/cassandra/config/DefsTest.java                   | 3 +++
 test/unit/org/apache/cassandra/db/CleanupTest.java                    | 3 +++
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java          | 3 +++
 test/unit/org/apache/cassandra/db/ScrubTest.java                      | 3 +++
 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java     | 4 ++++
 .../apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java | 4 ++++
 test/unit/org/apache/cassandra/dht/BootStrapperTest.java              | 3 +++
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java      | 3 +++
 test/unit/org/apache/cassandra/locator/TokenMetadataTest.java         | 4 ++++
 test/unit/org/apache/cassandra/service/StorageServiceServerTest.java  | 3 +++
 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java   | 3 +++
 12 files changed, 39 insertions(+)

commit 2575275a04938e361a874ba685e50ac0e88df246
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jan 4 13:21:11 2013 +0100

    Allow custom configuration loader
    
    patch by slebresne; reviewed by jasobrown for CASSANDRA-5045

 .../cassandra/config/DatabaseDescriptorTest.java   | 27 ++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 3d93a3c90c9dd9f970d2be24081e314e06fbed67
Merge: bd48128 c315745
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Mar 5 12:03:22 2013 +0100

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/cql/CFPropDefs.java
    	src/java/org/apache/cassandra/db/Table.java

commit c315745c92dcee3954dad830bf8756307e3c6bf5
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Mar 5 11:41:07 2013 +0100

    Re-enable unknown options in compaction/replication strategy
    
    patch by slebresne; reviewed by xedin for CASSANDRA-4795

 .../apache/cassandra/locator/ReplicationStrategyEndpointCacheTest.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bd4812874744bab19900dc6bad2117d999f4680c
Merge: 3727ad7 2d16e28
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Mar 5 07:42:43 2013 +0300

    Merge branch 'cassandra-1.2' into trunk

commit 2d16e2811f26096ddfbf8d25a6eac17e0c9c9e32
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Tue Mar 5 07:41:46 2013 +0300

    fix CliTest

 test/unit/org/apache/cassandra/cli/CliTest.java | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit d12184d558475e88e34baf528694a3808fbc71d0
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Mar 4 20:41:05 2013 -0600

    Revert "Revert "add single-CF specialization of RowMutation constructor""
    
    This reverts commit ecaa6cd1b74b8caeec03e505f04d676414bb633d.

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  6 ++--
 .../org/apache/cassandra/db/MultitableTest.java    |  6 ++--
 .../apache/cassandra/db/RecoveryManager2Test.java  |  3 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |  6 ++--
 .../apache/cassandra/db/RecoveryManagerTest.java   |  9 ++----
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  3 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  8 ++---
 .../apache/cassandra/db/SerializationsTest.java    |  6 ++--
 test/unit/org/apache/cassandra/db/TableTest.java   | 37 +++++++---------------
 .../cassandra/streaming/StreamingTransferTest.java |  6 ++--
 10 files changed, 29 insertions(+), 61 deletions(-)

commit ecaa6cd1b74b8caeec03e505f04d676414bb633d
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Mar 4 20:35:28 2013 -0600

    Revert "add single-CF specialization of RowMutation constructor"
    
    This reverts commit a9b075d5fa9d6ee9df1d30a6ee969896b3b99f63.

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  6 ++--
 .../org/apache/cassandra/db/MultitableTest.java    |  6 ++--
 .../apache/cassandra/db/RecoveryManager2Test.java  |  3 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |  6 ++--
 .../apache/cassandra/db/RecoveryManagerTest.java   |  9 ++++--
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  3 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  8 +++--
 .../apache/cassandra/db/SerializationsTest.java    |  6 ++--
 test/unit/org/apache/cassandra/db/TableTest.java   | 37 +++++++++++++++-------
 .../cassandra/streaming/StreamingTransferTest.java |  6 ++--
 10 files changed, 61 insertions(+), 29 deletions(-)

commit a9b075d5fa9d6ee9df1d30a6ee969896b3b99f63
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 28 09:43:52 2013 -0600

    add single-CF specialization of RowMutation constructor

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  6 ++--
 .../org/apache/cassandra/db/MultitableTest.java    |  6 ++--
 .../apache/cassandra/db/RecoveryManager2Test.java  |  3 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |  6 ++--
 .../apache/cassandra/db/RecoveryManagerTest.java   |  9 ++----
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  3 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  8 ++---
 .../apache/cassandra/db/SerializationsTest.java    |  6 ++--
 test/unit/org/apache/cassandra/db/TableTest.java   | 37 +++++++---------------
 .../cassandra/streaming/StreamingTransferTest.java |  6 ++--
 10 files changed, 29 insertions(+), 61 deletions(-)

commit 1954345297dddd4fde9da5c5850f7fa81f32c481
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 21 17:03:32 2013 -0800

    assert cleanup

 test/unit/org/apache/cassandra/db/KeyCacheTest.java | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 068b53dd5de928fd80815b54963af796f51f1c38
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Sat Feb 16 00:21:35 2013 +0100

    Fix pessimistic unit tests post-4671
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/compaction/CompactionsPurgeTest.java

 .../cassandra/db/compaction/CompactionsPurgeTest.java      | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 4042ef2dccd0fa8cec3cdc8f94439fdf9795ac8d
Merge: 89e250b 686f516
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 20 05:39:14 2013 -0800

    Merge branch 'cassandra-1.2' into trunk

commit 686f516ccb887fe977238b53b9be307b56432b8c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 18 15:31:49 2013 -0600

    fix potential for multiple concurrent compactions of the same sstables
    patch by jbellis and yukim; reviewed by slebresne for CASSANDRA-5256

 .../db/compaction/LongLeveledCompactionStrategyTest.java         | 9 +--------
 test/unit/org/apache/cassandra/Util.java                         | 4 +++-
 .../org/apache/cassandra/db/compaction/CompactionsPurgeTest.java | 4 ++--
 3 files changed, 6 insertions(+), 11 deletions(-)

commit 278a5e86001b1fd094da2e0d05ea48e8f7eb9e1f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 18 09:24:23 2013 -0600

    trying again to commit #4872 via git apply

 .../LongLeveledCompactionStrategyTest.java         |  4 +
 .../db/compaction/LegacyLeveledManifestTest.java   | 92 ++++++++++++++++++++++
 .../compaction/LeveledCompactionStrategyTest.java  | 67 ++++++++++++++++
 3 files changed, 163 insertions(+)

commit 5bd57cbbbf0d98c1c0d8321b95618d2a6fa0d0c9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 18 09:22:50 2013 -0600

    Revert "Move sstable level information into the Stats component"
    
    This reverts commit 0e284787294221982d21c17b27c0a4e1ae0971e7.

 .../LongLeveledCompactionStrategyTest.java         |  4 -
 .../db/compaction/LegacyLeveledManifestTest.java   | 92 ----------------------
 .../compaction/LeveledCompactionStrategyTest.java  | 67 ----------------
 3 files changed, 163 deletions(-)

commit 0e284787294221982d21c17b27c0a4e1ae0971e7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 18 08:46:15 2013 -0600

    Move sstable level information into the Stats component
    patch by Marcus Eriksson; reviewed by jbellis for CASSANDRA-4872

 .../LongLeveledCompactionStrategyTest.java         |  4 +
 .../db/compaction/LegacyLeveledManifestTest.java   | 92 ++++++++++++++++++++++
 .../compaction/LeveledCompactionStrategyTest.java  | 67 ++++++++++++++++
 3 files changed, 163 insertions(+)

commit 7bc8b02c83d34e8c2074bc2d97ac8ea91864348a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Sat Feb 16 00:21:35 2013 +0100

    Fix pessimistic unit tests post-4671

 .../cassandra/db/compaction/CompactionsPurgeTest.java      | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 12e4c524badccfb13fe5c4a28c9ec2f65571403c
Merge: 8caedfc ee0be06
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Feb 14 13:43:15 2013 -0600

    Merge branch 'cassandra-1.2' into trunk

commit ee0be0624b0ee1b2151b9be92a5d4e6334801cde
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Feb 14 13:43:01 2013 -0600

    fix compressed stream sending extra chunk; patch by yukim reviewed by mkjellman for CASSANDRA-5105

 .../compress/CompressedInputStreamTest.java        | 106 +++++++++++++++++++++
 1 file changed, 106 insertions(+)

commit 7ff2805c7e6a362eb451e6b8dfaec59642fee0f2
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Feb 14 11:13:11 2013 -0600

    revert CASSANDRA-5151 from 1.2

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 55 ----------------------
 .../cassandra/db/compaction/CompactionsTest.java   | 34 -------------
 2 files changed, 89 deletions(-)

commit 59af0b9c4d4cd00ea742e197b2b3cb2f384feec3
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Feb 13 21:27:59 2013 -0600

    drop keyspace from user-defined compaction API; patch by yukim reviewed by jbellis for CASSANDRA-5139

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c6204b595dc8bdc8484f97d8aca0e235cafeaa89
Merge: 5df0674 2659640
Author: Aleksey Yeschenko <aleksey@apache.org>
Date:   Thu Feb 14 01:20:47 2013 +0300

    Merge branch 'cassandra-1.2' into trunk

commit e531be77a417e45d5a4f8fe7149b489d4e6cf3b1
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 13 11:54:59 2013 +0100

    Make CompactionsTest.testDontPurgeAccidentaly more reliable with gcgrace=0

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 3 +++
 1 file changed, 3 insertions(+)

commit 5df067418aafa2bcb47bdb0f23fb2cb8123f33a4
Merge: 7d81f8c 2fe8133
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 13 09:20:47 2013 +0100

    Merge branch 'cassandra-1.2' into trunk

commit 2fe8133bbe71d186ef43aeaa3b5a320685441d68
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 13 09:19:44 2013 +0100

    Fix missing columns in wide rows queries
    
    patch by slebresne; reviewed by driftx for CASSANDRA-5225

 test/unit/org/apache/cassandra/io/sstable/IndexHelperTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit aa7c7d9cd74a8626cfac95c01a9f6ff9801bf45f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Feb 10 23:58:42 2013 -0600

    Add support for LZ4 compression
    patch by Adrien Grand; reviewed by tjake for CASSANDRA-5038

 .../cassandra/io/compress/LZ4CompressorTest.java   | 84 ++++++++++++++++++++++
 1 file changed, 84 insertions(+)

commit c3f9ee7d918fef6542f82c35c41edf0918f0fc60
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Feb 10 23:58:42 2013 -0600

    Add support for LZ4 compression
    patch by Adrien Grand; reviewed by tjake for CASSANDRA-5038

 .../cassandra/io/compress/LZ4CompressorTest.java   | 84 ++++++++++++++++++++++
 1 file changed, 84 insertions(+)

commit 95ffb5d2dd62a4902745aa0401467d7bcb6687fb
Merge: 1f8b9e3 f309183
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Feb 5 22:09:53 2013 -0600

    Merge branch 'cassandra-1.2' into trunk

commit f3091835e67ebdc0171991b2ca283e6cd357cda3
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Feb 5 22:09:40 2013 -0600

    fix CompactionsTest assertion error

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit f56f08c9eb306e3497d9dd70e46a9e289f7f7227
Merge: 2cecf05 60acf0d
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Sun Feb 3 15:02:17 2013 -0800

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/HintedHandOffTest.java

commit 60acf0d792cb761da06bf1fc91d9f2b57fcc065c
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Sun Feb 3 14:49:20 2013 -0800

    Log when a node is down longer than the hint window
    Patch by Vijay, reviewed by Carl Yeksigian and jbellis for
    CASSANDRA-4554

 .../org/apache/cassandra/db/HintedHandOffTest.java   | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit f112f992bb7207435cf083c1a072ee9d0776906a
Merge: d9d9d65 aa90c88
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jan 31 22:51:18 2013 -0600

    merge from 1.2

commit aa90c88be14b337714739cd857c12cad2a9fedeb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jan 31 16:01:32 2013 -0600

    more robust solution to incomplete compactions + counters
    patch by yukim; reviewed by jbellis for CASSANDRA-5151

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 74 ++++++++++++++++++----
 .../org/apache/cassandra/db/SystemTableTest.java   |  1 +
 .../cassandra/db/compaction/CompactionsTest.java   | 36 +++++++++++
 3 files changed, 97 insertions(+), 14 deletions(-)

commit 639b314d2ef2d95cfef2ffd4bc597540fa83f3cf
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Thu Jan 31 13:49:19 2013 -0800

    Repair should validate checksums before streaming
    Patch by Vijay, reviewed by Jason Brown for CASSANDRA-3648

 .../cassandra/streaming/StreamingTransferTest.java | 42 ++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit efa4ae1e5efa6ee42385d9d0211704faddc877f7
Merge: d66630d d4ce7be
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jan 31 12:41:21 2013 +0100

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/KeyCollisionTest.java

commit d4ce7bee1c773378518634527283318c5181e8dc
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jan 31 12:40:53 2013 +0100

    Fix tests

 test/unit/org/apache/cassandra/db/KeyCollisionTest.java | 7 +++++++
 1 file changed, 7 insertions(+)

commit b7ba0a917736088c2c6e94396487d28008f71b18
Merge: 6a15bb3 f4a941e
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 25 14:27:44 2013 -0600

    Merge branch 'cassandra-1.2' into trunk

commit d49bae6c9bb108a9350866a3759f92807c88e43a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jan 24 18:39:49 2013 +0100

    Fix small bug in handling SemanticVersion

 test/unit/org/apache/cassandra/utils/SemanticVersionTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 262fadb27c568b801c0982000c017c0cb3bb9bb2
Merge: 47de147 17adf8e
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 18 13:58:58 2013 -0600

    Merge branch 'cassandra-1.2' into trunk

commit 17adf8e4f72114d336140fac5157a35e63d1f53a
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 18 13:58:50 2013 -0600

    fix RelocateTest

 test/unit/org/apache/cassandra/service/RelocateTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit be01197786a8122fc17ba457a2c77ffdfab2af07
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Jan 18 13:17:55 2013 -0600

    fix test for CASSANDRA-5166

 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit eaedd259c8b5ec584a964d1f4659f9fcf7133661
Merge: 689410b a71e526
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Fri Jan 18 10:58:13 2013 -0800

    Merge branch 'cassandra-1.2' into trunk

commit 26fdab37802fcb6fe7dd875d8366545159d79be7
Merge: 9dcec00 43c9e81
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jan 18 19:30:08 2013 +0100

    Merge branch 'cassandra-1.2' of https://git-wip-us.apache.org/repos/asf/cassandra into cassandra-1.2

commit 9dcec00dbbe19b4f8090eb023bb754021d228a19
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jan 18 19:29:57 2013 +0100

    Fix RoundTripTest

 .../apache/cassandra/db/marshal/RoundTripTest.java | 26 ----------------------
 1 file changed, 26 deletions(-)

commit f930eb79cd4567efaeca44142bf8ea93a181f37e
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Jan 18 11:47:01 2013 -0600

    fix saved key cache not loading at startup; patch by yukim reviewed by jbellis for CASSANDRA-5166

 .../cassandra/io/sstable/SSTableReaderTest.java    | 32 ++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit 8b39a1615804e853541d46b9f79c8aeef55c8969
Merge: 66b9d11 e6b6eaa
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 18 10:19:52 2013 -0600

    Merge branch 'cassandra-1.2' into trunk

commit e6b6eaa583e8fc15f03c3e27664bf7fc06b3af0a
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 18 10:19:00 2013 -0600

    Remove endpoints from system.peers correctly.
    Patch by brandonwilliams reviewed by slebresne for CASSANDRA-5167

 test/unit/org/apache/cassandra/db/SystemTableTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f2f979446b8ccb071d11f81c59bf09ffdefb871
Merge: 4495736 5267112
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jan 16 18:48:11 2013 +0100

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/service/StorageProxy.java

commit 526711288c30a6824a8e29805af7a2b1d72b9129
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jan 16 18:43:20 2013 +0100

    Coverage analysis for low CL queries
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4858

 .../locator/ReplicationStrategyEndpointCacheTest.java          |  2 +-
 test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java | 10 ----------
 2 files changed, 1 insertion(+), 11 deletions(-)

commit 631bc37a63011e2270128ea779b2f166ea8b7889
Merge: bffb4bd dcddfaf
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Jan 15 16:49:10 2013 +0100

    Merge branch 'cassandra-1.2' into trunk

commit dcddfaf5e16479b735235bb4a29ce8742cea56ba
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Jan 15 16:48:53 2013 +0100

    Fix tests post-#5121

 test/unit/org/apache/cassandra/db/SystemTableTest.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 4ff5b0ff22e5b00039691fe3a5348cf3a2168870
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Jan 14 08:16:55 2013 -0600

    more fixes

 test/unit/org/apache/cassandra/service/MoveTest.java | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 7de6f9666b0b6dd18f8496f549a61279d7ba58ec
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Jan 14 07:39:33 2013 -0600

    fix tests after 5135

 .../cassandra/service/LeaveAndBootstrapTest.java   | 31 +++++++++++++++++++++-
 1 file changed, 30 insertions(+), 1 deletion(-)

commit 713bba5af085273650b8202b4a7c225b5a094b5f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Jan 14 06:26:22 2013 -0600

    Calculate pending ranges asynchronously.
    Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-5135

 test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit eebf3fb1531476e1374affa025c45eaa7c970b8c
Merge: 958ba2b 1b41d6f
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Jan 10 11:56:49 2013 -0600

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java

commit 1b41d6feabd612448025e8f4004e02a17198dc22
Merge: 94f0b85 f481a39
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Jan 10 11:49:44 2013 -0600

    Merge branch 'cassandra-1.1' into cassandra-1.2
    
    Conflicts:
    	CHANGES.txt

commit f481a39167086ee4958d88b49e87ade091d4d858
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Jan 10 11:26:41 2013 -0600

    Fix user defined compaction; patch by yukim reviewed by jbellis for CASSANDRA-5118

 .../cassandra/db/compaction/CompactionsTest.java   | 40 ++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit 94d76aa6c6a63d22fead4adb2df725af75274f7f
Merge: f6df04d 3d787b7
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jan 7 11:14:36 2013 +0100

    Merge branch 'cassandra-1.2' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/SliceFromReadCommand.java
    	test/unit/org/apache/cassandra/service/RowResolverTest.java

commit 3d787b78c155773edcf29af8290ef1bea62a4206
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jan 7 11:11:45 2013 +0100

    Ensure CL guarantees on digest mismatch
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-5113

 .../apache/cassandra/service/RowResolverTest.java    | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 0fb9da6fc02302f20cbcd1fff2e9106cdf34631d
Merge: 5b0b196 9342ddd
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 4 07:39:35 2013 -0600

    Merge branch 'cassandra-1.2' into trunk

commit 9342dddc5c95c222536ebc4efd420493d2820e29
Merge: 1df03b3 e1206f3
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 4 07:39:26 2013 -0600

    Merge branch 'cassandra-1.1' into cassandra-1.2

commit e1206f3b8793b4dfa5b34815c4bf921da35e218a
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jan 4 07:38:43 2013 -0600

    Fix MoveTest.
    Patch by Liu Yu, reviewed by brandonwilliams for CASSANDRA-4564

 .../org/apache/cassandra/service/MoveTest.java     | 147 +++++++++++----------
 1 file changed, 76 insertions(+), 71 deletions(-)

commit 3a005df39797bd7b785d76830e72f3487dc9fa4e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Dec 12 13:59:34 2012 +0100

    Replace supercolumns internally by composites
    
    patch by slebresne; reviewed by Vijay for CASSANDRA-3237

 .../org/apache/cassandra/db/LongTableTest.java     |   3 +-
 .../db/compaction/LongCompactionsTest.java         |  47 +---
 .../LongLeveledCompactionStrategyTest.java         |   3 +-
 .../cassandra/AbstractSerializationsTester.java    |   3 +-
 test/unit/org/apache/cassandra/SchemaLoader.java   |  10 +-
 test/unit/org/apache/cassandra/Util.java           |  28 +--
 .../cassandra/config/ColumnDefinitionTest.java     |   2 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |  48 ++--
 .../cassandra/db/ArrayBackedSortedColumnsTest.java |  12 +-
 test/unit/org/apache/cassandra/db/CleanupTest.java |   3 +-
 .../cassandra/db/CollationControllerTest.java      |  14 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 266 +++++++++------------
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  46 +---
 .../org/apache/cassandra/db/CommitLogTest.java     |  11 +-
 .../org/apache/cassandra/db/CounterColumnTest.java |   9 +-
 .../apache/cassandra/db/CounterMutationTest.java   |  44 +---
 .../org/apache/cassandra/db/HintedHandOffTest.java |   7 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  13 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |   5 +-
 .../unit/org/apache/cassandra/db/NameSortTest.java |  25 +-
 .../apache/cassandra/db/RangeTombstoneTest.java    |  15 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  27 ++-
 .../apache/cassandra/db/RecoveryManagerTest.java   |   2 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |   5 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   7 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   9 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   7 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |   9 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  20 +-
 .../apache/cassandra/db/RemoveSuperColumnTest.java | 200 ----------------
 .../unit/org/apache/cassandra/db/RowCacheTest.java |  19 +-
 .../org/apache/cassandra/db/RowIterationTest.java  |  14 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |  15 --
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  18 +-
 .../cassandra/db/SecondaryIndexColumnSizeTest.java |  12 +-
 .../apache/cassandra/db/SerializationsTest.java    | 130 +++++-----
 .../org/apache/cassandra/db/SuperColumnTest.java   | 103 --------
 test/unit/org/apache/cassandra/db/TableTest.java   | 132 ++++------
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  33 ++-
 .../db/compaction/CompactionsPurgeTest.java        | 107 +++------
 .../cassandra/db/compaction/CompactionsTest.java   |  26 +-
 .../compaction/LeveledCompactionStrategyTest.java  |   5 +-
 .../cassandra/db/compaction/OneCompactionTest.java |   3 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    |   7 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |   7 +-
 .../cassandra/io/LazilyCompactedRowTest.java       |  43 +---
 .../cassandra/io/sstable/SSTableReaderTest.java    |  15 +-
 .../io/sstable/SSTableSimpleWriterTest.java        |   2 +-
 .../apache/cassandra/io/sstable/SSTableTest.java   |   4 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |   9 +-
 .../service/AntiEntropyServiceCounterTest.java     |   3 +-
 .../service/AntiEntropyServiceStandardTest.java    |   3 +-
 .../cassandra/service/CassandraServerTest.java     |   5 +-
 .../apache/cassandra/service/RowResolverTest.java  |  63 -----
 .../apache/cassandra/streaming/BootstrapTest.java  |   2 +-
 .../cassandra/streaming/SerializationsTest.java    |   3 +-
 .../cassandra/streaming/StreamingTransferTest.java |  28 +--
 .../apache/cassandra/tools/SSTableExportTest.java  |  82 ++-----
 .../apache/cassandra/tools/SSTableImportTest.java  |  42 ++--
 .../apache/cassandra/utils/EncodedStreamsTest.java |  22 --
 60 files changed, 535 insertions(+), 1322 deletions(-)

commit 70e9bed7c28d45119b889a0d97a17826d228fbec
Merge: 125a8c9 ac9f478
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Thu Dec 27 18:46:36 2012 -0800

    Merge branch 'cassandra-1.2' into trunk

commit ac9f4786e4d7b3b1a414838eec465f8553bf43b2
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Thu Dec 27 18:45:21 2012 -0800

    Improve removal of gcable tomstones during minor compaction
    patch by Vijay; reviewed by Yuki Morishita for CASSANDRA-4671

 .../db/compaction/CompactionsPurgeTest.java        | 39 +++++++++++++++++++++-
 .../cassandra/io/sstable/DescriptorTest.java       |  1 +
 .../io/sstable/SSTableMetadataSerializerTest.java  |  4 +++
 .../apache/cassandra/streaming/BootstrapTest.java  |  2 +-
 4 files changed, 44 insertions(+), 2 deletions(-)

commit 1e80bb89992cac590b01f0faea3c9dc6944d1ea0
Merge: ff92111 f252842
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Dec 19 15:06:43 2012 -0600

    Merge branch 'cassandra-1.2' into trunk

commit f25284220ca2ba0bd28e753b4a1d554e468b85b0
Merge: de2495c 45310c0
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Dec 19 15:06:30 2012 -0600

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit 45310c068fcc8868e3d4bdb877b2b62ec1bfdb98
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Dec 19 15:06:11 2012 -0600

    make sure OrderPreservingPartitionerTest runs clean

 .../org/apache/cassandra/dht/OrderPreservingPartitionerTest.java   | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 8e7abe0ada0ec3d06da99771a1c3af35e3affd52
Merge: 9bc9853 bebaf45
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Dec 19 12:43:42 2012 -0600

    Merge branch 'cassandra-1.2' into trunk

commit bebaf453c8e0f21b1be6c2ed962ae2f3e3c77373
Merge: 0207bdf e7ae7c9
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Dec 19 12:43:33 2012 -0600

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit e7ae7c9040135b6ecae5204efd7e41ad2e6ba4ee
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Dec 19 12:43:23 2012 -0600

    Fix M3P ownership calculation; patch by yukim reviewed by Sylvain Lebresne for CASSANDRA-5076

 .../apache/cassandra/dht/PartitionerTestCase.java  | 40 +++++++++++++++++++++-
 1 file changed, 39 insertions(+), 1 deletion(-)

commit d173ab51ac1a024670e47dad55e4f25f40c720da
Merge: 32ad73b 1583769
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 13 10:19:29 2012 -0600

    Merge branch 'cassandra-1.2' into trunk

commit 158376963b10f2cba75d76f9d0f4f330dfeb53e7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 13 10:19:12 2012 -0600

    apply disk_failure_policy to bad disks on initial directory creation
    patch by Kirk True; reviewed by jbellis for CASSANDRA-4847

 .../org/apache/cassandra/db/DirectoriesTest.java   | 38 ++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 40dad0aea76b8abd29dd4bb8f5590de195a293e7
Merge: 5a7943d cf3cde3
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Dec 7 15:44:06 2012 -0600

    Merge branch 'cassandra-1.2' into trunk

commit cf3cde3d99ba9250d6f606cc52e15f50d3c7ddf7
Merge: b49ca58 44545d3
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Dec 7 15:43:55 2012 -0600

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit f91001a085886a75f62c7eef019fd32bdc4c9fe1
Author: Jake Luciani <jluciani@bluemountaincapital.com>
Date:   Fri Dec 7 14:47:52 2012 -0500

    Fix for IndexHelper.IndexFor OOB Exception
    
    Patch by tjake; reviewed by jbellis for CASSANDRA-5030

 .../cassandra/io/sstable/IndexHelperTest.java      | 33 ++++++++++++++--------
 1 file changed, 22 insertions(+), 11 deletions(-)

commit f8f80d3e5058b7920ecb598d0b8a0ef2ccb3edf6
Merge: ef379f2 fc416fa
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Dec 7 10:14:16 2012 +0100

    Merge branch 'cassandra-1.2' into trunk

commit fc416fab0b21db5d9c9a14fb99f7c139cec64247
Merge: 8c16833 bac9794
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Dec 7 10:13:43 2012 +0100

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit 7442fc02098c468447a4610d84023336f57545a4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Dec 7 10:07:57 2012 +0100

    Don't generate UUID based on other nodes' address
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-5002

 .../apache/cassandra/cql/jdbc/ClientUtilsTest.java |  2 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    |  2 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |  2 +-
 .../apache/cassandra/db/marshal/RoundTripTest.java |  4 +--
 .../cassandra/db/marshal/TimeUUIDTypeTest.java     | 14 +++++-----
 .../apache/cassandra/db/marshal/UUIDTypeTest.java  | 31 +++++++---------------
 .../cassandra/io/LazilyCompactedRowTest.java       |  2 +-
 .../cassandra/streaming/SerializationsTest.java    |  6 ++---
 .../unit/org/apache/cassandra/utils/UUIDTests.java | 14 +++++-----
 9 files changed, 32 insertions(+), 45 deletions(-)

commit fe7c0553e8c280a30162cbe33a9d424f943bdfff
Merge: 805d028 aa9a602
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Dec 3 15:40:44 2012 -0600

    Merge branch 'cassandra-1.2' into trunk

commit aa9a6029d11c9145189568350556ea6af8668a48
Merge: 1d82d19 91f36f6
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Dec 3 15:40:34 2012 -0600

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit 91f36f6dcadcc7260265028e912aeaa6e6129a8e
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Dec 3 15:40:26 2012 -0600

    Remove obsolete test

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 11 -----------
 1 file changed, 11 deletions(-)

commit 6a5c9ed87995059e8cb824608fd5907432fa7ab4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Dec 1 09:42:18 2012 +0900

    make index_interval configurable per columnfamily
    patch by Radim Kolar; reviewed by jbellis for CASSANDRA-3961

 test/long/org/apache/cassandra/db/compaction/LongCompactionsTest.java | 4 ++--
 test/unit/org/apache/cassandra/db/KeyCollisionTest.java               | 2 +-
 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java     | 2 +-
 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java         | 2 +-
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java      | 2 +-
 5 files changed, 6 insertions(+), 6 deletions(-)

commit e4d5d3393767efa2777122254ff2b8c7d7f8ceab
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 29 21:41:57 2012 +0900

    keep reference to KSMetaData in Table

 test/long/org/apache/cassandra/db/MeteredFlusherTest.java    |  2 +-
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 12 ++++++------
 .../org/apache/cassandra/streaming/SerializationsTest.java   |  2 +-
 .../apache/cassandra/streaming/StreamingTransferTest.java    | 10 +++++-----
 4 files changed, 13 insertions(+), 13 deletions(-)

commit 9e14e195a401e51d9c0d5a7a1d95cdd47806938a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 29 21:35:33 2012 +0900

    rename CFS.columnFamily -> CFS.name

 .../long/org/apache/cassandra/db/MeteredFlusherTest.java |  2 +-
 test/unit/org/apache/cassandra/db/CleanupTest.java       |  2 +-
 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java   |  6 +++---
 .../apache/cassandra/io/sstable/SSTableReaderTest.java   |  2 +-
 .../service/AntiEntropyServiceTestAbstract.java          |  2 +-
 .../cassandra/streaming/StreamingTransferTest.java       | 16 ++++++++--------
 6 files changed, 15 insertions(+), 15 deletions(-)

commit 853456da588657e66285a1683ecd8dd6616d6f4d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 29 21:32:00 2012 +0900

    inline getTableDefinition -> getKSMetaData

 .../cassandra/config/DatabaseDescriptorTest.java   | 16 +++----
 .../unit/org/apache/cassandra/config/DefsTest.java | 50 +++++++++++-----------
 2 files changed, 33 insertions(+), 33 deletions(-)

commit 114651bbb0d55943343f8f83b7779def2424a2d4
Merge: 3a92236 1ef67f4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Nov 29 10:20:17 2012 +0100

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit f726cb23f501d525d1d98c21c1b27e320139ed3d
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Nov 29 10:18:14 2012 +0100

    Fix time-based UUID generation
    
    patch by slebresne; reviewed by vijay for CASSANDRA-5001

 test/unit/org/apache/cassandra/utils/UUIDTests.java | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 354cb093d279d4fdbc69648d75b5651d3646e729
Merge: b960b2b ad36c8f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 21 16:45:33 2012 -0600

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit ad36c8fd886843038b751a63be45a72e22f620ab
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 21 16:45:00 2012 -0600

    formatting

 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java    | 6 ++++--
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 5 +++--
 2 files changed, 7 insertions(+), 4 deletions(-)

commit fb577447bc9604dbba2a9cd83263d7c6306c0810
Merge: a9deba2 9366fb3
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Nov 21 20:17:53 2012 +0100

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit 9366fb32305a59822c7b914788995f2b11d92064
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Nov 21 20:16:50 2012 +0100

    Fix unit test failures
    
    patch by slebresne; reviewed by yukim for CASSANDRA-4980

 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java | 4 ++++
 1 file changed, 4 insertions(+)

commit a4452eeb168fd081100c633f9d2914c9c8aec48a
Merge: 445c4fa a32eb9f
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Nov 21 14:04:19 2012 +0100

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit a32eb9f7d2f2868e8154d178e96e045859e1d855
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Nov 21 14:03:32 2012 +0100

    Fix CQL3 limit
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4877

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit edcc7f137f573eb6aa38fe4f5b79c22de7811342
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 9 23:03:51 2012 -0600

    pool [Compressed]RandomAccessReader objects on the partitioned read path; creating them is expensive
    patch by jbellis; reviewed by xedin and slebresne for CASSANDRA-4942

 .../cassandra/io/compress/CompressedRandomAccessReaderTest.java       | 4 ++--
 .../org/apache/cassandra/io/util/BufferedRandomAccessFileTest.java    | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 6773383df800b8b5099b09f1fc71518619c0aa1b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 9 22:33:37 2012 -0600

    inline an infrequently-used RAR.open overload

 .../org/apache/cassandra/io/util/BufferedRandomAccessFileTest.java  | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit a878a02fb0c9d3abbcdd854039e5075793f861aa
Merge: 90d2f8e 901a54a
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Nov 13 16:18:27 2012 -0600

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit 901a54a6d6c7b6f7276088e67b45f95dcc7b57f7
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Nov 13 16:18:07 2012 -0600

    change stream session ID from (host, counter) to TimeUUID; patch by yukim reviewed by Michael Kjellman for CASSANDRA-4813

 .../cassandra/streaming/SerializationsTest.java    | 27 +++++++++++-----------
 .../cassandra/streaming/StreamingTransferTest.java |  6 ++---
 2 files changed, 17 insertions(+), 16 deletions(-)

commit 489355d3688cc0321828ac89e4d9f045585cc5a9
Merge: de7aed5 76613ee
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Nov 13 08:57:58 2012 +0100

    Merge branch 'cassandra-1.2.0' into cassandra-1.2

commit 53943180a4a41ecc5e145d1e08b0ea4a9d849c8c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Nov 13 08:54:37 2012 +0100

    Optimize mostRecentTomstone check in CC.collectAllData
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4883

 .../apache/cassandra/db/CollationControllerTest.java | 20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit 6677d075e9cadc073633fd84f810b9fc5174db45
Author: Dave Brosius <dbrosius@apache.org>
Date:   Mon Nov 12 19:57:31 2012 -0500

    Add debug logging to list filenames processed by o.a.c.db.Directories.migrateFile method
    patch by dbrosius reviewed by slebresne for CASSANDRA-4939

 .../org/apache/cassandra/db/DirectoriesTest.java   | 40 ++++++++++++++++++----
 1 file changed, 34 insertions(+), 6 deletions(-)

commit dda7aee34f31ebbb039fb57c0b434291b1e72dfb
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Nov 9 16:29:43 2012 -0600

    Stabilize TableTest

 test/unit/org/apache/cassandra/db/TableTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit fdf29594caae2ec0b59a485edc59250a7f49e792
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Nov 5 18:41:01 2012 +0100

    Update version and add missing license

 .../org/apache/cassandra/db/HintedHandOffTest.java | 139 ++++++++++++---------
 1 file changed, 80 insertions(+), 59 deletions(-)

commit a15500e742b7c18804ead7ef338d6fa39b9ba984
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Oct 27 10:16:25 2012 -0700

    convert abstract class Filter to IFilter

 .../apache/cassandra/utils/LongBloomFilterTest.java    |  6 +++---
 test/unit/org/apache/cassandra/db/CleanupTest.java     |  4 ++--
 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java | 18 +++++++++---------
 .../cassandra/streaming/StreamingTransferTest.java     |  4 ++--
 .../org/apache/cassandra/utils/BloomFilterTest.java    | 17 ++++++++---------
 .../org/apache/cassandra/utils/FilterTestHelper.java   |  2 +-
 .../apache/cassandra/utils/LegacyBloomFilterTest.java  |  2 +-
 .../org/apache/cassandra/utils/SerializationsTest.java |  2 +-
 8 files changed, 27 insertions(+), 28 deletions(-)

commit dc37dea745fe89d70819d649c823d9bfcb0d7577
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 31 10:54:47 2012 -0500

    off-heap bloom filters for row keys
    patch by vijay; reviewed by jbellis for CASSANDRA-4865

 .../org/apache/cassandra/utils/LongBitSetTest.java | 133 ++++++++++++++++++
 .../cassandra/utils/LongBloomFilterTest.java       |   6 +-
 .../org/apache/cassandra/utils/BitSetTest.java     | 148 +++++++++++++++++++++
 .../apache/cassandra/utils/BloomFilterTest.java    |   9 +-
 .../cassandra/utils/LegacyBloomFilterTest.java     |   2 +-
 .../apache/cassandra/utils/SerializationsTest.java |  14 +-
 6 files changed, 297 insertions(+), 15 deletions(-)

commit b74a00b289f7c6c7287b68db870409bc598ed287
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Oct 30 11:51:00 2012 -0500

    Fix potential infinite loop in tombstone compaction; patch by yukim reviewed by Sylvain Lebresne for CASSANDRA-4781

 test/unit/org/apache/cassandra/SchemaLoader.java   |  6 +-
 .../cassandra/db/compaction/CompactionsTest.java   | 66 +++++-----------------
 2 files changed, 19 insertions(+), 53 deletions(-)

commit 63a8bfe030ece2497c839bb34148b73e416466f4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 30 16:11:27 2012 +0100

    Fix binary protocol NEW_NODE event
    
    patch by slebresne; reviewed by yukim for CASSANDRA-4679

 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java     | 1 -
 1 file changed, 1 deletion(-)

commit af97b0f3ae080b01cbf1a3db934087082eeedb89
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 25 22:57:37 2012 -0500

    rename FreeableMemory -> RefCountedMemory

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c86a7f8ca5cbd48f6fba94599449ed17107d8b23
Merge: 95f94a4 5d5207b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Oct 24 20:41:08 2012 +0200

    Merge branch 'cassandra-1.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/marshal/AbstractCompositeType.java

commit 5d5207b9111ddbc576d67153175e5a6e27994b73
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Oct 24 20:35:32 2012 +0200

    Fix CompositeType.{get/from}String methods
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4842

 .../cassandra/db/marshal/CompositeTypeTest.java    | 35 +++++++++++++++++++++-
 1 file changed, 34 insertions(+), 1 deletion(-)

commit dd8a3c45072efbc0fea14e98552b4b5a9dab9de3
Merge: a58b870 95fb613
Author: Yuki Morishita <yukim@apache.org>
Date:   Mon Oct 22 13:53:11 2012 -0500

    Merge branch 'cassandra-1.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/service/StorageService.java
    	src/java/org/apache/cassandra/thrift/CassandraServer.java

commit 95fb613bf996c715392f9aa1f491609b6acaeff5
Author: Yuki Morishita <yukim@apache.org>
Date:   Mon Oct 22 12:16:20 2012 -0500

    fix potential infinite loop in get_count; patch by yukim reviewed by Tyler Hobbs for CASSANDRA-4833

 .../cassandra/service/CassandraServerTest.java     | 88 ++++++++++++++--------
 1 file changed, 58 insertions(+), 30 deletions(-)

commit 61f5e5005235a449d41fb56f16249732286c87c9
Merge: 8c47124 b8874ad
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Oct 16 18:07:54 2012 -0500

    Merge branch 'cassandra-1.1' into trunk
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/compaction/LeveledCompactionStrategy.java
    	test/unit/org/apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java

commit b8874ad1a892cfc45c87ed1187d43df356f48315
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Oct 16 16:23:46 2012 -0500

    fix wrong leveled compaction progress calculation; patch by yukim reviewed by jbellis for CASSANDRA-4807

 .../compaction/LeveledCompactionStrategyTest.java  | 41 ++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit 8c471240d0ffafeef53df2fd69693294257ed730
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Oct 16 11:44:42 2012 -0500

    LongCompactionsTest#testStandardColumnCompaction should reset CFS for clean test

 test/long/org/apache/cassandra/db/compaction/LongCompactionsTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 771005e99872e8a312954d4182c03c3c17b9c2e1
Merge: 18acbef e1491f3
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Oct 16 09:40:27 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit e1491f3f24ef0a1898dfa598956d6781f55d0957
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Oct 16 09:36:51 2012 -0500

    Fix test setup and repair/LCS edge case for CASSANDRA-4799

 .../apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c5fe91f3a9e05bd51e1582818643a4e85c0cf35
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sun Oct 14 14:57:50 2012 -0400

    remove unused fields/locals

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 7 -------
 1 file changed, 7 deletions(-)

commit 4881221363f984ab6610756cab38e1a016b79e15
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 11 16:12:21 2012 -0500

    Make hint delivery asynchronous
    patch by Alexey Zotov; reviewed by jbellis for CASSANDRA-4761

 test/unit/org/apache/cassandra/Util.java         |  5 ++++
 test/unit/org/apache/cassandra/db/TableTest.java | 38 ++++++++++++++++++++++++
 2 files changed, 43 insertions(+)

commit 9d58b71583b4de7228a1cc106f02ecdad8778efd
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Oct 11 09:51:00 2012 -0500

    move long LCS test to long-test

 .../LongLeveledCompactionStrategyTest.java         | 129 +++++++++++++++++++++
 .../compaction/LeveledCompactionStrategyTest.java  |  96 ---------------
 2 files changed, 129 insertions(+), 96 deletions(-)

commit 2a3076bf77d063402c5d3afa93e1398a1f03833b
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Oct 10 18:48:19 2012 -0500

    Run leveled compaction in parallel; patch by yukim, reviewed by jbellis for CASSANDRA-4310

 .../db/compaction/LongCompactionsTest.java         |   2 +-
 test/unit/org/apache/cassandra/Util.java           |   3 +-
 .../cassandra/db/compaction/CompactionsTest.java   |   9 +-
 .../compaction/LeveledCompactionStrategyTest.java  | 101 ++++++++++++++++++++-
 .../cassandra/io/LazilyCompactedRowTest.java       |   6 +-
 5 files changed, 109 insertions(+), 12 deletions(-)

commit 19c3bd3b3b24372f2a6fa026ec34b546826159ee
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Oct 9 10:54:35 2012 -0500

    fix infinite loop in LCS test

 .../apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 21b7bbe6a92eb0e05a96f4f19b32a307d2d57808
Merge: a812998 3d2decf
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Oct 9 10:54:49 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 3d2decf54b7869c744d9890cff8b05847d888615
Author: Yuki Morishita <yukim@apache.org>
Date:   Tue Oct 9 10:54:35 2012 -0500

    fix infinite loop in LCS test

 .../apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2773f7cd8ba5e9b3b293f26f546ddcd450831d82
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 9 16:43:49 2012 +0200

    Versions, changes, news for 1.1.6 release

 .../org/apache/cassandra/db/HintedHandOffTest.java | 151 ++++++++++++---------
 1 file changed, 86 insertions(+), 65 deletions(-)

commit fc3235841696032b4800ef5ab3bd1d9157fd47a2
Merge: 04859be 0d12493
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Oct 8 23:37:51 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 0d12493721fdf3212ecfe58a341ca07ba83453cd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Oct 8 23:23:20 2012 -0500

    Fix HH to compact with correct gcBefore
    patch by Alexey Zotov; reviewed by jbellis for CASSANDRA-4772

 .../org/apache/cassandra/db/HintedHandOffTest.java | 65 ++++++++++++++++++++++
 1 file changed, 65 insertions(+)

commit 7a2b45ae4205572e6b8b4309bbac80859c709c2b
Author: Yuki Morishita <yukim@apache.org>
Date:   Mon Oct 8 13:34:30 2012 -0500

    configurable bucket size for STC; patch by Radim Kolar, reviewed by yukim for CASSANDRA-4704

 .../db/compaction/SizeTieredCompactionStrategyTest.java | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 5eb53085398af4d30002785ee21f50b894208735
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Oct 2 18:01:21 2012 +0200

    Allow repairing only the node in the local DC
    
    patch by Alexey Zotov; reviewed by slebresne for CASSANDRA-4747

 .../service/AntiEntropyServiceTestAbstract.java    | 63 ++++++++++++++++++++--
 1 file changed, 58 insertions(+), 5 deletions(-)

commit 0b94b191d803f2a59e39c0e14fca45f5fb2ceb65
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 27 15:28:25 2012 -0500

    add PBSPredictor consistency modeler
    patch by Peter Bailis and Shivaram Venkataraman; reviewed by jbellis for CASSANDRA-4261

 .../apache/cassandra/service/PBSPredictorTest.java | 114 +++++++++++++++++++++
 1 file changed, 114 insertions(+)

commit f92fb2241fc2ea5c7fb25ee885337404de3fbb49
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Sep 21 10:05:51 2012 -0500

    move testStandardColumnCompactions and testSuperColumnCompactions to LongSompactionsTest

 .../db/compaction/LongCompactionSpeedTest.java     | 102 ----------
 .../db/compaction/LongCompactionsTest.java         | 217 +++++++++++++++++++++
 .../cassandra/db/compaction/CompactionsTest.java   | 107 +---------
 3 files changed, 218 insertions(+), 208 deletions(-)

commit 60bf68caa98566ce09e76d501b14d45b46c26209
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Sep 18 18:01:09 2012 +0200

    Update version, licenses, etc... for 1.2.0-beta1 release

 .../unit/org/apache/cassandra/service/RelocateTest.java | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit d09b47c3e7330c8a68201fabda88aca38ce2465d
Author: Eric Evans <eevans@apache.org>
Date:   Fri Sep 14 10:09:10 2012 -0500

    p/4443/040_tests
    
    Relocation unit tests.
    
    Patch by eevans; reviewed by Brandon Williams for CASSANDRA-4559

 .../org/apache/cassandra/service/RelocateTest.java | 191 +++++++++++++++++++++
 1 file changed, 191 insertions(+)

commit 3b13457ddbcd859d4216029d4cb7613d7bba1a06
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Sep 11 19:14:46 2012 +0200

    Rename NodeId to CounterId
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4647

 test/unit/org/apache/cassandra/Util.java           |   6 +-
 test/unit/org/apache/cassandra/db/CleanupTest.java |   6 +-
 .../org/apache/cassandra/db/CounterColumnTest.java |  77 +++---
 .../apache/cassandra/db/CounterMutationTest.java   |  43 ++--
 .../org/apache/cassandra/db/SuperColumnTest.java   |  40 +--
 .../cassandra/db/context/CounterContextTest.java   | 274 ++++++++++-----------
 .../cassandra/streaming/StreamingTransferTest.java |  10 +-
 7 files changed, 226 insertions(+), 230 deletions(-)

commit 67cc0dc4ade15a3693a62cb6ebb85ac4fc9ad328
Merge: 781b248 2cd7363
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 5 16:39:08 2012 -0500

    merge from 1.1

commit 2cd73633bd441697979e9bfe4af0ca20527c6a89
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 5 16:08:27 2012 -0500

    add SecondaryIndex.reload API
    patch by Sam Tunnicliffe; reviewed by jbellis for CASSANDRA-4581

 .../apache/cassandra/db/SecondaryIndexColumnSizeTest.java   | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 3a2faf9424769cfee5fdad25f4513611820ca980
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Aug 1 08:40:50 2012 +0200

    Finer grained exception hierarchy, and adds error codes
    
    patch by slebresne; reviewed by thepaul for CASSANDRA-3979

 test/long/org/apache/cassandra/db/MeteredFlusherTest.java        | 2 +-
 test/unit/org/apache/cassandra/SchemaLoader.java                 | 1 +
 test/unit/org/apache/cassandra/cli/CliTest.java                  | 2 +-
 .../unit/org/apache/cassandra/config/DatabaseDescriptorTest.java | 3 ++-
 test/unit/org/apache/cassandra/config/DefsTest.java              | 1 +
 test/unit/org/apache/cassandra/db/CleanupTest.java               | 2 +-
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java     | 2 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java                 | 2 +-
 .../org/apache/cassandra/db/SecondaryIndexColumnSizeTest.java    | 2 +-
 test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java | 5 ++++-
 test/unit/org/apache/cassandra/db/marshal/TypeParserTest.java    | 9 ++++++---
 .../org/apache/cassandra/locator/DynamicEndpointSnitchTest.java  | 2 +-
 test/unit/org/apache/cassandra/locator/EC2SnitchTest.java        | 2 +-
 .../apache/cassandra/locator/NetworkTopologyStrategyTest.java    | 2 +-
 .../cassandra/locator/ReplicationStrategyEndpointCacheTest.java  | 2 +-
 test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java   | 2 +-
 .../apache/cassandra/service/AntiEntropyServiceCounterTest.java  | 2 +-
 .../apache/cassandra/service/EmbeddedCassandraServiceTest.java   | 2 +-
 test/unit/org/apache/cassandra/service/InitClientTest.java       | 2 +-
 .../unit/org/apache/cassandra/service/LeaveAndBootstrapTest.java | 2 +-
 test/unit/org/apache/cassandra/service/MoveTest.java             | 2 +-
 test/unit/org/apache/cassandra/service/RemoveTest.java           | 2 +-
 .../org/apache/cassandra/service/StorageServiceClientTest.java   | 2 +-
 .../org/apache/cassandra/service/StorageServiceServerTest.java   | 2 +-
 test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java  | 7 ++++---
 25 files changed, 37 insertions(+), 27 deletions(-)

commit b475bc69b7e6d08e6d12527578552e67e8c0f88a
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Sep 4 10:41:58 2012 -0500

    Binary encoding of tokens.
    Also promotes new gossip states: HOST_ID and TOKENS
    Patch by brandonwilliams, reviewed by eevans for CASSANDRA-4383

 test/unit/org/apache/cassandra/Util.java           |  5 ++-
 .../org/apache/cassandra/dht/BootStrapperTest.java | 12 +++---
 .../apache/cassandra/gms/SerializationsTest.java   |  3 +-
 .../service/AntiEntropyServiceTestAbstract.java    |  2 +-
 .../cassandra/service/LeaveAndBootstrapTest.java   | 46 +++++++++++++---------
 .../org/apache/cassandra/service/MoveTest.java     | 22 ++++++-----
 .../org/apache/cassandra/service/RemoveTest.java   |  4 --
 7 files changed, 51 insertions(+), 43 deletions(-)

commit 7af7eb31ef98f33a0c6864586ff91cdef669afdb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Sep 3 10:35:27 2012 -0500

    replace "new Pair with Pair.create to take advantage of type inference

 .../cassandra/db/compaction/SizeTieredCompactionStrategyTest.java   | 6 +++---
 test/unit/org/apache/cassandra/streaming/BootstrapTest.java         | 2 +-
 test/unit/org/apache/cassandra/streaming/SerializationsTest.java    | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit d7468ea1444ddf9e1616050e46d4832f0a66290d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 31 08:39:00 2012 -0500

    cleanup

 test/unit/org/apache/cassandra/db/CounterColumnTest.java      |  4 ++--
 .../cassandra/service/AntiEntropyServiceTestAbstract.java     |  4 ++--
 .../org/apache/cassandra/streaming/StreamingTransferTest.java | 11 +++++------
 test/unit/org/apache/cassandra/utils/MerkleTreeTest.java      |  2 +-
 4 files changed, 10 insertions(+), 11 deletions(-)

commit fd2ddb5c3e628d4406761b9359112f6d18fa64b6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 31 07:29:59 2012 -0500

    optimize WriteResponse
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-4548

 test/unit/org/apache/cassandra/db/SerializationsTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8a1b93d79f39b80979f5403de1fac4f7e8d7cb02
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 30 09:07:05 2012 -0500

    redesign KEYS indexes to avoid read-before-write
    patch by Sam Tunnicliffe, jbellis, and Philip Jenvey for CASSANDRA-2897

 test/unit/org/apache/cassandra/SchemaLoader.java   |  21 +++-
 .../apache/cassandra/config/CFMetaDataTest.java    |  14 +++
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 138 +++++++++++++++++++++
 .../cassandra/db/SecondaryIndexColumnSizeTest.java |  22 ++--
 4 files changed, 183 insertions(+), 12 deletions(-)

commit 0525ae25f82ea132727b395da973b06fd1733011
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed Aug 29 18:02:57 2012 -0700

    log related to Murmur3Partitioner
    patch by vijay; reviewed by Pavel Yaskevich for CASSANDRA-4282

 test/unit/org/apache/cassandra/gms/SerializationsTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c94432b239547ef3ee8326e9543200f67a2ed2f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 29 11:55:37 2012 -0500

    add request tracing
    patch by David Alves; reviewed by jbellis for CASSANDRA-1123

 test/unit/org/apache/cassandra/config/CFMetaDataTest.java            | 5 ++---
 test/unit/org/apache/cassandra/config/DefsTest.java                  | 4 ++--
 test/unit/org/apache/cassandra/service/StorageServiceServerTest.java | 3 ++-
 3 files changed, 6 insertions(+), 6 deletions(-)

commit a89ef1ffd4cd2ee39a2751f37044dba3015d72f1
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Thu Aug 23 01:45:19 2012 +0300

    Murmur3Partitioner improvements
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3772

 .../cassandra/dht/Murmur3PartitionerTest.java      | 41 ++++++++++++++++++++++
 .../apache/cassandra/dht/PartitionerTestCase.java  |  5 +++
 2 files changed, 46 insertions(+)

commit e1fef724889a498e0297de897592276b9f86c5cd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 22 10:29:17 2012 -0500

    Make compaction, flush JBOD-aware
    patch by yukim; reviewed by jbellis for CASSANDRA-4292

 test/unit/org/apache/cassandra/config/DefsTest.java | 1 -
 1 file changed, 1 deletion(-)

commit 80ea03f5e928fec184f33682038df528652e97ba
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jun 20 19:46:09 2012 +0200

    Composite secondary indexes (for CQL3)
    
    patch by slebresne; reviewed by yukim for CASSANDRA-3680

 test/unit/org/apache/cassandra/config/DefsTest.java | 4 ++--
 test/unit/org/apache/cassandra/db/CleanupTest.java  | 1 -
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 4bc873b79842c1a4debaa0b3da4adf0a6d84b3f5
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 30 19:51:58 2012 +0200

    Fix tests

 test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 844b9c46c9ceb08a52da7738c8312e8c0b599737
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 30 15:38:53 2012 -0500

    fix build

 test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 652ae9a6456dd8cdd38e3eebdfbbfad51b2ad197
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Fri Jul 27 13:56:45 2012 +0300

    improve DynamicEndpointSnitch by using reservoir sampling
    patch by Pavel Yaskevich; reviewed by Brandon Williams for CASSANDRA-4038

 .../locator/DynamicEndpointSnitchTest.java         | 30 +++++++++++-----------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit 7588f74d01afe5f65ee3ce7afe2b4423ece0970d
Author: Dave Brosius <dbrosius@apache.org>
Date:   Sun Jul 29 18:38:19 2012 -0400

    simple warnings cleanups

 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java | 5 -----
 test/unit/org/apache/cassandra/utils/MerkleTreeTest.java    | 4 ----
 2 files changed, 9 deletions(-)

commit debb15ed14aeff1f9bd1fc859cff10ee7248cf8c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 27 15:45:27 2012 -0500

    clean up ioexceptions
    patch by Aleksey Yeschenko and jbellis for CASSANDRA-2116

 test/unit/org/apache/cassandra/SchemaLoader.java   | 25 +++++++---------------
 test/unit/org/apache/cassandra/Util.java           |  4 ++--
 .../org/apache/cassandra/db/DirectoriesTest.java   |  2 +-
 .../cassandra/db/SecondaryIndexColumnSizeTest.java | 16 +++++++-------
 .../compress/CompressedRandomAccessReaderTest.java | 22 +++++++++++--------
 .../io/util/BufferedRandomAccessFileTest.java      | 16 +++++++-------
 .../cassandra/streaming/SerializationsTest.java    |  9 +-------
 7 files changed, 41 insertions(+), 53 deletions(-)

commit dc071e702e20bf49f05b70fd75de0e63474707c5
Author: Dave Brosius <dbrosius@apache.org>
Date:   Thu Jul 26 21:47:25 2012 -0400

    fix compile

 .../cassandra/db/SecondaryIndexColumnSizeTest.java | 74 +++++++++++-----------
 1 file changed, 37 insertions(+), 37 deletions(-)

commit 80baefddc5749a15edc21b6ea9fa84bdfb879883
Merge: 94e413f 070c1d8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 26 17:17:21 2012 -0500

    merge from 1.1

commit 070c1d8dd3c7b674034acfbc421555d658aabb60
Merge: 10372c2 1ad710b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 26 17:16:39 2012 -0500

    merge from 1.0

commit 1ad710b6eada9b0b269c96154021a95a807f4bbb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 26 17:12:24 2012 -0500

    fix typo in SICST class name

 .../cassandra/db/SecondaryIndexColumSizeTest.java  | 215 ---------------------
 .../cassandra/db/SecondaryIndexColumnSizeTest.java | 215 +++++++++++++++++++++
 2 files changed, 215 insertions(+), 215 deletions(-)

commit bcc7f7b0fbd0eabfc1ae985009cce7fca985b613
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 26 17:12:02 2012 -0500

    cleanup

 .../cassandra/db/SecondaryIndexColumSizeTest.java  | 29 +++++++++++-----------
 .../cassandra/thrift/ThriftValidationTest.java     |  9 -------
 2 files changed, 14 insertions(+), 24 deletions(-)

commit 27cd2bfda07ac9dc2b336a45aadfb96a168a2d2b
Author: T Jake Luciani <jakers@gmail.com>
Date:   Thu Jul 26 14:35:31 2012 -0400

    remove poorly mocked test in favor of new test

 .../cassandra/thrift/ThriftValidationTest.java     | 45 +---------------------
 1 file changed, 1 insertion(+), 44 deletions(-)

commit bce2d6c35753929c62a557159f944ace82896869
Author: T Jake Luciani <jakers@gmail.com>
Date:   Thu Jul 26 13:37:24 2012 -0400

    Push the validation of secondary index values to the secondary index manager
    
    Patch by Alex Liu, Reviewed by tjake for CASSANDRA-4240

 .../cassandra/db/SecondaryIndexColumSizeTest.java  | 216 +++++++++++++++++++++
 1 file changed, 216 insertions(+)

commit 111f6c9392766205823e326422f3dffae826cf97
Merge: f650d3e 6a6b7ec
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jul 26 18:04:14 2012 +0200

    Merge branch 'cassandra-1.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java
    	src/java/org/apache/cassandra/io/sstable/Descriptor.java
    	src/java/org/apache/cassandra/io/sstable/SSTableMetadata.java
    	src/java/org/apache/cassandra/io/sstable/SSTableReader.java

commit f650d3e8234cc30e71e2a227d597056946ef7bea
Author: Dave Brosius <dbrosius@apache.org>
Date:   Thu Jul 26 00:51:10 2012 -0400

    cleanup unused import warnings, and trailing whitespace

 test/unit/org/apache/cassandra/config/CFMetaDataTest.java            | 3 ---
 test/unit/org/apache/cassandra/db/ArrayBackedSortedColumnsTest.java  | 1 -
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java         | 3 +--
 test/unit/org/apache/cassandra/db/ScrubTest.java                     | 5 -----
 test/unit/org/apache/cassandra/db/SerializationsTest.java            | 4 +---
 test/unit/org/apache/cassandra/db/TableTest.java                     | 2 --
 .../cassandra/db/compaction/LeveledCompactionStrategyTest.java       | 4 ----
 test/unit/org/apache/cassandra/dht/BootStrapperTest.java             | 2 --
 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java        | 1 -
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java     | 1 -
 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java          | 1 -
 .../org/apache/cassandra/locator/NetworkTopologyStrategyTest.java    | 1 -
 test/unit/org/apache/cassandra/service/SerializationsTest.java       | 2 --
 test/unit/org/apache/cassandra/utils/StreamingHistogramTest.java     | 1 -
 14 files changed, 2 insertions(+), 29 deletions(-)

commit 5cde66bab30e7aa8f98bae9a7504b2a4a17cdda1
Merge: b167e9b cc0be1b
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Jul 25 22:01:14 2012 +0300

    merge from 1.1

commit cc0be1b40007ef4b653e4ad6bc4dbe0438b97785
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Jul 25 17:52:39 2012 +0300

    fix nodetool's setcompactionthreshold command
    patch by Aleksey Yeschenko; reviewed by Pavel Yaskevich for CASSANDRA-4455

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 34cd6912b0e506f923ef33329fc9966d79222e77
Merge: 8d6fe24 ff64c5d
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Jul 23 11:22:37 2012 -0500

    Merge #4427 to trunk

commit 202f3940dc35411f9b2351a026e859e487b94591
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Jul 17 17:18:46 2012 +0300

    fix "Can't Modify Index Name" problem on CF update
    patch by Pavel Yaskevich; reviewed by Yuki Morishita for CASSANDRA-4439

 test/unit/org/apache/cassandra/cli/CliTest.java | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 66b96ee5357b639729b6f220b1d5453027b866c6
Author: Eric Evans <eevans@apache.org>
Date:   Wed Jul 18 13:27:56 2012 -0500

    virtual nodes support for bootstrap and decommission
    
    Patch by Sam Overton and eevans; reviewed by Brandon Williams for CASSANDRA-4122

 test/unit/org/apache/cassandra/Util.java           |  5 +-
 .../org/apache/cassandra/db/SystemTableTest.java   | 32 ++++++----
 .../org/apache/cassandra/dht/BootStrapperTest.java |  7 ++-
 .../apache/cassandra/gms/SerializationsTest.java   |  5 +-
 .../service/AntiEntropyServiceTestAbstract.java    |  2 +-
 .../cassandra/service/LeaveAndBootstrapTest.java   | 70 ++++++++++++++--------
 .../org/apache/cassandra/service/MoveTest.java     | 20 +++++--
 7 files changed, 94 insertions(+), 47 deletions(-)

commit cbb15e58a67b408f9cef264638bae7615b7b8e87
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jul 16 18:27:24 2012 +0200

    Regenerate sstable to fix scrub tests

 test/unit/org/apache/cassandra/db/ScrubTest.java | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 0091af932c6ef65a0a5917f123fe24398b79c079
Author: Yuki Morishita <yukim@apache.org>
Date:   Fri Jul 13 13:17:51 2012 -0500

    Track tombstone for LCS; patch by yukim reviewed by jbellis for CASSANDRA-4234

 .../cassandra/db/compaction/CompactionsTest.java   | 53 +++++++++++++++++++++-
 1 file changed, 52 insertions(+), 1 deletion(-)

commit d569f873de40f0336a9a34e260c1942866e48950
Author: Yuki Morishita <yukim@apache.org>
Date:   Thu Jul 12 10:40:24 2012 -0500

    new json format with row level deletion; patch by David Alves, reviewed by yukim for CASSANDRA-4054

 .../apache/cassandra/tools/SSTableExportTest.java  | 172 ++++++++++++++++-----
 .../apache/cassandra/tools/SSTableImportTest.java  |  85 +++++++---
 2 files changed, 196 insertions(+), 61 deletions(-)

commit 629dac6c8aeeb5649ebb640ab0c6334b24eee85d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 10 15:33:11 2012 -0500

    formatting

 .../apache/cassandra/db/ColumnFamilyStoreTest.java   | 20 ++++++++------------
 1 file changed, 8 insertions(+), 12 deletions(-)

commit 3c90be1d63a1c29c3cc8d952a9ae22b982ee0550
Merge: 19a4537 485c878
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 10 12:06:42 2012 -0500

    merge from 1.1

commit 485c878983ad6e218553544456e48b91d623c1c4
Merge: c716fc7 84a1d60
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 10 08:37:19 2012 -0500

    merge from 1.0

commit 84a1d6059bbaab375817a33179bb8de63121176b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 10 08:35:23 2012 -0500

    fix mixing user-provided timestamps and local deletion time for #4396

 .../cassandra/db/compaction/CompactionsTest.java   | 40 ++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit e85afdc5b6a691591834bd32f766087560c60a39
Author: Eric Evans <eevans@apache.org>
Date:   Mon Jul 9 16:07:34 2012 -0600

    update TokenMetadata in support of many tokens per node
    
    Patch by Sam Overton; reviewed by jbellis for CASSANDRA-4121

 .../org/apache/cassandra/locator/NetworkTopologyStrategyTest.java  | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit a2bdc8ff9c88b2a6062f23cc5ae1d4931163538e
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Fri Jul 6 16:49:40 2012 -0700

    Fix for Test failure: remove hardcoded values in CLT

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit b9df12c173ed62a3c367bbee919b056d349e6b68
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Fri Jul 6 16:21:17 2012 -0700

    Fix for Test failure: remove hardcoded values in CLT

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 6d3a3eed27af0b6dd398da5bdd342d5bbd5340c0
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon May 7 17:07:54 2012 +0200

    Custom CQL protocol
    
    patch by slebresne; reviewed by yukim and norman for CASSANDRA-2478

 test/unit/org/apache/cassandra/EmbeddedServer.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9688a79d0c315395772d15d92e051d00e18b966b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 3 11:58:23 2012 -0500

    update NTS calculateNaturalEndpoints to be O(N log N)
    patch by Sam Overton; reviewed by jbellis for CASSANDRA-3881

 .../locator/NetworkTopologyStrategyTest.java       | 62 ++++++++++++++++++++--
 1 file changed, 58 insertions(+), 4 deletions(-)

commit 893d1da990b4f31462ad241dc0c4b6a91cf3dbee
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 3 11:55:54 2012 -0500

    add Topology to TokenMetadata and clean up thread safety design
    patch by Sam Overton; reviewed by jbellis for CASSANDRA-3881

 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java    | 2 +-
 test/unit/org/apache/cassandra/service/LeaveAndBootstrapTest.java       | 2 +-
 test/unit/org/apache/cassandra/service/MoveTest.java                    | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 9d1bf372309f67ccd7242a24ef8061641e2857f7
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jun 29 18:33:46 2012 +0200

    Add missing file from previous commit

 .../apache/cassandra/db/RangeTombstoneTest.java    | 184 +++++++++++++++++++++
 1 file changed, 184 insertions(+)

commit 3eff5455dc58e6b7e0aadf987a635320f4bd5ef1
Merge: b8578df 09e5443
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jun 29 11:18:46 2012 +0200

    Merge branch 'cassandra-1.1' into trunk
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java
    	src/java/org/apache/cassandra/db/Table.java
    	src/java/org/apache/cassandra/db/compaction/CompactionController.java
    	src/java/org/apache/cassandra/db/compaction/CompactionManager.java
    	src/java/org/apache/cassandra/io/sstable/SSTableReader.java
    	src/java/org/apache/cassandra/service/StorageService.java
    	src/java/org/apache/cassandra/tools/BulkLoader.java

commit 75453d0179b841ef2e63475f81484661c2e502cb
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jun 29 10:37:10 2012 +0200

    Improve scrub and allow to run it offline
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4321

 test/unit/org/apache/cassandra/db/ScrubTest.java | 70 ++++++++++++++++++++++--
 1 file changed, 64 insertions(+), 6 deletions(-)

commit 57998976f0024776bab6b2301f2436ea60e38fe0
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Thu Jun 28 14:35:37 2012 -0700

    Add Commitlog Versioning
    patch by Vijay; reviewed by jbellis for CASSANDRA-4357

 .../org/apache/cassandra/db/CommitLogTest.java     | 24 +++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit 2bfea99ddb3451d5b0710cd0462980f56e776c70
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 27 11:14:09 2012 -0500

    Revert "merge from 0.1"
    
    This reverts commit 9f867ea4c20b40e2bcd07fb43dc888bd3601474a, reversing
    changes made to 681e2dea7679e0008cf149afc2b01f4b150d006c.

 test/unit/org/apache/cassandra/db/RowCacheTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9f867ea4c20b40e2bcd07fb43dc888bd3601474a
Merge: 681e2de 0627c8a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 27 02:18:55 2012 -0500

    merge from 0.1

commit 0627c8aaec966d01500f2bb957aaefb9873fff38
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 27 02:18:04 2012 -0500

    Use correct partitioner when saving + loading caches
    patch by jbellis; reviewed by xedin for CASSANDRA-4331

 test/unit/org/apache/cassandra/db/RowCacheTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 681e2dea7679e0008cf149afc2b01f4b150d006c
Merge: 9c56301 98dc413
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 26 19:51:36 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 98dc41393fc6cc2b2b8756f6d8b33f86c45c0726
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 26 19:51:30 2012 -0500

    Check schema before trying to export sstable
    patch by Jason Brown; reviewed by jbellis for CASSANDRA-2760

 test/unit/org/apache/cassandra/tools/SSTableExportTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 17f64320d8ea0e4442dd586c14f9fa6b517b6700
Merge: 4dc18a2 112ce0c
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Jun 26 00:36:22 2012 +0300

    merge from 1.1

commit de5575790920364561ac476b3dabf534cdb36227
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Jun 26 00:23:53 2012 +0300

    add strategy_options to the KSMetaData.toString() output
    patch by Vladimir Sverzhinsky; reviewed by Pavel Yaskevich for CASSANDRA-4248

 .../apache/cassandra/config/KSMetaDataTest.java    | 50 ++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit 877a8cacc1de7740d4e0e422ecf2b409b7f193f6
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Jun 20 12:17:25 2012 -0500

    Fix bootstrap, move, remove and other hostid-related tests.

 test/unit/org/apache/cassandra/Util.java                          | 2 ++
 test/unit/org/apache/cassandra/dht/BootStrapperTest.java          | 2 ++
 test/unit/org/apache/cassandra/service/LeaveAndBootstrapTest.java | 2 ++
 test/unit/org/apache/cassandra/service/MoveTest.java              | 4 ++++
 4 files changed, 10 insertions(+)

commit d1171ddc10e75d34f7fb503accc718acc5720512
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jun 18 17:20:00 2012 +0200

    Support multiple ranges in SliceQueryFilter
    
    patch by dr-alves and slebresne; reviewed by vijay, dr-alves and slebresne for CASSANDRA-3885

 .../cassandra/db/ArrayBackedSortedColumnsTest.java |  12 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 418 ++++++++++++++++++++-
 test/unit/org/apache/cassandra/db/TableTest.java   |   3 -
 .../cassandra/io/sstable/IndexHelperTest.java      |  20 +-
 4 files changed, 420 insertions(+), 33 deletions(-)

commit 8ea2d2a6a15bc1f791711d55b4345c233020d753
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 11 18:38:39 2012 -0500

    Add column metadata to system column families
    
    patch by jbellis; reviewed by slebresne for CASSANDRA-4018

 test/unit/org/apache/cassandra/config/DefsTest.java             | 4 ++--
 test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java | 3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 7398e9363ae99220d195d30eea3f3479485618f9
Merge: 8aaaacd f74ed12
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 15 12:27:40 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 8aaaacd09d8e34c93271383a0c86ecce38ef1965
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Thu Jun 14 18:10:42 2012 -0700

    Use EntryWeigher instead of Weigher to Measuring the cache
    patch by Vijay; reviewed by Jonathan Ellis for CASSANDRA-4315

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 55d5c041382a3185387def648f6a7c7a76847f75
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 14 18:40:05 2012 -0500

    rename store -> cfs

 .../cassandra/db/compaction/CompactionsTest.java   | 114 ++++++++++-----------
 1 file changed, 57 insertions(+), 57 deletions(-)

commit b3915f51fd85ff3e62abb2b57e790f81450e9d21
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 13 16:15:07 2012 -0500

    use Functions.identity where applicable

 test/unit/org/apache/cassandra/db/ArrayBackedSortedColumnsTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 21aef92905678f98675fc34aeb4edb0e34a1d6af
Author: Yuki Morishita <yukim@apache.org>
Date:   Wed Jun 13 12:22:59 2012 -0500

    directly stream compressed sstable with java nio. patch by yukim,
    reveiwed by jbellis for CASSANDRA-4297

 test/unit/org/apache/cassandra/io/CompactSerializerTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit b61d2d6c24586526b706171d64d8828e638fc532
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jun 8 15:43:18 2012 +0200

    Fix compilation

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 54 +++++++++++-----------
 1 file changed, 27 insertions(+), 27 deletions(-)

commit 0042426f3735c2456f0faef2b4a97fd89ef355fa
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jun 8 09:30:44 2012 +0200

    Promote the use of IFilter for internal commands
    
    patch by slebresne; reviewed by yukim for CASSANDRA-4308

 .../unit/org/apache/cassandra/db/SerializationsTest.java | 16 ++++++----------
 1 file changed, 6 insertions(+), 10 deletions(-)

commit 844c90b3d04b46a5c0a37ae02c6bae19a20f0ce8
Merge: de6dba7 4ec0990
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jun 8 09:27:55 2012 +0200

    Merge branch 'cassandra-1.1' into trunk
    
    Conflicts:
    	CHANGES.txt

commit de6dba73352b8406452bd2b0ab792e9af817c901
Author: Dave Brosius <dbrosius@apache.org>
Date:   Wed Jun 6 22:38:20 2012 -0400

    fix OOM with ReadMessageTest.testNoCommitLog
    patch by dbrosius reviewed by ymorishita for (CASSANDRA-4312)

 .../org/apache/cassandra/db/ReadMessageTest.java   | 72 ++++++++++++++++++----
 1 file changed, 61 insertions(+), 11 deletions(-)

commit ac8bbb17ee86e2aede17672da5ee64824ae01381
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jun 6 10:04:32 2012 +0200

    Make sure DeletedColumn.isMFD always return true
    
    patch by Wade Simmons & slebresne; reviewed by jbellis for CASSANDRA-4307

 .../org/apache/cassandra/db/RemoveColumnTest.java    | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 604a38645cbb958d4bb32db8a25b6093ee4cd68e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 4 16:43:00 2012 -0500

    remove COPP
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2479

 .../CollatingOrderPreservingPartitionerTest.java   | 52 ----------------------
 1 file changed, 52 deletions(-)

commit 47f0cc5d38d272ec9f7d6179eb3ffa28c6f74107
Merge: 267690a 55d4dd6
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Sat Jun 2 00:15:43 2012 +0300

    merge from 1.1

commit 3816ab87cc748fe8aaf5573b6da969a8401e166e
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jun 1 18:20:02 2012 +0200

    Add missing licences and versions for 1.1.1 release

 .../org/apache/cassandra/cql/jdbc/JdbcDecimalTest.java | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 267690a140ae7d6dfba169448654f9d15ba2b98e
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Fri Jun 1 18:10:21 2012 +0300

    fix Summary component and caches to use correct partitioner
    patch by Sam Tunnicliffe and Pavel Yaskevich; reviewed by Pavel Yaskevich for CASSANDRA-4289

 .../cassandra/io/sstable/SSTableReaderTest.java    | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit cfe585c2c420c6e8445eb4c3309b09db8cf134ac
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Wed May 30 10:26:06 2012 -0700

    AutoSaving KeyCache and System load time improvements
    patch by Vijay; reviewed by xedin and jbellis for CASSANDRA-3762

 test/unit/org/apache/cassandra/db/RowCacheTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 90170d1594c3a88f0a7b6a25da7161bb7af2e552
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Thu May 17 22:35:22 2012 +0300

    Avoid ID conflicts from concurrent schema changes
    patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-3794

 test/unit/org/apache/cassandra/SchemaLoader.java   | 130 ++++++++++++---------
 test/unit/org/apache/cassandra/Util.java           |   2 +-
 .../apache/cassandra/cache/CacheProviderTest.java  |  10 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |  19 ++-
 .../org/apache/cassandra/db/CommitLogTest.java     |   7 +-
 .../apache/cassandra/db/SerializationsTest.java    |  15 ++-
 6 files changed, 105 insertions(+), 78 deletions(-)

commit ac362dadd340bd53e4844bec737711a0c2ea3e80
Merge: 3fd08dd 0267293
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Mon May 21 13:57:21 2012 -0700

    Merge branch 'cassandra-1.1' into trunk

commit 02672936f635c93e84ed6625bb994e1628da5a9b
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Mon May 21 13:54:03 2012 -0700

    update clhm to 1.3
    patch by Vijay; reviewed by jbellis for CASSANDRA-4150

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4d34917d2f0ceddd86dbed285391b05df19d46e9
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Apr 3 16:28:58 2012 +0200

    Add support for range tombstones
    
    patch by slebresne; reviewed by yukim for CASSANDRA-3708

 test/unit/org/apache/cassandra/Util.java           |  17 ++-
 .../apache/cassandra/cache/CacheProviderTest.java  |  13 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |   2 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  11 +-
 .../org/apache/cassandra/db/RowIterationTest.java  |   8 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |  10 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |   2 +-
 .../apache/cassandra/io/CompactSerializerTest.java |   2 +
 .../cassandra/io/LazilyCompactedRowTest.java       |  12 +-
 .../cassandra/io/sstable/DescriptorTest.java       |  20 +--
 .../cassandra/io/sstable/LegacySSTableTest.java    |   2 +-
 .../io/sstable/SSTableMetadataSerializerTest.java  |   2 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  18 +--
 .../apache/cassandra/service/RowResolverTest.java  |  27 ++--
 .../apache/cassandra/tools/SSTableExportTest.java  |   2 +
 .../apache/cassandra/tools/SSTableImportTest.java  |  16 +-
 .../apache/cassandra/utils/EncodedStreamsTest.java |  21 +--
 .../org/apache/cassandra/utils/IntervalTest.java   |  68 ---------
 .../apache/cassandra/utils/IntervalTreeTest.java   | 167 +++++++++++++++------
 19 files changed, 228 insertions(+), 192 deletions(-)

commit 08848e7956f5fd08525a08498205637b2652f2a7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 9 14:51:24 2012 -0500

    avoid blocking additional writes during flush
    patch by jbellis; reviewed by slebresnse and tested by brandonwilliams for CASSANDRA-1991

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4d7e703561bc68a79d856e28b3f710455b1c70bf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 9 14:51:24 2012 -0500

    avoid blocking additional writes during flush
    patch by jbellis; reviewed by slebresnse and tested by brandonwilliams for CASSANDRA-1991

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2ae527218d2878b8fe874d2c05064351419ee832
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 8 12:54:59 2012 -0500

    rename DBTypeSizes -> TypeSizes

 test/unit/org/apache/cassandra/utils/EncodedStreamsTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 587cb5829f5858cf9e0faf7e6aca50b5e62dff7a
Author: Yuki Morishita <mor.yuki@gmail.com>
Date:   Mon Apr 9 18:26:48 2012 -0500

    serialier() -> serializer and some clean up

 test/unit/org/apache/cassandra/Util.java           |   2 +-
 .../apache/cassandra/cache/CacheProviderTest.java  |   2 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |   8 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |   2 +-
 .../apache/cassandra/db/SerializationsTest.java    | 128 ++++++++++-----------
 .../org/apache/cassandra/gms/GossipDigestTest.java |   9 +-
 .../apache/cassandra/gms/SerializationsTest.java   |  36 +++---
 .../apache/cassandra/io/CompactSerializerTest.java |   1 -
 .../cassandra/io/LazilyCompactedRowTest.java       |  11 +-
 .../cassandra/streaming/SerializationsTest.java    |  72 ++++++------
 .../apache/cassandra/utils/EncodedStreamsTest.java |   6 +-
 11 files changed, 135 insertions(+), 142 deletions(-)

commit f81cc74f5cb749cb68b34c724f50b1200dcf3ad6
Author: Yuki Morishita <mor.yuki@gmail.com>
Date:   Mon Apr 2 13:32:27 2012 -0500

    add serializedSize (part 2) and fix unit tests
    patch by yukim; reviewed by jbellis for CASSANDRA-3617

 .../cassandra/AbstractSerializationsTester.java    | 21 ++++--
 .../apache/cassandra/db/SerializationsTest.java    | 80 +++++++++++++++++-----
 .../apache/cassandra/gms/SerializationsTest.java   | 18 +++--
 .../apache/cassandra/io/CompactSerializerTest.java | 22 ++++--
 .../org/apache/cassandra/service/RemoveTest.java   |  4 +-
 .../cassandra/service/SerializationsTest.java      | 14 ++--
 .../cassandra/streaming/SerializationsTest.java    | 26 +++++--
 .../apache/cassandra/utils/SerializationsTest.java |  7 +-
 8 files changed, 142 insertions(+), 50 deletions(-)

commit 9471e8d0bcf77569993064e6151595fa7993ebd1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 26 17:53:36 2012 -0500

    Automated refactor: rename Message out of class names that aren't MessageIn, MessageOut, or related

 .../org/apache/cassandra/gms/SerializationsTest.java | 20 ++++++++++----------
 .../cassandra/streaming/SerializationsTest.java      | 18 +++++++++---------
 .../org/apache/cassandra/streaming/StreamUtil.java   |  5 +----
 3 files changed, 20 insertions(+), 23 deletions(-)

commit a06be23fbe7859063039767ce0dff64922445f39
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 26 17:52:16 2012 -0500

    Rewrite IncomingTcpConnection to deserialize w/o extra copies to byte[]. MessageIn now has a payload field, and uses the Verb to look up the correct deserializer. REQUEST_RESPONSE deserializer is not uniquely determined by Verb, so we look those up by their callback instead.
    
    patch by jbellis and yukim for CASSANDRA-3617

 .../apache/cassandra/db/SerializationsTest.java    | 41 ++++++++---------
 .../apache/cassandra/net/MessageSerializer.java    | 52 ----------------------
 .../org/apache/cassandra/service/RemoveTest.java   |  2 +-
 .../cassandra/service/SerializationsTest.java      | 12 ++---
 .../cassandra/streaming/SerializationsTest.java    | 12 +++--
 .../org/apache/cassandra/streaming/StreamUtil.java | 16 +++----
 6 files changed, 37 insertions(+), 98 deletions(-)

commit 021ec71be5c32788347cee077034df690a279a34
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 26 17:49:56 2012 -0500

    Automated refactor: move StorageService.Verb into MessagingService

 test/unit/org/apache/cassandra/service/RemoveTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5d46a014be3b4ee3ff010c2c180ec3aa9ccac48b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 26 17:49:35 2012 -0500

    Automated refactor: rename Message to MessageIn

 test/unit/org/apache/cassandra/db/SerializationsTest.java |  5 ++---
 test/unit/org/apache/cassandra/net/MessageSerializer.java | 10 +++++-----
 test/unit/org/apache/cassandra/service/RemoveTest.java    |  4 ++--
 test/unit/org/apache/cassandra/streaming/StreamUtil.java  |  4 ++--
 4 files changed, 11 insertions(+), 12 deletions(-)

commit 5a6f0b852935e7da957e5cfc397fd0a55b9516b6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 26 17:48:46 2012 -0500

    Introduce MessageOut class, which wraps an object to be sent in the "payload" field.  The old Header class is inlined into the "parameters" map.
    patch by jbellis; reviewed by yukim for CASSANDRA-3617

 .../cassandra/AbstractSerializationsTester.java    |  2 +-
 .../apache/cassandra/db/SerializationsTest.java    | 61 ++++++++++++----------
 .../apache/cassandra/net/MessageSerializer.java    |  1 +
 .../org/apache/cassandra/service/RemoveTest.java   | 12 ++++-
 .../cassandra/service/SerializationsTest.java      | 18 +++----
 .../cassandra/streaming/SerializationsTest.java    | 26 +++++----
 6 files changed, 69 insertions(+), 51 deletions(-)

commit 5435c4fd6075c54c0ad8c4c3016d780c631e563c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 4 21:33:12 2012 -0500

    fix BootstrapTest for #4203

 test/unit/org/apache/cassandra/streaming/BootstrapTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7eb22e31a23be8100eb079b75270fbbe36798a0f
Merge: e24681e 885ab7c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 4 18:06:52 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 885ab7cf85fd2d074d06e9444f3f9d63b2bf2702
Merge: 44e7a08 b2ca7f8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 4 18:06:40 2012 -0500

    merge from 1.0

commit 2e851032b702de50419e0123bbfc799efe905177
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri May 4 17:50:59 2012 +0200

    Update descriptor test after #4116

 test/unit/org/apache/cassandra/io/sstable/DescriptorTest.java | 2 --
 1 file changed, 2 deletions(-)

commit dfd05673cd59dcd18ffea6c7f26dec4f880d5085
Author: Eric Evans <eevans@sym-link.com>
Date:   Wed May 2 18:48:54 2012 -0500

    removeNode (by ID) instead of token
    
    Patch by eevans; reviewed by Brandon Williams for CASSANDRA-4120

 .../org/apache/cassandra/service/RemoveTest.java   | 25 +++++++++-------------
 1 file changed, 10 insertions(+), 15 deletions(-)

commit ad685c4615b08725488fdf26c1dd248cfe196cf8
Author: Eric Evans <eevans@sym-link.com>
Date:   Wed May 2 18:47:13 2012 -0500

    gossip host ID; Maintain a mapping of endpoint to ID
    
    Patch by eevans; reviewed by Brandon Williams for CASSANDRA-4120

 test/unit/org/apache/cassandra/Util.java           | 12 +++++-
 .../org/apache/cassandra/dht/BootStrapperTest.java | 20 ++++++++--
 .../apache/cassandra/gms/SerializationsTest.java   |  3 +-
 .../cassandra/service/LeaveAndBootstrapTest.java   | 43 +++++++++++++---------
 .../org/apache/cassandra/service/MoveTest.java     | 21 ++++++-----
 .../org/apache/cassandra/service/RemoveTest.java   |  4 +-
 6 files changed, 69 insertions(+), 34 deletions(-)

commit 712ffeb4a518e1758c127da80beb3a6b1cb9928d
Author: Eric Evans <eevans@sym-link.com>
Date:   Wed May 2 18:45:36 2012 -0500

    (lazily )create and persist a host ID if none exists
    
    Patch by eevans; reviewed by Brandon Williams for CASSANDRA-4120

 test/unit/org/apache/cassandra/config/DefsTest.java    | 1 +
 test/unit/org/apache/cassandra/db/SystemTableTest.java | 9 +++++++++
 2 files changed, 10 insertions(+)

commit 06a7bf36b7b2ab6f45ca0765c547949cc9647bc3
Merge: 4b9a802 46e422a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 2 12:48:30 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 46e422a9417b5b513ceae4c9652ba413e2ede474
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 27 16:19:24 2012 -0500

    Open one sstableScanner per level for leveled compaction
    patch by slebresne and jbellis for CASSANDRA-4142

 test/unit/org/apache/cassandra/SchemaLoader.java   |  9 ++-
 .../compaction/LeveledCompactionStrategyTest.java  | 87 ++++++++++++++++++++++
 .../cassandra/io/LazilyCompactedRowTest.java       | 14 ++--
 3 files changed, 103 insertions(+), 7 deletions(-)

commit 4b9a802315ed735e9c408424f01825e50c03c1b1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 2 10:00:01 2012 -0500

    additional trunk-only 4116 fixes

 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 13 +++++
 .../cassandra/io/sstable/SSTableWriterTest.java    | 56 ----------------------
 2 files changed, 13 insertions(+), 56 deletions(-)

commit 744acdfc8f2be6edd7be9cb57554ee34963a4daf
Merge: fb89e2b 9efe99d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 2 09:55:20 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 9efe99d92a4c9d0cbe5f552a21b6f0e3596e2d46
Merge: 263f192 48a2269
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 2 09:53:41 2012 -0500

    merge from 1.0

commit 48a22695f471f7477bc015db8113d777a36406c1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 2 09:51:52 2012 -0500

    fix maxTimestamp to include row tombstones
    patch by Sam Tunnicliffe and jbellis for CASSANDRA-4116

 .../cassandra/io/sstable/SSTableWriterTest.java    | 56 ++++++++++++++++++++++
 1 file changed, 56 insertions(+)

commit fb89e2be16f45f34c5e355de68003ef20505dd3e
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Tue May 1 21:55:15 2012 -0700

    Fix descriptor versioning for bloom filter changes
    patch by Vijay; reviewed by jbellis,yuki for CASSANDRA-4203

 test/unit/org/apache/cassandra/io/sstable/DescriptorTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b51a0d64f0667dbf46ba7213eefbd96d67f8d463
Merge: 8d0dd61 3a04d85
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 1 23:30:48 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 3a04d85488b32c106ccfec76092b187f5728b3dd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 1 23:26:17 2012 -0500

    Optimize reads when row deletion timestamps allow us to restrict the sstables we check
    patch by Sam Tunnicliffe; reviewed by jbellis for CASSANDRA-4116

 .../cassandra/db/CollationControllerTest.java      | 83 ++++++++++++++++++++++
 1 file changed, 83 insertions(+)

commit cb25a8fcdd9626c6b29a3b1a94dfda5fd0375928
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Fri Apr 27 18:56:41 2012 -0700

    Add varint encoding to Serializing Cache
    patch by Vijay; reviewed by jbellis,xedin for CASSANDRA-4138

 test/unit/org/apache/cassandra/Util.java           |   5 +
 .../apache/cassandra/utils/EncodedStreamsTest.java | 160 +++++++++++++++++++++
 2 files changed, 165 insertions(+)

commit de59418d6b0bc59f7a95811463fd62ce2b239580
Merge: d94314a 808d7c9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 24 13:20:09 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 808d7c9f32a9b3c623506a4d26febf70c1770f0d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 24 13:20:02 2012 -0500

    add JdbcDecimalTest
    patch by dbrosius; reviewed by jbellis for CASSANDRA-3837

 .../apache/cassandra/cql/jdbc/JdbcDecimalTest.java  | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 043ca24e63b60e7f8c2e2ac3cc7af871864c5874
Merge: 28a1f7a 4797b40
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 18 09:56:29 2012 -0500

    merge from 1.1

commit 4797b40339e101d829e8ad15c923d36ce0e0ce8f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 18 09:54:34 2012 -0500

    add -cf option to nodetool snapshot
    patch by dbrosius; reviewed by jbellis for CASSANDRA-556

 .../org/apache/cassandra/service/StorageServiceServerTest.java    | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 8ab2473fe37c1e75ebb2c803f05649360e0a6861
Merge: 531d01c c215a4c
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Apr 12 11:14:21 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit c215a4c96436303c9644f19c95db67ba88d871c3
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Apr 12 11:12:52 2012 -0500

    Add gossip shutdown message to serializer test

 test/unit/org/apache/cassandra/io/CompactSerializerTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 8cd1792e1e40b418b2a232d00150cb78afe87b1c
Merge: 8f9b37c bf4d6fb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 11 13:25:28 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit de80c6c6d1d0ff11837bb1f3467b2902c5b841ff
Merge: 6564b33 d49113f
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 11 17:23:54 2012 +0200

    Merge branch 'cassandra-1.1.0' into cassandra-1.1

commit fc7e86404a27963071e416ff4deb0c7143e68bfc
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Apr 11 16:31:36 2012 +0200

    Fix get_paged_slice
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4136

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 92 +++++++++++++++++++---
 1 file changed, 82 insertions(+), 10 deletions(-)

commit b2cb52d8a76e85eef6f2213694a7943d49826ab8
Merge: 64305dd 1ea2a60
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Apr 9 19:03:13 2012 +0200

    Merge branch 'cassandra-1.1' into trunk

commit 1ea2a60e846a24318a993d72bf88d2d784d593d0
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Apr 6 17:18:23 2012 +0200

    Improve picking of comparator for composite column with CQL3
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4093

 test/unit/org/apache/cassandra/SchemaLoader.java               |  4 +++-
 .../unit/org/apache/cassandra/config/ColumnDefinitionTest.java |  4 +++-
 test/unit/org/apache/cassandra/config/DefsTest.java            | 10 ++++++----
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java   |  2 +-
 .../unit/org/apache/cassandra/thrift/ThriftValidationTest.java |  2 +-
 5 files changed, 14 insertions(+), 8 deletions(-)

commit 0d1d3bca1c4600d76c1b135d56934c3968a81aa3
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Apr 6 17:18:23 2012 +0200

    Improve picking of comparator for composite column with CQL3
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4093

 test/unit/org/apache/cassandra/SchemaLoader.java               |  4 +++-
 .../unit/org/apache/cassandra/config/ColumnDefinitionTest.java |  4 +++-
 test/unit/org/apache/cassandra/config/DefsTest.java            | 10 ++++++----
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java   |  2 +-
 .../unit/org/apache/cassandra/thrift/ThriftValidationTest.java |  2 +-
 5 files changed, 14 insertions(+), 8 deletions(-)

commit 522730a0fc7ec0847c05867e769c275a160ba171
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Mar 16 09:30:34 2012 +0100

    Move CF and KS validation out of thrift
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4037
    (backport from cassandra-1.1 for CASSANDRA-4093 sakes)
    
    Conflicts:
    
    	CHANGES.txt
    	src/java/org/apache/cassandra/cql/AlterTableStatement.java
    	src/java/org/apache/cassandra/cql/CreateColumnFamilyStatement.java
    	src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java
    	src/java/org/apache/cassandra/cql3/statements/CreateColumnFamilyStatement.java

 test/unit/org/apache/cassandra/SchemaLoader.java   |  6 ++---
 .../cassandra/thrift/ThriftValidationTest.java     | 28 +++++++++++-----------
 2 files changed, 17 insertions(+), 17 deletions(-)

commit acc9823220d9dae190a9dca5ec2fe537071ad241
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Apr 6 11:17:04 2012 -0500

    missing semicolon :(

 test/unit/org/apache/cassandra/utils/BoundedStatsDequeTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5f1e66a15cd8392ba1042445ce0189e0b9b0de48
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Apr 6 10:38:16 2012 -0500

    Fix BSD test

 test/unit/org/apache/cassandra/utils/BoundedStatsDequeTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d616dcdd7b9ede69c5e703af7153ed4ce3072204
Merge: b8231eb 63f6c84
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 4 14:28:38 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 63f6c8431918e39a50023613102bf8dc3c9768da
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 4 14:27:18 2012 -0500

    update caches to use byte[] keys to reduce memory overhead
    patch by vijay; reviewed by jbellis for CASSANDRA-3966

 .../org/apache/cassandra/cache/CacheProviderTest.java   | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 772c4f1a7939e1bf236c5bf3e7bf624f7078c80b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 23 11:43:32 2012 -0500

    Estimate how many keys overlap with other sstables before compacting a single sstable because of high tombstone counts
    patch by yukim; reviewed by jbellis for CASSANDRA-4022

 .../apache/cassandra/db/compaction/CompactionsTest.java |  9 ++-------
 .../apache/cassandra/utils/EstimatedHistogramTest.java  | 17 +++++++++++++++++
 2 files changed, 19 insertions(+), 7 deletions(-)

commit 98a70bdebb26955ea629fe3a21212253fc7b7d17
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Mar 30 16:44:35 2012 -0500

    Dsnitch uses 'severity', latency, and time since last reply for scores.
    Patch by vijay and brandonwilliams, reviewed by vijay for CASSANDRA-3722

 .../apache/cassandra/locator/DynamicEndpointSnitchTest.java   | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 79354482aa5faf12dd375c7a7e9b9b2ebd3cd378
Merge: 33f66e4 adc0931
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Mar 30 16:49:51 2012 +0200

    Merge branch 'cassandra-1.1.0' into cassandra-1.1

commit d69d304c4e4788daa201539e5e8441d30bb02396
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Mar 30 16:44:24 2012 +0200

    Remove dead sliced_buffer_size_in_kb option
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4076

 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f0ea699e62d498c1d5c647cf78f016e360a236d4
Merge: 27e322b 190e27b
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Mar 29 13:07:39 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 190e27bb5cc910d020b3828c1fbe83f009534b89
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Mar 29 13:03:41 2012 -0500

    Broadcast shutdown message when cleanly stopping gossip.
    Patch by brandonwilliams, reviewed by vijay for CASSANDRA-3936

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 1 +
 1 file changed, 1 insertion(+)

commit e09dd2aa6bd0d1e288178369ca685ad16d2c5a56
Merge: c3cbbe1 14e44db
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Mar 28 01:22:46 2012 +0300

    merge from 1.1

commit 14e44db00c3c9ea6791611cfcf0cd571edf63668
Merge: 05d4d3a baf1300
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Mar 28 01:21:04 2012 +0300

    merge from 1.1.0

commit baf130094938ac03a91844cd5c3a70f54d5bcff3
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Mar 28 00:49:17 2012 +0300

    fix KEYS index from skipping results
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3996

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 31 ++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 1c9637f45bce187464dc91f4460dd8a2bb867e5b
Merge: b1d12db 4a4e707
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 26 10:57:21 2012 -0500

    merge from 1.1

commit 4a4e707ae3c70ab16496352c764168ab032c2fd1
Merge: 29376ff d3c5dbd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 26 10:54:56 2012 -0500

    Merge branch 'cassandra-1.1.0' into cassandra-1.1

commit d3c5dbdd6be4edfbbaf6c0de8c71b920be44739d
Merge: f11e4f2 8b23dca
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 26 10:54:45 2012 -0500

    merge from 1.0

commit 8b23dcaef922a9c343bfdb7595d618da4efc9a2d
Author: Jonathan Ellis <jbellis@gmail.com>
Date:   Mon Mar 26 09:41:26 2012 -0500

    update AbstractSerializationsTester to generate 1.0 messages, which omit wasted space after the message body.  CUR_VER is left at 0.7 to ensure compatibility.

 .../org/apache/cassandra/AbstractSerializationsTester.java   | 12 +++++++-----
 test/unit/org/apache/cassandra/net/MessageSerializer.java    |  1 -
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 56302ceccf0571b1f2c7373fe9331d9b7d1b05b4
Author: Jonathan Ellis <jbellis@gmail.com>
Date:   Mon Mar 26 10:39:54 2012 -0500

    Test fixes for 1.0 message serialization format

 test/unit/org/apache/cassandra/service/SerializationsTest.java | 5 +++++
 test/unit/org/apache/cassandra/utils/SerializationsTest.java   | 5 +++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 959764186ac64e450d7f5566070da32e1b567146
Author: Jonathan Ellis <jbellis@gmail.com>
Date:   Mon Mar 26 09:59:37 2012 -0500

    cleanup

 .../org/apache/cassandra/service/SerializationsTest.java | 16 +++++++---------
 1 file changed, 7 insertions(+), 9 deletions(-)

commit 83049502795d83a498c2c0d22b6042de64eb977f
Merge: e571ec2 d685f45
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 23 10:02:23 2012 -0500

    merge from 1.1

commit d685f45ee636a2d609b39e91d65b51c47e152b51
Merge: 11bdcd6 5697c39
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 23 09:59:43 2012 -0500

    merge from 1.1.0

commit 5697c3997f8c186655d67465f4903280fd3cf5a1
Merge: 643d18a 1e18538
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 23 09:58:40 2012 -0500

    merge from 1.0

commit 1e18538c9868e92622e9e0acf87b2e88b9bd6182
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 21 16:33:02 2012 -0500

    only deserialize keys we need in the sample
    patch by yukim; reviewed by jbellis for CASSANDRA-4023

 .../cassandra/io/sstable/SSTableReaderTest.java    | 44 ++++++++++++++++++++--
 1 file changed, 41 insertions(+), 3 deletions(-)

commit ad4541e6bf3c178677be30a899e21fe63094a552
Merge: 908e0e2 86f5eaa
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Mar 22 13:50:37 2012 +0100

    Merge branch 'cassandra-1.1' into trunk

commit 86f5eaa9b68e3dda0052bb92658fb86ac5fddc48
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Mar 16 09:30:34 2012 +0100

    Move CF and KS validation out of thrift.
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-4037

 test/unit/org/apache/cassandra/SchemaLoader.java   |  6 ++---
 .../cassandra/thrift/ThriftValidationTest.java     | 28 +++++++++++-----------
 2 files changed, 17 insertions(+), 17 deletions(-)

commit 15ae2f6306406e8c68dbffe2987886c314665114
Merge: 51a658d fe98003
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Sun Mar 18 11:17:28 2012 +0100

    Merge branch 'cassandra-1.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/migration/AddColumnFamily.java
    	src/java/org/apache/cassandra/db/migration/AddKeyspace.java
    	src/java/org/apache/cassandra/db/migration/DropColumnFamily.java
    	src/java/org/apache/cassandra/db/migration/DropKeyspace.java
    	src/java/org/apache/cassandra/db/migration/Migration.java
    	src/java/org/apache/cassandra/db/migration/MigrationHelper.java
    	src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java
    	src/java/org/apache/cassandra/db/migration/UpdateKeyspace.java
    	test/unit/org/apache/cassandra/io/sstable/SSTableTest.java

commit fe980034e954a510e037c39e57dd19e751afeeaf
Merge: 6849193 438acfc
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Sun Mar 18 11:12:15 2012 +0100

    Merge branch 'cassandra-1.1.0' into cassandra-1.1

commit 438acfc8c4b58e05791ebc232e4517c71a4631e7
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Mar 14 16:59:12 2012 +0100

    Unify migration code
    
    patch by slebresne; reviewed by xedin for CASSANDRA-4017

 .../org/apache/cassandra/db/LongTableTest.java     |   4 +-
 .../apache/cassandra/db/MeteredFlusherTest.java    |   8 +-
 .../db/compaction/LongCompactionSpeedTest.java     |   4 +-
 .../cassandra/AbstractSerializationsTester.java    |   2 +-
 test/unit/org/apache/cassandra/CleanupHelper.java  | 126 ---------------------
 test/unit/org/apache/cassandra/EmbeddedServer.java |   2 +-
 test/unit/org/apache/cassandra/SchemaLoader.java   | 115 ++++++++++++++++++-
 test/unit/org/apache/cassandra/cli/CliTest.java    |   6 +-
 .../apache/cassandra/config/CFMetaDataTest.java    |   4 +-
 .../cassandra/config/DatabaseDescriptorTest.java   |  12 +-
 .../unit/org/apache/cassandra/config/DefsTest.java |  94 +++++----------
 test/unit/org/apache/cassandra/db/CleanupTest.java |   4 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   4 +-
 .../org/apache/cassandra/db/CommitLogTest.java     |   4 +-
 .../apache/cassandra/db/CounterMutationTest.java   |   4 +-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |   4 +-
 .../org/apache/cassandra/db/KeyCollisionTest.java  |   4 +-
 .../org/apache/cassandra/db/MultitableTest.java    |   4 +-
 .../unit/org/apache/cassandra/db/NameSortTest.java |   4 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  |   4 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |   4 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |   4 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |   4 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   4 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   4 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   4 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |   4 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |   4 +-
 .../apache/cassandra/db/RemoveSuperColumnTest.java |   4 +-
 .../unit/org/apache/cassandra/db/RowCacheTest.java |   4 +-
 .../org/apache/cassandra/db/RowIterationTest.java  |   4 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |   5 +-
 test/unit/org/apache/cassandra/db/TableTest.java   |   4 +-
 .../unit/org/apache/cassandra/db/TimeSortTest.java |   4 +-
 .../db/compaction/CompactionsPurgeTest.java        |   4 +-
 .../cassandra/db/compaction/CompactionsTest.java   |   4 +-
 .../cassandra/db/compaction/OneCompactionTest.java |   4 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    |   4 +-
 .../db/marshal/DynamicCompositeTypeTest.java       |   4 +-
 .../org/apache/cassandra/dht/BootStrapperTest.java |   4 +-
 .../cassandra/io/BloomFilterTrackerTest.java       |   4 +-
 .../apache/cassandra/io/CompactSerializerTest.java |   4 +-
 .../cassandra/io/LazilyCompactedRowTest.java       |   4 +-
 .../cassandra/io/sstable/LegacySSTableTest.java    |   4 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    |   4 +-
 .../io/sstable/SSTableSimpleWriterTest.java        |   4 +-
 .../apache/cassandra/io/sstable/SSTableTest.java   |   4 +-
 .../cassandra/locator/SimpleStrategyTest.java      |   4 +-
 .../service/AntiEntropyServiceTestAbstract.java    |   4 +-
 .../cassandra/service/CassandraServerTest.java     |   4 +-
 .../service/EmbeddedCassandraServiceTest.java      |   6 +-
 .../cassandra/service/LeaveAndBootstrapTest.java   |  48 ++++----
 .../org/apache/cassandra/service/MoveTest.java     |  52 +++++----
 .../org/apache/cassandra/service/RemoveTest.java   |  27 +++--
 .../apache/cassandra/service/StorageProxyTest.java |   4 +-
 .../service/StorageServiceClientTest.java          |   6 +-
 .../service/StorageServiceServerTest.java          |   6 +-
 .../cassandra/streaming/StreamingTransferTest.java |   4 +-
 .../cassandra/thrift/ThriftValidationTest.java     |   4 +-
 59 files changed, 329 insertions(+), 362 deletions(-)

commit d765b246e72e7bb455e9ec9440ae735b1ee8543f
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Sat Mar 17 01:52:06 2012 +0300

    update MurmurHash to version 3
    patch by Vijay; reviewed by Pavel Yaskevich for CASSANDRA-2975

 .../cassandra/utils/LongBloomFilterTest.java       | 75 ++++++++++++++++------
 .../cassandra/io/sstable/DescriptorTest.java       | 17 ++++-
 .../apache/cassandra/utils/BloomFilterTest.java    | 15 +++--
 .../apache/cassandra/utils/FilterTestHelper.java   |  3 +-
 .../cassandra/utils/LegacyBloomFilterTest.java     |  4 +-
 .../apache/cassandra/utils/SerializationsTest.java | 30 ++++++---
 6 files changed, 104 insertions(+), 40 deletions(-)

commit e36e684606bb2aa834532b2451f247a95f5f7b17
Merge: 0e85cce 555b738
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 16 11:59:09 2012 -0500

    Merge branch 'cassandra-1.1' into trunk

commit 555b73808d0b95a5876733a7c4fa188f08b89283
Merge: aa40860 dfea120
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 16 11:59:00 2012 -0500

    Merge branch 'cassandra-1.1.0' into cassandra-1.1

commit dfea1200ee775e58195ca97b35ac20f9d7b8f5fd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 8 14:21:45 2012 -0600

    move schema loading until after cleanup
    patch by jbellis; reviewed by slebresne for CASSANDRA-3967

 test/unit/org/apache/cassandra/CleanupHelper.java | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit d025bec100dfa21b297a14103e5ae10af7aaf2c8
Merge: add6724 c290372
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 13 23:24:55 2012 -0500

    Merge branch 'cassandra-1.1.0' into cassandra-1.1

commit c29037290a204ba7624646e99780e32e4157ae1a
Merge: e7e984a f42ec6d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 13 23:24:29 2012 -0500

    Merge branch 'cassandra-1.0' into cassandra-1.1.0

commit 4e17ac4699e59637f20cd4cfcf2258eec5c42c5a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Feb 28 14:27:41 2012 +0100

    Promote columns index to primary index file
    
    patch by slebresne; reviewed by stuhood for CASSANDRA-2319

 test/unit/org/apache/cassandra/Util.java           | 16 ++++++-
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  2 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 10 +----
 .../cassandra/io/LazilyCompactedRowTest.java       | 16 +------
 .../cassandra/io/sstable/SSTableReaderTest.java    | 12 +++---
 .../apache/cassandra/io/sstable/SSTableTest.java   | 49 ++++++++++++++--------
 .../apache/cassandra/io/sstable/SSTableUtils.java  | 35 ++++------------
 7 files changed, 63 insertions(+), 77 deletions(-)

commit bc577bac07932b45385ea6647d9d27c57473e765
Merge: a7b9d09 073038c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Mar 13 14:16:42 2012 +0100

    Merge branch 'cassandra-1.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/compaction/CompactionTask.java
    	src/java/org/apache/cassandra/utils/BoundedStatsDeque.java

commit 073038c84bb0015cc93af3e8b69045d3b32091bb
Merge: 3db0a75 ccb0028
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Mar 13 14:10:07 2012 +0100

    Merge branch 'cassandra-1.1.0' into cassandra-1.1
    
    Conflicts:
    	CHANGES.txt
    	NEWS.txt
    	src/java/org/apache/cassandra/config/KSMetaData.java

commit ccb0028931c9de665d521b4798a9f63f7dee7497
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 29 11:50:27 2012 -0600

    Add type information to new schema_ columnfamilies and remove thrift validation
    
    patch by jbellis and slebresne; reviewed by jbellis and slebresne for CASSANDRA-3792

 .../apache/cassandra/config/CFMetaDataTest.java    |  15 +-
 .../unit/org/apache/cassandra/config/DefsTest.java | 590 +++++++++++++++++++
 test/unit/org/apache/cassandra/db/DefsTest.java    | 622 ---------------------
 3 files changed, 603 insertions(+), 624 deletions(-)

commit 34060fc77a77846b60b146fc32af9dd58a21b545
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Mon Mar 12 12:00:06 2012 -0700

    EC2 snitch incorrectly reports regions
    patch by Vijay; reviewed by Brandon Williams for CASSANDRA-4026

 test/unit/org/apache/cassandra/locator/EC2SnitchTest.java | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit a7b9d09b05f263f2e9629b4c5432d6044b1f15e2
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Mon Mar 12 11:49:00 2012 -0700

    EC2 snitch incorrectly reports regions
    patch by Vijay; reviewed by Brandon Williams for CASSANDRA-4026

 test/unit/org/apache/cassandra/locator/EC2SnitchTest.java | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit f16becfc29ef7e8bbf5f92913be51e33a99ba537
Author: Vijay Parthasarathy <vijay2win@gmail.com>
Date:   Thu Mar 8 16:41:07 2012 -0800

    Bootstrapping to handle more failure
    patch by Vijay; reviewed by Brandon Williams for CASSANDRA-3555

 .../org/apache/cassandra/dht/BootStrapperTest.java  | 21 ++++++++++++++++++++-
 1 file changed, 20 insertions(+), 1 deletion(-)

commit b7a8b57ca653843e14bad544745a1ee7f0df5f44
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Mar 8 17:41:22 2012 -0600

    Make BoundedStatsDeque threadsafe, removed AbstractStateDeque and
    AdaptiveLatencyTracker.
    Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-4019

 test/unit/org/apache/cassandra/utils/BoundedStatsDequeTest.java | 6 ------
 1 file changed, 6 deletions(-)

commit 65059cf48e0794e0459b1882961616f55382c756
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Mar 7 18:35:15 2012 +0100

    Don't promote sstables for cleanup, scrub and updateSSTables
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-3989

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6b2ea264702f80518a1147ab0aac44e0cf40dfc3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 7 15:21:11 2012 -0600

    Track tombstone expiration
    patch by yukim; reviewed by jbellis for CASSANDRA-3442

 .../cassandra/db/compaction/CompactionsTest.java   |  62 ++++++++++-
 .../cassandra/utils/StreamingHistogramTest.java    | 123 +++++++++++++++++++++
 2 files changed, 180 insertions(+), 5 deletions(-)

commit 62b0699c8d362ebdb96ddb487428a6fe93bb8170
Merge: 269ed63 d78db44
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Mar 7 18:55:58 2012 +0100

    Merge branch 'cassandra-1.1.0' into cassandra-1.1
    
    Conflicts:
    	CHANGES.txt

commit d78db44cb6b77acaee3fe05711ad6e8a14bb4558
Merge: 5f31757 f239907
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Mar 7 18:53:07 2012 +0100

    Merge branch 'cassandra-1.0' into cassandra-1.1.0
    
    Conflicts:
    	CHANGES.txt
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java
    	src/java/org/apache/cassandra/db/DataTracker.java
    	src/java/org/apache/cassandra/db/compaction/LeveledManifest.java
    	src/java/org/apache/cassandra/notifications/SSTableListChangedNotification.java

commit 048c8a98d83b41d463b557ede8a0bf98d3def022
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Mar 7 18:35:15 2012 +0100

    Don't promote sstables for cleanup, scrub and updateSSTables
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-3989

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5613f8fda2d6835c4b614c87e4ace60c2025f235
Merge: a3c07ee 7e4ef1c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 2 12:10:14 2012 -0600

    merge from 1.1

commit 7e4ef1cc29d472db773375802cb1e70e95fe9556
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 2 12:09:17 2012 -0600

    remove generification from DecoratedKey
    patch by dbrosius; reviewed by jbellis for CASSANDRA-3978

 test/unit/org/apache/cassandra/db/KeyCollisionTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit be7cbc8dd21ab9b7c75405a0584e9a6b6655582e
Merge: 5c7ccb0 9483e14
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Feb 28 23:44:47 2012 +0300

    merge from 1.1

commit 9483e147ec675c6024b5f1a55c799cc15aa2239e
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Feb 28 22:45:24 2012 +0300

    identify and blacklist corrupted SSTables from future compactions
    patch by Benjamin Coverston and Pavel Yaskevich; reviewed by Brandon Williams for CASSANDRA-2261

 .../cassandra/db/compaction/CompactionsTest.java   | 113 ++++++++++++++++++++-
 1 file changed, 112 insertions(+), 1 deletion(-)

commit 5c7ccb033827f4d041f9e6ff2e4641163362f819
Merge: e0d9ade 2cc612c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Feb 28 19:02:49 2012 +0100

    Merge branch 'cassandra-1.1' into trunk
    
    Conflicts:
    	src/java/org/apache/cassandra/db/ColumnFamily.java

commit 2cc612ca037fedb0a3d03660ac4ba76be9105703
Merge: f6ba989 4fcb56f
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Feb 28 18:58:37 2012 +0100

    Merge branch 'cassandra-1.1.0' into cassandra-1.1
    
    Conflicts:
    	src/java/org/apache/cassandra/db/ColumnFamilyStore.java

commit c9270f4e3ae5f94d46070f1c7e585c90bc68df7c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Feb 28 18:53:32 2012 +0100

    Fix race between writes and read for cache
    
    patch by jbellis and slebresne; reviewed by jbellis and slebresne for CASSANDRA-3862

 test/unit/org/apache/cassandra/db/RowCacheTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8e371d82d69db50ad6591a78b25d07449205ec3a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Feb 27 14:23:35 2012 +0100

    Fix tests after #3649 (underscore removal)

 test/unit/org/apache/cassandra/net/MessageSerializer.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5f43a695022e8d42e5b5a97137899c0322c9e59d
Merge: cbd46f1 a15c35b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Feb 27 11:28:13 2012 +0100

    Merge branch 'cassandra-1.1.0' into cassandra-1.1

commit a15c35b0942f91d6f9e45139d99491e189989bde
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Feb 27 11:24:31 2012 +0100

    [3649] remove unused imports

 .../cassandra/db/compaction/LongCompactionSpeedTest.java    |  2 --
 .../org/apache/cassandra/utils/LongBloomFilterTest.java     |  1 -
 .../apache/cassandra/utils/LongLegacyBloomFilterTest.java   |  1 -
 test/unit/org/apache/cassandra/SchemaLoader.java            |  1 -
 test/unit/org/apache/cassandra/cache/CacheProviderTest.java |  4 ----
 test/unit/org/apache/cassandra/cli/CliTest.java             |  1 -
 test/unit/org/apache/cassandra/db/CleanupTest.java          |  3 ---
 .../unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java |  2 --
 test/unit/org/apache/cassandra/db/CommitLogTest.java        |  1 -
 test/unit/org/apache/cassandra/db/CounterColumnTest.java    |  7 -------
 test/unit/org/apache/cassandra/db/DirectoriesTest.java      |  1 -
 test/unit/org/apache/cassandra/db/KeyCacheTest.java         |  3 ---
 test/unit/org/apache/cassandra/db/KeyCollisionTest.java     |  2 --
 test/unit/org/apache/cassandra/db/MultitableTest.java       |  1 -
 test/unit/org/apache/cassandra/db/NameSortTest.java         |  3 ---
 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java |  3 ---
 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java  |  1 -
 .../apache/cassandra/db/RecoveryManagerTruncateTest.java    |  1 -
 .../org/apache/cassandra/db/RemoveColumnFamilyTest.java     |  1 -
 .../cassandra/db/RemoveColumnFamilyWithFlush1Test.java      |  1 -
 .../cassandra/db/RemoveColumnFamilyWithFlush2Test.java      |  1 -
 test/unit/org/apache/cassandra/db/RemoveColumnTest.java     |  1 -
 test/unit/org/apache/cassandra/db/RemoveSubColumnTest.java  |  1 -
 .../unit/org/apache/cassandra/db/RemoveSuperColumnTest.java |  1 -
 test/unit/org/apache/cassandra/db/RowIterationTest.java     |  3 ---
 test/unit/org/apache/cassandra/db/RowTest.java              |  1 -
 test/unit/org/apache/cassandra/db/ScrubTest.java            |  1 -
 test/unit/org/apache/cassandra/db/SuperColumnTest.java      |  4 ----
 .../org/apache/cassandra/db/context/CounterContextTest.java |  2 --
 .../org/apache/cassandra/db/marshal/CompositeTypeTest.java  |  1 -
 .../cassandra/db/marshal/DynamicCompositeTypeTest.java      |  1 -
 .../org/apache/cassandra/db/marshal/TypeParserTest.java     | 13 -------------
 .../apache/cassandra/dht/ByteOrderedPartitionerTest.java    |  4 ----
 .../dht/CollatingOrderPreservingPartitionerTest.java        |  4 ----
 .../cassandra/dht/OrderPreservingPartitionerTest.java       |  5 -----
 test/unit/org/apache/cassandra/dht/PartitionerTestCase.java |  4 ----
 .../org/apache/cassandra/dht/RandomPartitionerTest.java     |  6 ------
 .../org/apache/cassandra/io/sstable/DescriptorTest.java     |  4 ----
 .../org/apache/cassandra/io/sstable/IndexHelperTest.java    |  2 --
 .../org/apache/cassandra/io/sstable/SSTableReaderTest.java  |  2 --
 .../cassandra/io/sstable/SSTableSimpleWriterTest.java       |  1 -
 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java  |  1 -
 .../org/apache/cassandra/locator/TokenMetadataTest.java     |  3 ---
 .../cassandra/service/AntiEntropyServiceTestAbstract.java   |  1 -
 .../cassandra/service/EmbeddedCassandraServiceTest.java     |  3 ---
 .../unit/org/apache/cassandra/service/StorageProxyTest.java |  3 ---
 .../apache/cassandra/service/StorageServiceClientTest.java  |  1 -
 .../apache/cassandra/service/StorageServiceServerTest.java  |  1 -
 .../org/apache/cassandra/streaming/SerializationsTest.java  |  3 ---
 test/unit/org/apache/cassandra/streaming/StreamUtil.java    |  1 -
 test/unit/org/apache/cassandra/tools/SSTableImportTest.java |  2 --
 .../unit/org/apache/cassandra/utils/ByteBufferUtilTest.java |  1 -
 test/unit/org/apache/cassandra/utils/FBUtilitiesTest.java   |  3 ---
 test/unit/org/apache/cassandra/utils/FilterTestHelper.java  |  9 ---------
 test/unit/org/apache/cassandra/utils/IntervalTest.java      |  1 -
 55 files changed, 135 deletions(-)

commit 07cdfd07a3dc1fe9f9d6e1c24ad926eecae4017a
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Feb 27 11:21:34 2012 +0100

    [3649] Strip end of line whitespaces

 .../apache/cassandra/db/MeteredFlusherTest.java    |   8 +-
 .../cassandra/AbstractSerializationsTester.java    |  18 ++--
 test/unit/org/apache/cassandra/EmbeddedServer.java |  12 +--
 test/unit/org/apache/cassandra/SchemaLoader.java   |   6 +-
 test/unit/org/apache/cassandra/Util.java           |  12 +--
 .../apache/cassandra/cache/CacheProviderTest.java  |  12 +--
 test/unit/org/apache/cassandra/cli/CliTest.java    |   2 +-
 .../org/apache/cassandra/client/TestRingCache.java |   6 +-
 .../DebuggableThreadPoolExecutorTest.java          |   8 +-
 .../cassandra/config/ColumnDefinitionTest.java     |   8 +-
 .../cassandra/config/DatabaseDescriptorTest.java   |   2 +-
 .../apache/cassandra/cql/jdbc/ClientUtilsTest.java |   8 +-
 .../cassandra/db/ArrayBackedSortedColumnsTest.java |   8 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 104 ++++++++++-----------
 .../org/apache/cassandra/db/CommitLogTest.java     |   4 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |  82 ++++++++--------
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |   8 +-
 .../org/apache/cassandra/db/MultitableTest.java    |   8 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  34 +++----
 .../apache/cassandra/db/RecoveryManager2Test.java  |   8 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |   8 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  40 ++++----
 .../apache/cassandra/db/SerializationsTest.java    |  80 ++++++++--------
 .../org/apache/cassandra/db/SuperColumnTest.java   |   4 +-
 .../org/apache/cassandra/db/SystemTableTest.java   |   8 +-
 test/unit/org/apache/cassandra/db/TableTest.java   |  34 +++----
 .../cassandra/db/context/CounterContextTest.java   |  12 +--
 .../cassandra/db/marshal/DecimalTypeTest.java      |  28 +++---
 .../apache/cassandra/db/marshal/RoundTripTest.java |  30 +++---
 .../cassandra/db/marshal/TimeUUIDTypeTest.java     |  12 +--
 .../cassandra/db/marshal/TypeCompareTest.java      |  12 +--
 .../cassandra/db/marshal/TypeValidationTest.java   |  34 +++----
 .../apache/cassandra/db/marshal/UUIDTypeTest.java  |   8 +-
 .../org/apache/cassandra/dht/BootStrapperTest.java |  30 +++---
 .../apache/cassandra/dht/PartitionerTestCase.java  |   6 +-
 .../cassandra/dht/RandomPartitionerTest.java       |   8 +-
 .../apache/cassandra/gms/ArrivalWindowTest.java    |  12 +--
 .../org/apache/cassandra/gms/GossipDigestTest.java |  12 +--
 .../apache/cassandra/gms/SerializationsTest.java   |  26 +++---
 .../hadoop/ColumnFamilyInputFormatTest.java        |   8 +-
 .../cassandra/io/BloomFilterTrackerTest.java       |   8 +-
 .../apache/cassandra/io/CompactSerializerTest.java |  24 ++---
 .../cassandra/io/LazilyCompactedRowTest.java       |   8 +-
 .../cassandra/io/sstable/DescriptorTest.java       |   8 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    |   8 +-
 .../apache/cassandra/locator/EC2SnitchTest.java    |  14 +--
 .../cassandra/locator/SimpleStrategyTest.java      |   6 +-
 .../apache/cassandra/net/MessageSerializer.java    |   8 +-
 .../service/AntiEntropyServiceCounterTest.java     |   8 +-
 .../service/AntiEntropyServiceStandardTest.java    |   8 +-
 .../service/AntiEntropyServiceTestAbstract.java    |   6 +-
 .../service/EmbeddedCassandraServiceTest.java      |   2 +-
 .../apache/cassandra/service/InitClientTest.java   |   2 +-
 .../apache/cassandra/service/RowResolverTest.java  |   8 +-
 .../cassandra/service/SerializationsTest.java      |  20 ++--
 .../cassandra/streaming/SerializationsTest.java    |  36 +++----
 .../org/apache/cassandra/streaming/StreamUtil.java |   4 +-
 .../cassandra/streaming/StreamingTransferTest.java |   8 +-
 .../cassandra/thrift/ThriftValidationTest.java     |   8 +-
 .../apache/cassandra/tools/SSTableExportTest.java  |  40 ++++----
 .../apache/cassandra/tools/SSTableImportTest.java  |   4 +-
 .../cassandra/utils/BoundedStatsDequeTest.java     |  18 ++--
 .../apache/cassandra/utils/FBUtilitiesTest.java    |   4 +-
 test/unit/org/apache/cassandra/utils/HexTest.java  |   2 +-
 .../org/apache/cassandra/utils/IntervalTest.java   |   8 +-
 .../apache/cassandra/utils/IntervalTreeTest.java   |   8 +-
 .../cassandra/utils/LegacyBloomFilterTest.java     |   2 +-
 .../apache/cassandra/utils/MergeIteratorTest.java  |   6 +-
 .../org/apache/cassandra/utils/MerkleTreeTest.java |  30 +++---
 .../apache/cassandra/utils/SerializationsTest.java |  30 +++---
 .../unit/org/apache/cassandra/utils/UUIDTests.java |  10 +-
 71 files changed, 563 insertions(+), 563 deletions(-)

commit 2fd3268b4841ff14d1c27bdcb4f80efc4174ffd0
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Feb 24 18:50:13 2012 +0100

    [3649] Strip end of line whitespace

 .../apache/cassandra/db/MeteredFlusherTest.java    |   8 +-
 .../cassandra/AbstractSerializationsTester.java    |  18 ++--
 test/unit/org/apache/cassandra/EmbeddedServer.java |  12 +--
 test/unit/org/apache/cassandra/SchemaLoader.java   |   6 +-
 test/unit/org/apache/cassandra/Util.java           |  12 +--
 .../apache/cassandra/cache/CacheProviderTest.java  |  12 +--
 test/unit/org/apache/cassandra/cli/CliTest.java    |   2 +-
 .../org/apache/cassandra/client/TestRingCache.java |   6 +-
 .../DebuggableThreadPoolExecutorTest.java          |   8 +-
 .../cassandra/config/ColumnDefinitionTest.java     |   8 +-
 .../cassandra/config/DatabaseDescriptorTest.java   |   2 +-
 .../apache/cassandra/cql/jdbc/ClientUtilsTest.java |   8 +-
 .../cassandra/db/ArrayBackedSortedColumnsTest.java |   8 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 104 ++++++++++-----------
 .../org/apache/cassandra/db/CommitLogTest.java     |   4 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |  82 ++++++++--------
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |   8 +-
 .../org/apache/cassandra/db/MultitableTest.java    |   8 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  34 +++----
 .../apache/cassandra/db/RecoveryManager2Test.java  |   8 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |   8 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  40 ++++----
 .../apache/cassandra/db/SerializationsTest.java    |  80 ++++++++--------
 .../org/apache/cassandra/db/SuperColumnTest.java   |   4 +-
 .../org/apache/cassandra/db/SystemTableTest.java   |   8 +-
 test/unit/org/apache/cassandra/db/TableTest.java   |  34 +++----
 .../cassandra/db/context/CounterContextTest.java   |  12 +--
 .../cassandra/db/marshal/DecimalTypeTest.java      |  28 +++---
 .../apache/cassandra/db/marshal/RoundTripTest.java |  30 +++---
 .../cassandra/db/marshal/TimeUUIDTypeTest.java     |  12 +--
 .../cassandra/db/marshal/TypeCompareTest.java      |  12 +--
 .../cassandra/db/marshal/TypeValidationTest.java   |  34 +++----
 .../apache/cassandra/db/marshal/UUIDTypeTest.java  |   8 +-
 .../org/apache/cassandra/dht/BootStrapperTest.java |  30 +++---
 .../apache/cassandra/dht/PartitionerTestCase.java  |   6 +-
 .../cassandra/dht/RandomPartitionerTest.java       |   8 +-
 .../apache/cassandra/gms/ArrivalWindowTest.java    |  12 +--
 .../org/apache/cassandra/gms/GossipDigestTest.java |  12 +--
 .../apache/cassandra/gms/SerializationsTest.java   |  26 +++---
 .../hadoop/ColumnFamilyInputFormatTest.java        |   8 +-
 .../cassandra/io/BloomFilterTrackerTest.java       |   8 +-
 .../apache/cassandra/io/CompactSerializerTest.java |  24 ++---
 .../cassandra/io/LazilyCompactedRowTest.java       |   8 +-
 .../cassandra/io/sstable/DescriptorTest.java       |   8 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    |   8 +-
 .../apache/cassandra/locator/EC2SnitchTest.java    |  14 +--
 .../cassandra/locator/SimpleStrategyTest.java      |   6 +-
 .../apache/cassandra/net/MessageSerializer.java    |   8 +-
 .../service/AntiEntropyServiceCounterTest.java     |   8 +-
 .../service/AntiEntropyServiceStandardTest.java    |   8 +-
 .../service/AntiEntropyServiceTestAbstract.java    |   6 +-
 .../service/EmbeddedCassandraServiceTest.java      |   2 +-
 .../apache/cassandra/service/InitClientTest.java   |   2 +-
 .../apache/cassandra/service/RowResolverTest.java  |   8 +-
 .../cassandra/service/SerializationsTest.java      |  20 ++--
 .../cassandra/streaming/SerializationsTest.java    |  36 +++----
 .../org/apache/cassandra/streaming/StreamUtil.java |   4 +-
 .../cassandra/streaming/StreamingTransferTest.java |   8 +-
 .../cassandra/thrift/ThriftValidationTest.java     |   8 +-
 .../apache/cassandra/tools/SSTableExportTest.java  |  40 ++++----
 .../apache/cassandra/tools/SSTableImportTest.java  |   4 +-
 .../cassandra/utils/BoundedStatsDequeTest.java     |  18 ++--
 .../apache/cassandra/utils/FBUtilitiesTest.java    |   4 +-
 test/unit/org/apache/cassandra/utils/HexTest.java  |   2 +-
 .../org/apache/cassandra/utils/IntervalTest.java   |   8 +-
 .../apache/cassandra/utils/IntervalTreeTest.java   |   8 +-
 .../cassandra/utils/LegacyBloomFilterTest.java     |   2 +-
 .../apache/cassandra/utils/MergeIteratorTest.java  |   6 +-
 .../org/apache/cassandra/utils/MerkleTreeTest.java |  30 +++---
 .../apache/cassandra/utils/SerializationsTest.java |  30 +++---
 .../unit/org/apache/cassandra/utils/UUIDTests.java |  10 +-
 71 files changed, 563 insertions(+), 563 deletions(-)

commit 37f6a9f1037a764d6ceda74c02368d25579f8198
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Feb 24 15:36:17 2012 +0100

    [3649] Remove unused imports

 .../cassandra/db/compaction/LongCompactionSpeedTest.java    |  2 --
 .../org/apache/cassandra/utils/LongBloomFilterTest.java     |  1 -
 .../apache/cassandra/utils/LongLegacyBloomFilterTest.java   |  1 -
 test/unit/org/apache/cassandra/SchemaLoader.java            |  1 -
 test/unit/org/apache/cassandra/cache/CacheProviderTest.java |  4 ----
 test/unit/org/apache/cassandra/cli/CliTest.java             |  1 -
 test/unit/org/apache/cassandra/db/CleanupTest.java          |  3 ---
 .../unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java |  2 --
 test/unit/org/apache/cassandra/db/CommitLogTest.java        |  1 -
 test/unit/org/apache/cassandra/db/CounterColumnTest.java    |  7 -------
 test/unit/org/apache/cassandra/db/DirectoriesTest.java      |  1 -
 test/unit/org/apache/cassandra/db/KeyCacheTest.java         |  3 ---
 test/unit/org/apache/cassandra/db/KeyCollisionTest.java     |  2 --
 test/unit/org/apache/cassandra/db/MultitableTest.java       |  1 -
 test/unit/org/apache/cassandra/db/NameSortTest.java         |  3 ---
 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java |  3 ---
 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java  |  1 -
 .../apache/cassandra/db/RecoveryManagerTruncateTest.java    |  1 -
 .../org/apache/cassandra/db/RemoveColumnFamilyTest.java     |  1 -
 .../cassandra/db/RemoveColumnFamilyWithFlush1Test.java      |  1 -
 .../cassandra/db/RemoveColumnFamilyWithFlush2Test.java      |  1 -
 test/unit/org/apache/cassandra/db/RemoveColumnTest.java     |  1 -
 test/unit/org/apache/cassandra/db/RemoveSubColumnTest.java  |  1 -
 .../unit/org/apache/cassandra/db/RemoveSuperColumnTest.java |  1 -
 test/unit/org/apache/cassandra/db/RowIterationTest.java     |  3 ---
 test/unit/org/apache/cassandra/db/RowTest.java              |  1 -
 test/unit/org/apache/cassandra/db/ScrubTest.java            |  1 -
 test/unit/org/apache/cassandra/db/SuperColumnTest.java      |  4 ----
 .../org/apache/cassandra/db/context/CounterContextTest.java |  2 --
 .../org/apache/cassandra/db/marshal/CompositeTypeTest.java  |  1 -
 .../cassandra/db/marshal/DynamicCompositeTypeTest.java      |  1 -
 .../org/apache/cassandra/db/marshal/TypeParserTest.java     | 13 -------------
 .../apache/cassandra/dht/ByteOrderedPartitionerTest.java    |  4 ----
 .../dht/CollatingOrderPreservingPartitionerTest.java        |  4 ----
 .../cassandra/dht/OrderPreservingPartitionerTest.java       |  5 -----
 test/unit/org/apache/cassandra/dht/PartitionerTestCase.java |  4 ----
 .../org/apache/cassandra/dht/RandomPartitionerTest.java     |  6 ------
 .../org/apache/cassandra/io/sstable/DescriptorTest.java     |  4 ----
 .../org/apache/cassandra/io/sstable/IndexHelperTest.java    |  2 --
 .../org/apache/cassandra/io/sstable/SSTableReaderTest.java  |  2 --
 .../cassandra/io/sstable/SSTableSimpleWriterTest.java       |  1 -
 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java  |  1 -
 .../org/apache/cassandra/locator/TokenMetadataTest.java     |  3 ---
 .../cassandra/service/AntiEntropyServiceTestAbstract.java   |  1 -
 .../cassandra/service/EmbeddedCassandraServiceTest.java     |  3 ---
 .../unit/org/apache/cassandra/service/StorageProxyTest.java |  3 ---
 .../apache/cassandra/service/StorageServiceClientTest.java  |  1 -
 .../apache/cassandra/service/StorageServiceServerTest.java  |  1 -
 .../org/apache/cassandra/streaming/SerializationsTest.java  |  3 ---
 test/unit/org/apache/cassandra/streaming/StreamUtil.java    |  1 -
 test/unit/org/apache/cassandra/tools/SSTableImportTest.java |  2 --
 .../unit/org/apache/cassandra/utils/ByteBufferUtilTest.java |  1 -
 test/unit/org/apache/cassandra/utils/FBUtilitiesTest.java   |  3 ---
 test/unit/org/apache/cassandra/utils/FilterTestHelper.java  |  9 ---------
 test/unit/org/apache/cassandra/utils/IntervalTest.java      |  1 -
 55 files changed, 135 deletions(-)

commit 910b663b443505204e366292ba8a1c668c54d9ae
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Feb 24 12:38:07 2012 +0100

    [3649] Remove underscores on variables

 test/unit/org/apache/cassandra/db/ReadMessageTest.java       |  4 ++--
 test/unit/org/apache/cassandra/db/SerializationsTest.java    | 12 ++++++------
 test/unit/org/apache/cassandra/gms/GossipDigestTest.java     |  4 ++--
 .../unit/org/apache/cassandra/io/LazilyCompactedRowTest.java |  2 +-
 test/unit/org/apache/cassandra/service/RemoveTest.java       |  2 +-
 test/unit/org/apache/cassandra/streaming/StreamUtil.java     |  2 +-
 6 files changed, 13 insertions(+), 13 deletions(-)

commit 18c5441cc83fb4fae5e537ad63453e5319453da8
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Fri Feb 24 17:01:37 2012 +0300

    CLI `list <CF>` to limit number of columns and their order
    patch by Dave Brosius; reviewed by Pavel Yaskevich for CASSANDRA-3012

 test/unit/org/apache/cassandra/cli/CliTest.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 44d6f49bb051a3a49fb2b758b6fb8016a1845f13
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Thu Feb 23 18:07:59 2012 +0300

    fix NPE in DefsTest and DatabaseDescriptorTest caused by not initialized (started) Gossiper

 .../cassandra/config/DatabaseDescriptorTest.java   | 42 +++++++++++++---------
 test/unit/org/apache/cassandra/db/DefsTest.java    | 15 ++++++++
 2 files changed, 41 insertions(+), 16 deletions(-)

commit 5030f78a5aa9bfa52915812dceb78a717db1ee86
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 22 16:30:54 2012 +0100

    Remove deprecated merge_shard_chance
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-3940

 test/unit/org/apache/cassandra/SchemaLoader.java | 6 ++----
 test/unit/org/apache/cassandra/db/DefsTest.java  | 4 +---
 2 files changed, 3 insertions(+), 7 deletions(-)

commit fe6980eb7d2df6cb53fd8a83226f91789beaced8
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 22 15:10:56 2012 +0100

    Fix version, licences and changelog for 1.0.8 release

 .../apache/cassandra/cql/jdbc/ClientUtilsTest.java  | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit d760706c92f7caaa8451b5274e3615be67237e64
Merge: 058307b 712cfb1
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Feb 21 08:03:58 2012 -0600

    Merge from 1.0

commit 712cfb12dd01b368a34e6b19d16c21edcaac1487
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Feb 21 13:37:17 2012 +0100

    Fix CompactionsTest.testSuperColumnCompactions (insert longs since CF uses LongType)

 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 78142cb790f921395273233eea5e2016b9148d36
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Feb 16 11:54:36 2012 +0100

    Use test partitioner in SSTableSimpleWriterTest to avoid mismatch during loading

 test/unit/org/apache/cassandra/io/sstable/SSTableSimpleWriterTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7f4693dab9a4331584109a0561eadffa02c39600
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 15 16:53:43 2012 +0100

    Fix licenses and version for 1.1.0-beta1

 .../apache/cassandra/cql/jdbc/ClientUtilsTest.java  | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit e467533816409e2446de1197260623461614481d
Merge: 10b3dcc 636e41d
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 15 16:45:19 2012 +0100

    Merge branch 'cassandra-1.0' into cassandra-1.1
    
    Conflicts:
    	src/java/org/apache/cassandra/cql/QueryProcessor.java

commit 636e41dc3c1827ce438c98fb7a45c2a511083842
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 15 16:41:46 2012 +0100

    Fix LazilyCompactedRowTest
    
    patch by slebresne; reviewed by driftx for CASSANDRA-3915

 .../unit/org/apache/cassandra/io/LazilyCompactedRowTest.java | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 10b3dcc9672c9e748469eb5df5826639d8c88c8d
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 15 13:50:22 2012 +0100

    Add missing serializer in CompactSerializerTest

 test/unit/org/apache/cassandra/io/CompactSerializerTest.java | 1 +
 1 file changed, 1 insertion(+)

commit d2c22a855c260a9c4e51ac41f42b7b3de46a0a7b
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Tue Feb 14 07:29:35 2012 -0600

    BulkOutputFormat no longer unnecessarily looks for cassandra.yaml.
    Patch by brandonwilliams, reviewed by Chris Goffinet for CASSANDRA-3740

 .../org/apache/cassandra/io/sstable/SSTableSimpleWriterTest.java     | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 3eefbac133c838db46faa6a91ba1f114192557ae
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Feb 10 20:12:55 2012 +0100

    Don't silently prepend '0' during hex-to-bytes conversion
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-2851

 test/unit/org/apache/cassandra/cli/CliTest.java   | 4 ++--
 test/unit/org/apache/cassandra/utils/HexTest.java | 8 ++++----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 1616f3fa467fc8014fb586e1c938ae65dee606a7
Merge: 7108f3e 2187530
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 8 15:32:19 2012 +0100

    Merge branch 'cassandra-1.0' into cassandra-1.1
    
    Conflicts:
    	src/java/org/apache/cassandra/db/filter/QueryFilter.java

commit 6cb4af7c66a0a034202449362968c5274619b634
Merge: 2216a3d ad80cf4
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 8 15:21:17 2012 +0100

    Merge branch 'cassandra-0.8' into cassandra-1.0
    
    Conflicts:
    	src/java/org/apache/cassandra/db/filter/QueryFilter.java

commit ad80cf4c20977f68cea047d9d03b5e927668db12
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Feb 8 15:08:46 2012 +0100

    SuperColumn may ignore relevant tombstones
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-3875

 .../apache/cassandra/db/RemoveSubColumnTest.java   | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit a277fbedb9ac5d109527848a77f470f22ea1ff00
Author: paul cannon <paul@datastax.com>
Date:   Tue Jan 31 13:44:37 2012 -0600

    Fix streaming too much data during move operations
    patch by Fabien Rousseau; reviewed by Paul Cannon for CASSANDRA-3639

 .../locator/OldNetworkTopologyStrategyTest.java    | 218 ++++++++++++++++++++-
 1 file changed, 213 insertions(+), 5 deletions(-)

commit 58202a8ef364c7e1b35eedd1270c5e72d305e23c
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Feb 6 17:15:36 2012 +0100

    Fix unit tests (DefsTest, SSTableImportTest, CompositeTypeTest)
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-3864

 test/unit/org/apache/cassandra/db/DefsTest.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 6c2ded6e98f017183665a80d947400b8774b4b21
Merge: 099f04e edd7f45
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Feb 6 17:05:01 2012 +0100

    Merge branch 'cassandra-1.1' of https://git-wip-us.apache.org/repos/asf/cassandra into cassandra-1.1

commit 099f04e609487a4e01b2e21758593a820869f8d9
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Feb 6 16:05:23 2012 +0100

    Fix "Unable to create hard link" SSTableReaderTest error messages
    
    patch by jbellis and scode; reviewed by slebresne for CASSANDRA-3735

 .../cassandra/io/sstable/SSTableReaderTest.java    | 29 +++++++++++-----------
 1 file changed, 14 insertions(+), 15 deletions(-)

commit cce15aa0aa0c8be017dc37ee334bdd2fc0392ec7
Author: Eric Evans <eevans@apache.org>
Date:   Wed Feb 1 17:02:29 2012 -0600

    test to exercise JdbcDate.{toString,getString}
    
    Patch by eevans for CASSANDRA-3822

 test/unit/org/apache/cassandra/cql/jdbc/ClientUtilsTest.java | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 2deee7a4e70c3e17344f7bbd53e9a72a8ac99dba
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jan 30 16:22:39 2012 +0100

    Add command to rebuild node without merkle tree calculations
    
    patch by scode; reviewed by jbellis and slebresne for CASSANDRA-3483

 .../org/apache/cassandra/dht/BootStrapperTest.java | 43 +++++++++++-----------
 1 file changed, 22 insertions(+), 21 deletions(-)

commit 0d1991eec4781afc1f6673949d306cfe02ab8fa9
Author: Eric Evans <eevans@apache.org>
Date:   Sun Jan 29 11:04:01 2012 -0600

    clientutil: use decompose() for tests
    
    Patch by eevans for CASSANDRA-3665

 .../apache/cassandra/cql/jdbc/ClientUtilsTest.java | 53 ++++++----------------
 1 file changed, 15 insertions(+), 38 deletions(-)

commit a9ba8a42270c77ad024db4cb4cd4c218f42ad95a
Merge: bb5fdbf 43003f0
Author: Eric Evans <eevans@apache.org>
Date:   Sun Jan 29 10:57:46 2012 -0600

    merge from 1.0

commit 43003f06a37c93ab8fdc44f9b31decafa039972d
Author: Eric Evans <eevans@apache.org>
Date:   Sun Jan 29 10:12:34 2012 -0600

    fix #3665 breakage (1.0 classes can't decompose())
    
    (which I knew how this happened)
    
    Patch by eevans for CASSANDRA-3665

 .../apache/cassandra/cql/jdbc/ClientUtilsTest.java | 53 ++++++++++++++++------
 1 file changed, 38 insertions(+), 15 deletions(-)

commit aa20c7206cdc1efc1983466de05c224eccac1084
Merge: 73f7104 b10d5bd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 27 22:27:49 2012 -0600

    merge from 1.0

commit 32075c4aecf06bf28cc415ea5ae3fa3cbc805983
Author: Eric Evans <eevans@apache.org>
Date:   Thu Jan 26 16:02:34 2012 -0600

    test to expose missing dependencies
    
    Patch by eevans; reviewed by Dave Brosius for CASSANDRA-3665

 .../apache/cassandra/cql/jdbc/ClientUtilsTest.java | 48 ++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit 96ecaff517418c63b93688865dbb435b2186372f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jan 26 10:29:44 2012 -0600

    move ConfigurationException check to Create statement

 test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit 0fdab63d366810c4225221624082a30c332d3d3d
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jan 26 16:20:55 2012 +0100

    Allow extending composite comparator
    
    patch by slebresne; reviewed by zznate for CASSANDRA-3657

 .../org/apache/cassandra/db/marshal/CompositeTypeTest.java     | 10 ++++++++++
 .../apache/cassandra/db/marshal/DynamicCompositeTypeTest.java  | 10 ++++++++++
 2 files changed, 20 insertions(+)

commit 45e1d5188c42dd0220a51af1b574af3c4d8378ea
Author: T Jake Luciani <jakers@gmail.com>
Date:   Wed Jan 25 16:26:02 2012 -0500

    Fix RangeTest.java compilation error on Range.rangeSet in Eclipse
    
    Patch by Kirk True; reviewed by tjake for CASSANDRA-3784

 test/unit/org/apache/cassandra/dht/RangeTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 655ccc3abfc0f3fbe974d3f52cd38bf0d6afe2a9
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Mon Jan 16 18:50:53 2012 +0100

    CQL 3.0 beta
    
    patch by slebresne; reviewed by jbellis and urandom for CASSANDRA-3761

 .../cassandra/utils/SemanticVersionTest.java       | 105 +++++++++++++++++++++
 1 file changed, 105 insertions(+)

commit 86637d43cb4019d5f6747349d9d7315ff2236017
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jan 25 11:24:54 2012 +0100

    Make CFMetaData conversion to/from thrift/native schema inverses
    
    patch by slebresne; reviewed by xedin for CASSANDRA-3559

 .../apache/cassandra/config/CFMetaDataTest.java    | 42 +++++++++++++++++++++-
 1 file changed, 41 insertions(+), 1 deletion(-)

commit 37b079352d412bb67036aa4130107728b9c8ae0d
Author: Pavel Yaskevich <povel.y@gmail.com>
Date:   Sun Jan 22 02:46:02 2012 +0200

    Allow concurrent schema migrations
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-1391

 test/unit/org/apache/cassandra/SchemaLoader.java   |   2 +-
 .../apache/cassandra/config/CFMetaDataTest.java    |  35 ++++---
 .../cassandra/config/ColumnDefinitionTest.java     |   2 +-
 .../cassandra/config/DatabaseDescriptorTest.java   |  26 ++---
 test/unit/org/apache/cassandra/db/DefsTest.java    | 112 +++++----------------
 .../cassandra/db/migration/SerializationsTest.java |  77 --------------
 6 files changed, 50 insertions(+), 204 deletions(-)

commit e86469ee058fb73acebbae5f0ff64e5eae55e613
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Jan 19 17:34:44 2012 -0600

    Fix test compilation after 3689

 test/unit/org/apache/cassandra/SchemaLoader.java                    | 6 +++---
 test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java    | 2 +-
 .../org/apache/cassandra/db/marshal/DynamicCompositeTypeTest.java   | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 35f7bc597a8d26ca88526cf0d5208c13bdda523d
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Thu Jan 19 17:05:45 2012 +0100

    Allow rangeSlice queries to be start/end inclusive/exclusive
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-3749

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  70 ++++++++++-
 .../apache/cassandra/dht/AbstractBoundsTest.java   | 137 ---------------------
 test/unit/org/apache/cassandra/dht/RangeTest.java  |  77 ++++++++++++
 .../apache/cassandra/service/StorageProxyTest.java |  32 ++++-
 4 files changed, 176 insertions(+), 140 deletions(-)

commit 0456b7eb231275fba368d35fb861b09096fdd8fb
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Jan 17 09:40:04 2012 +0100

    Allow doing a range slice with a limit of columns instead of rows
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-3742

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 58 +++++++++++++++++++++-
 1 file changed, 57 insertions(+), 1 deletion(-)

commit 44a7db706885430128d305adb56899595eccc8ae
Merge: f458cc1 181022b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jan 16 13:31:37 2012 -0600

    merge from 1.0

commit 6a1ed6205cad8d019eb6eda326d7796a8a0dd67b
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Fri Jan 13 08:49:21 2012 +0100

    Allow DynamicCompositeType to compare components of different types
    
    patch by slebresne; reviewed by edanuff for CASSANDRA-3625

 .../db/marshal/DynamicCompositeTypeTest.java       | 28 ++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit f2cb272798ca44d88d13b1f0d69d9a9e7ab70a15
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jan 12 17:14:54 2012 -0600

    update createHardLink calls

 test/unit/org/apache/cassandra/db/ScrubTest.java                 | 2 +-
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit a4fc7e27045113ff680327558eef49f6d0c317d9
Merge: 980663a 185eca5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 11 13:50:29 2012 -0600

    merge from 1.0

commit 185eca5d1fa7e384bb888c144d06abbced0fd577
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 11 11:44:32 2012 -0600

    prevent slow clients from postponing shutdown indefinitely
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3727

 test/unit/org/apache/cassandra/service/RemoveTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ea4296932c6be69d7a1a995367bcf7e2130e962b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 10 18:17:39 2012 -0600

    r/m unused code, and replace FBUtilities.byteArrayToInt with Guava Ints.fromByteArray

 .../unit/org/apache/cassandra/utils/FBUtilitiesTest.java | 16 +++-------------
 1 file changed, 3 insertions(+), 13 deletions(-)

commit 9a11e424efeaa67a5d0081a93319b5ed9fddc516
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Jan 9 11:57:51 2012 -0600

    Separate input and output connection details in ConfigHelper.
    Patch by Mck SembWever, reviewed by brandonwilliams for CASSANDRA-3197

 test/unit/org/apache/cassandra/client/TestRingCache.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit bd00a2355ac576afb57e5f3fe73093c729ed79ed
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Jan 9 11:45:39 2012 -0600

    Revert "Separate input and output connection details in ConfigHelper."
    
    This reverts commit b90462aefbab4e443a4a4d83da7a30cd4516697f.

 test/unit/org/apache/cassandra/client/TestRingCache.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b90462aefbab4e443a4a4d83da7a30cd4516697f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Jan 9 10:23:53 2012 -0600

    Separate input and output connection details in ConfigHelper.
    Patch by Mck SembWever, reviewed by brandonwilliams for CASSANDRA-3197

 test/unit/org/apache/cassandra/client/TestRingCache.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9a76e646e6ead3f8e900123485d6768604b47630
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Wed Jan 4 16:06:45 2012 +0100

    Finer-grained control over data directories
    
    patch by slebresne; reviewed by xedin for CASSANDRA-2749

 test/unit/org/apache/cassandra/Util.java           |   2 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   7 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |   8 +-
 .../org/apache/cassandra/db/DirectoriesTest.java   | 183 +++++++++++++++++++++
 test/unit/org/apache/cassandra/db/ScrubTest.java   |  10 +-
 .../cassandra/io/sstable/DescriptorTest.java       |  35 +---
 .../cassandra/io/sstable/SSTableReaderTest.java    |  11 +-
 .../io/sstable/SSTableSimpleWriterTest.java        |   3 +-
 .../apache/cassandra/streaming/BootstrapTest.java  |   2 +-
 9 files changed, 206 insertions(+), 55 deletions(-)

commit 18ce201a0787f4b837cd8840a292535a9115a47a
Merge: e75c53e 1a3a526
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 3 21:14:47 2012 -0600

    merge from 1.0

commit 1a3a52642c6e72666beb20346093cc3cf2e374f5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 3 21:12:33 2012 -0600

    remove ConsistencyLevelTest.java
    patch by slebresne; reviewed by jbellis for CASSANDRA-3531

 .../cassandra/service/ConsistencyLevelTest.java    | 193 ---------------------
 1 file changed, 193 deletions(-)

commit b9813ed388f9672ac4099d4a72c6362edc442ede
Author: Pavel Yaskevich <povel.y@gmail.com>
Date:   Mon Jan 2 22:30:16 2012 +0200

    a way to deactivate global key/row cache on per-CF basis
    patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-3667

 test/unit/org/apache/cassandra/SchemaLoader.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3297a96e1849f41d9c61f024282ed52d642e0794
Author: Sylvain Lebresne <sylvain@datastax.com>
Date:   Tue Dec 20 21:00:53 2011 +0100

    Merge get_indexed_slices with get_range_slices
    
    patch by slebresne; reviewed by jbellis for CASSANDRA-1600

 test/unit/org/apache/cassandra/Util.java           |  3 +-
 test/unit/org/apache/cassandra/db/CleanupTest.java | 15 ++--
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 92 +++++++++++-----------
 .../org/apache/cassandra/db/KeyCollisionTest.java  |  2 +-
 test/unit/org/apache/cassandra/db/ScrubTest.java   | 12 +--
 .../cassandra/io/sstable/SSTableReaderTest.java    |  5 +-
 .../cassandra/streaming/StreamingTransferTest.java |  5 +-
 7 files changed, 67 insertions(+), 67 deletions(-)

commit 48f5d571641e534bb633f1e4e71a308a0bcba1d1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Dec 28 12:27:04 2011 -0600

    fix commitlog segment overflow
    patch by rbranson; reviewed by jbellis for CASSANDRA-3615

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit bad90afc6f5be37fae11358c949802503e77caef
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 27 20:17:17 2011 +0000

    add row-level isolation via SnapTree
    patch by slebresne; reviewed by jbellis for CASSANDRA-2893
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1225001 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ArrayBackedSortedColumnsTest.java | 4 +++-
 test/unit/org/apache/cassandra/db/ColumnFamilyTest.java             | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 295aedb278e7a495213241b66bc46d763fd4ce66
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Fri Dec 23 16:09:05 2011 +0000

    global key/row caches
    patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-3143
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1222715 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  |  12 ++
 test/unit/org/apache/cassandra/SchemaLoader.java   |  24 ++--
 .../apache/cassandra/cache/CacheProviderTest.java  |   4 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |  18 +--
 .../unit/org/apache/cassandra/db/KeyCacheTest.java | 128 ++++++++++++---------
 .../unit/org/apache/cassandra/db/RowCacheTest.java | 115 +++++++-----------
 .../cassandra/io/sstable/SSTableReaderTest.java    |   3 +-
 7 files changed, 141 insertions(+), 163 deletions(-)

commit 3fd299b178d3b68c6aa9be24a7a3424028eff970
Merge: f6024d8 e3c5d5d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 20 20:39:50 2011 +0000

    merge #3335 from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1221482 13f79535-47bb-0310-9956-ffa450edef68

commit e3c5d5d4335150e76b3e7e5ea7147f33ddc49910
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 20 20:08:20 2011 +0000

    stop thrift service in shutdown hook so we can quiesce MessagingService
    patch by jbellis; reviewed by Brandon Williams for CASSANDRA-3335
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1221467 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit e99cd6253b5656e85d73973c89d236eb0e631dad
Merge: 16da34e b681f4b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 15 19:34:40 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1214927 13f79535-47bb-0310-9956-ffa450edef68

commit 8cf9f2deda1fa2d1300813b6a0a4f3a23e00f011
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Dec 12 18:22:13 2011 +0000

    Allow overriding RING_DELAY.
    Patch by brandonwilliams reviewed by slebresne for CASSANDRA-3600
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1213346 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ec624f50957776a444c28d6fea028786fe97640c
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Dec 8 17:31:07 2011 +0000

    Improve memtable slice iteration performance
    patch by slebresne; reviewed by jbellis for CASSANDRA-3545
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1211999 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/ArrayBackedSortedColumnsTest.java | 44 +++++++++++++++++++++-
 1 file changed, 42 insertions(+), 2 deletions(-)

commit c898b070a169fed7fcd7c84cfa5a7d042847f064
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Dec 8 13:58:54 2011 +0000

    fix bad merge
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1211890 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aef5e6aa25edd3ec7dbeb063e882db16cae08537
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Dec 8 12:07:13 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1211849 13f79535-47bb-0310-9956-ffa450edef68

 .../io/sstable/SSTableMetadataSerializerTest.java  |  4 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    | 77 ++++++++++++++++++++++
 2 files changed, 80 insertions(+), 1 deletion(-)

commit e21cda43ca924e8aba692f7992abb6e8181e4961
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Dec 8 12:03:55 2011 +0000

    add back partitioner in sstable metadata
    patch by yukim; reviewed by slebresne for CASSANDRA-3540
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1211848 13f79535-47bb-0310-9956-ffa450edef68

 .../io/sstable/SSTableMetadataSerializerTest.java  |  4 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    | 77 ++++++++++++++++++++++
 2 files changed, 80 insertions(+), 1 deletion(-)

commit 71f929da094095244075dff15b2b1ea8d06516b5
Merge: 3d5a595 0d805c7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 6 02:09:58 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1210747 13f79535-47bb-0310-9956-ffa450edef68

commit 16097db1f2afac9e5098d67e9709552f4f7ef9a0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 2 23:30:32 2011 +0000

    fix commitlog segment recycling
    patch by Rick Branson; reviewed by jbellis for CASSANDRA-3557
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1209779 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java | 4 ++++
 1 file changed, 4 insertions(+)

commit eaca5341522a079dcecc181d229728da418ff2d6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 2 21:00:43 2011 +0000

    Optimize componentsFor method for compaction and startup time
    patch by jbellis and Eric Parusel; reviewed by slebresne for CASSANDRA-3532
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1209689 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit f0b14509e1e4827f10458d359a46a69983be786f
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Fri Dec 2 14:39:28 2011 +0000

    fix default value validation usage in CLI SET command
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3553
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1209514 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 554223b4a65c7839c36e8a17e36636b92f4f15a0
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Dec 1 08:31:20 2011 +0000

    remove assumption that key and token are in bijection
    patch by slebresne; reviewed by jbellis for CASSANDRA-1034
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1208993 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  24 ++-
 test/unit/org/apache/cassandra/db/CleanupTest.java |   5 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  27 ++-
 .../org/apache/cassandra/db/KeyCollisionTest.java  | 212 +++++++++++++++++++++
 .../apache/cassandra/db/SerializationsTest.java    |   3 +-
 .../apache/cassandra/dht/AbstractBoundsTest.java   |  16 +-
 .../org/apache/cassandra/dht/BootStrapperTest.java |  12 +-
 .../apache/cassandra/dht/PartitionerTestCase.java  |   2 +-
 test/unit/org/apache/cassandra/dht/RangeTest.java  |  14 +-
 .../apache/cassandra/io/CompactSerializerTest.java |   2 +
 .../cassandra/io/sstable/SSTableReaderTest.java    |  14 +-
 .../service/AntiEntropyServiceTestAbstract.java    |  14 +-
 .../org/apache/cassandra/service/MoveTest.java     |  34 ++--
 .../cassandra/service/SerializationsTest.java      |   2 +-
 .../apache/cassandra/service/StorageProxyTest.java | 162 +++++++++++++---
 .../cassandra/streaming/SerializationsTest.java    |   5 +-
 .../cassandra/streaming/StreamingTransferTest.java |  21 +-
 17 files changed, 457 insertions(+), 112 deletions(-)

commit 545cd657526cb92be4c7d677df943bd7c2646136
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Fri Nov 25 14:18:41 2011 +0000

    Remove allocator code from counter unit test
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1206184 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/context/CounterContextTest.java     | 20 ++++----------------
 1 file changed, 4 insertions(+), 16 deletions(-)

commit d2938d504506a613658e6bebba11c2290243d4b1
Merge: 70eb357 7d0db86
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 23 16:21:42 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1205480 13f79535-47bb-0310-9956-ffa450edef68

commit 7d0db867588309a5e00c455e6752ac90e8e35bf2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 23 16:18:43 2011 +0000

    merge #2786 from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1205475 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java          |  1 +
 .../apache/cassandra/db/compaction/CompactionsTest.java   | 15 +++++++++------
 2 files changed, 10 insertions(+), 6 deletions(-)

commit dc342de3711a5000be536cae6a661bbd44733398
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 23 15:38:44 2011 +0000

    avoid dropping tombstones when they might still be needed to shadow data in another sstable
    patch by slebresne and jbellis for CASSANDRA-2786
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1205452 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java          |  1 +
 .../apache/cassandra/db/compaction/CompactionsTest.java   | 15 +++++++++------
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 4d8ae4d2040b94348cfb84ab480b0ceecc5c47b0
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Nov 23 08:04:45 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1205319 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/context/CounterContextTest.java   | 77 ++++++++++++++++++++++
 1 file changed, 77 insertions(+)

commit 1c78dd9ce4a356418962bdf83205791b8cfc10e7
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Nov 23 08:02:32 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1205317 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/context/CounterContextTest.java   | 77 ++++++++++++++++++++++
 1 file changed, 77 insertions(+)

commit 6d183c1a527cf70212dfac81f0d61aa8e6f9a8d4
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Nov 23 07:59:45 2011 +0000

    Fix array out of bounds error in counter shard removal
    patch by slebresne; reviewed by yukim for CASSANDRA-3514
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1205316 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/context/CounterContextTest.java   | 77 ++++++++++++++++++++++
 1 file changed, 77 insertions(+)

commit babc10530621c6f380abb738b1c548c50d5b7bed
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 22 22:39:39 2011 +0000

    Recycle commitlog segments for improved performance
    patch by Rick Branson and jbellis for CASSANDRA-3411
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1205203 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 22 ++++++++++++----------
 .../apache/cassandra/db/RecoveryManager2Test.java  |  2 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |  2 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  6 +++---
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  2 +-
 5 files changed, 18 insertions(+), 16 deletions(-)

commit d986dc75cf35aa8c6eeba60103cd28005b10f18e
Merge: 05dc30d aee4015
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Nov 22 09:24:04 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1204872 13f79535-47bb-0310-9956-ffa450edef68

commit aee40158c07cbed8e452d426ea486249044d0cc1
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Nov 22 09:19:57 2011 +0000

    Fix incorrect query results due to invalid SSTable.maxTimestamp
    patch by slebresne; reviewed by jbellis and amorton for CASSANDRA-3510
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1204869 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 35 ++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 05dc30d3f895cc15b06b515e18037e738f72f1a4
Merge: 136a1e5 8009722
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Mon Nov 21 18:59:41 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1204649 13f79535-47bb-0310-9956-ffa450edef68

commit 9a5c679f0a13575cd304fb3df4f41535a3a3d5bd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 18 22:56:43 2011 +0000

    enforce RP tokens 0..2**127
    patch by jbellis; reviewed by Nick Bailey for CASSANDRA-3501
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1203893 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/MerkleTreeTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 136a1e53ad8e04374a6c54dd07d61d1a595a033f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 18 16:42:34 2011 +0000

    fix ConsistencyLevelTest better
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1203734 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/ConsistencyLevelTest.java | 4 ----
 1 file changed, 4 deletions(-)

commit be1b02b95bd9c847cdfb01a0979d1cce7c581845
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 18 16:37:39 2011 +0000

    update size-tiered compaction to prioritize small tiers
    patch by jbellis; reviewed by slebresne for CASSANDRA-2407
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1203729 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/compaction/CompactionsTest.java   | 15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit 6c3a28970549f66e20eb7b449706f1ef2fba11e2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 17 18:54:52 2011 +0000

    fix ConsistencyLevelTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1203327 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/ConsistencyLevelTest.java    | 24 ++++++++++++----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 943fd92c9c0e16601a1445181462bde5466d55b4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 17 18:45:04 2011 +0000

    update SSTableMetadata to conform with code style
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1203319 13f79535-47bb-0310-9956-ffa450edef68

 .../io/sstable/SSTableMetadataSerializerTest.java       | 17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit 9ca13b649e56f2c45b475acf925a07fb54ec0a5f
Merge: 83cd5c1 3a2bdff
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 16 22:49:20 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1202918 13f79535-47bb-0310-9956-ffa450edef68

commit 504d4d7fce9cfe7963ffd1b80949ce0a739d7a29
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 16 22:02:03 2011 +0000

    actually test persistent-ness in testPeristentStatistics
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1202903 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 3 +++
 1 file changed, 3 insertions(+)

commit 9f7a83d1b1881ff23ed2c5ed53b33d252993e821
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Nov 14 14:31:42 2011 +0000

    Use (Guava inspired) faster bytes comparison
    patch by slebresne; reviewed by jbellis for CASSANDRA-3434
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1201726 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/ReversedTypeTest.java | 8 ++++----
 test/unit/org/apache/cassandra/dht/RangeTest.java               | 4 ++--
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 7aad259c98fdfda2d4c08ff36a870c24bba6fd76
Merge: 15d5ff6 3d8eec9
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Fri Nov 11 16:55:33 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1200948 13f79535-47bb-0310-9956-ffa450edef68

commit e029b7d0c11f32ba0c1647778759924bffd2275a
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Nov 10 19:18:46 2011 +0000

    Fix incorrect size exception during streaming of counters
    patch by slebresne; reviewed by jbellis for CASSANDRA-3481
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1200483 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CounterColumnTest.java |  3 ++-
 .../cassandra/streaming/StreamingTransferTest.java | 29 +++++++++++++++-------
 2 files changed, 22 insertions(+), 10 deletions(-)

commit 0b54c99e22f53042d04df449d38ae91548df752d
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Thu Nov 10 10:07:25 2011 +0000

    report compression ratio in CFSMBean
    patch by Vijay; reviewed by Pavel Yaskevich for CASSANDRA-3393
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1200251 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/compress/CompressedRandomAccessReaderTest.java    | 7 +++++--
 .../apache/cassandra/io/sstable/SSTableMetadataSerializerTest.java | 4 +++-
 2 files changed, 8 insertions(+), 3 deletions(-)

commit f15af0fd0a2c5afb61b567112c445a18f66dff4b
Merge: 18a31cf 7cad51f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 10 05:19:02 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1200154 13f79535-47bb-0310-9956-ffa450edef68

commit 74459de4dd1b9e55e502f2b7296bc2fcaca365fa
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 10 02:24:46 2011 +0000

    add sstable forward-compatibility
    patch by jbellis; reviewed by ymorishita for CASSANDRA-3478
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1200100 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/BootstrapTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 236818cc34848084d2620bc3f600c42b282e2cb6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 9 18:29:30 2011 +0000

    update Descriptor to use a regexp for validation
    patch by ymorishita; reviewed by jbellis for CASSANDRA-3470
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1199909 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/sstable/DescriptorTest.java   | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 18a31cf0f8985e769605e39df83fe8f6f0f1586f
Merge: 401c488 45edba6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 9 17:22:07 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1199880 13f79535-47bb-0310-9956-ffa450edef68

commit 45edba697f915fedae33f415afec2e5900e82a6d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 9 17:17:54 2011 +0000

    fix reading metadata/statistics component for version < h
    patch by jbellis; reviewed by slebresne for CASSANDRA-3474
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1199874 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/io/sstable/SSTableMetadataSerializerTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 41c7424a0c6299cfcec331c0d9161c06db50b03f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 9 17:03:03 2011 +0000

    revert #3393 temporarily
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1199850 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/compress/CompressedRandomAccessReaderTest.java   | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 84a03abdcea3c893a975f34ee75f436a4dcc99c7
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Nov 8 20:04:17 2011 +0000

    Report compression ratio in CFSMBean
    patch by vijay; reviewed by xedin for CASSANDRA-3393
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1199427 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/compress/CompressedRandomAccessReaderTest.java   | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 6a3e42a6345459771879d51d1a60a1c6c681b78c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 8 18:30:22 2011 +0000

    update test comment
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1199379 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/KeyCacheTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a88aa68dc1bb092c1f0cf702ee1e06f9411cd7a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 8 18:29:54 2011 +0000

    fix merge of #3437
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1199378 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/KeyCacheTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de018e0f20cf28cff06667052998ace2eb82de54
Merge: 17836b5 d15a798
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 8 18:22:36 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1199375 13f79535-47bb-0310-9956-ffa450edef68

commit d15a798af7acaf96162dc12efa3c14440c862c4f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 8 18:01:30 2011 +0000

    add test for CASSANDRA-3467 (which was fixed by #3446)
    patch by Rick Branson; reviewed by jbellis for CASSANDRA-3467
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1199369 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   |  7 ++++-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 35 +++++++++++++++++++++-
 2 files changed, 40 insertions(+), 2 deletions(-)

commit 9392edf07298417f90263ec8bea0897afad9f574
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 8 17:55:16 2011 +0000

    fix querying supercolumns by name
    patch by jbellis; reviewed by slebresne and tested by Mike Smith for CASSANDRA-3446
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1199367 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 29 ++++++++++++++++--
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 34 +++++++++++++++++++++-
 test/unit/org/apache/cassandra/db/TableTest.java   | 11 +------
 3 files changed, 61 insertions(+), 13 deletions(-)

commit b79ea7de10474fc66bcbacab07ad6c821b838972
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Nov 7 17:49:39 2011 +0000

    merge #3437 from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1198840 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/KeyCacheTest.java                | 7 ++++---
 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java  | 2 +-
 .../unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 4 +---
 3 files changed, 6 insertions(+), 7 deletions(-)

commit 9bf951eb464b3d4c75d6e19ddae20b5e34d9aa3d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Nov 7 17:34:04 2011 +0000

    fix invalidate-related test failures
    patch by jbellis; reviewed by slebresne for CASSANDRA-3437
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1198830 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/KeyCacheTest.java                | 7 ++++---
 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java  | 3 +--
 .../unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 5 +----
 3 files changed, 6 insertions(+), 9 deletions(-)

commit 17ad4cc18d334a702ea0ab53b7ac670b77808e20
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Nov 7 13:36:28 2011 +0000

    merge from 1.0.
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1198732 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CounterMutationTest.java   | 48 ++++++++++++----
 .../cassandra/db/context/CounterContextTest.java   | 67 ++++++----------------
 2 files changed, 55 insertions(+), 60 deletions(-)

commit 1fa626407f4712e002cec8c02e7b0516b05d3dc0
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Nov 7 13:35:05 2011 +0000

    #3178 for 1.0 branch
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1198731 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CounterMutationTest.java   | 48 ++++++++++++----
 .../cassandra/db/context/CounterContextTest.java   | 67 ++++++----------------
 2 files changed, 55 insertions(+), 60 deletions(-)

commit 287601d7f4d894687721aa54be8e822f3346d45a
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Nov 7 13:26:00 2011 +0000

    patch by slebresne; reviewed by yukim for CASSANDRA-3178
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1198725 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CounterMutationTest.java   | 10 +++-
 .../cassandra/db/context/CounterContextTest.java   | 68 ++++++----------------
 2 files changed, 25 insertions(+), 53 deletions(-)

commit 2e024c841422555dfd3205e6e8cfd66ce626d533
Merge: f08f559 2224f81
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 3 06:22:43 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1196959 13f79535-47bb-0310-9956-ffa450edef68

commit b2dcd3e5a5600be55c558eb5e20833ecec8264d1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 3 04:52:01 2011 +0000

    fix DecimalType bytebuffer marshalling
    patch by Rick Shaw; reviewed by jbellis for CASSANDRA-3421
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1196941 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/DecimalTypeTest.java      | 101 +++++++++++++++++++++
 1 file changed, 101 insertions(+)

commit e4790d5397a4e01c583fca9a5371cde993678334
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 1 04:28:58 2011 +0000

    renaming
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1195812 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 3 +--
 test/unit/org/apache/cassandra/db/DefsTest.java              | 2 +-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit e9660c6de8e3f4b5d4802e898e421316e2783575
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 1 04:16:54 2011 +0000

    cleanup and fixes for index debug logging
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1195810 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java               |  5 +++--
 .../org/apache/cassandra/streaming/StreamingTransferTest.java  | 10 ++++++++++
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 6786f9bef33818bd542b737f89f6fc88a0f91f95
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 1 03:50:23 2011 +0000

    renaming
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1195802 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 3 +--
 test/unit/org/apache/cassandra/db/DefsTest.java              | 2 +-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 36291a3ca9060e3e87a3e7894d134961b9bc8108
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 1 03:49:33 2011 +0000

    cleanup and fixes for index debug logging
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1195801 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java               |  5 +++--
 .../org/apache/cassandra/streaming/StreamingTransferTest.java  | 10 ++++++++++
 2 files changed, 13 insertions(+), 2 deletions(-)

commit aa6ce5d158ba0a2d14f5bc4a5a07ce48123f8ccd
Merge: 6e34dc3 2284ee0
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Mon Oct 31 16:43:33 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1195562 13f79535-47bb-0310-9956-ffa450edef68

commit 609bc4e123f08b8f65dbb45da3243719b7ccfdde
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Oct 31 16:06:48 2011 +0000

    replace compactionlock use in schema migration by checking CFS.isInvalidD
    patch by jbellis; reviewed by slebresne for CASSANDRA-3116
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1195542 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/KeyCacheTest.java                 | 2 +-
 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java   | 3 +--
 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 3 +--
 3 files changed, 3 insertions(+), 5 deletions(-)

commit 124cc2803d01dc71ae4adb2d96b98e12f659d9c1
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Sun Oct 30 18:50:04 2011 +0000

    Add timing information to cassandra-cli GET/SET/LIST queries
    patch by satishbabu; reviewed by xedin for CASSANDRA-3326
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1195217 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 845af1ca3ce21fb543daba5434751cb63fd5a18d
Merge: fe336ca 368aa0e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 19 13:35:57 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1186209 13f79535-47bb-0310-9956-ffa450edef68

commit 5fbb89087afa757d62bb006324d40cd64686c49e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 19 04:22:58 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1185965 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java          |  1 +
 test/unit/org/apache/cassandra/client/TestRingCache.java | 15 ++++++++++++---
 2 files changed, 13 insertions(+), 3 deletions(-)

commit 8cc192ff8a1ce72f87c1c5cee88b89c8723f6ebf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 19 04:18:40 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1185964 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   | 233 ++++++++++-----------
 .../cassandra/config/DatabaseDescriptorTest.java   |   4 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    | 161 ++------------
 3 files changed, 130 insertions(+), 268 deletions(-)

commit 358769548a9fa451bce605aa518876da53a3dd10
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 19 04:15:15 2011 +0000

    finish fixing changing durable_writes keyspace option during CF creation
    patch by jbellis; reviewed by pyaskevich for CASSANDRA-3292
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1185963 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   | 259 ++++++++++-----------
 .../cassandra/config/DatabaseDescriptorTest.java   |   4 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |  14 +-
 3 files changed, 138 insertions(+), 139 deletions(-)

commit 8b8a928e04bd091a6d774a9d5b9937d2002d7882
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 18 17:19:11 2011 +0000

    r/m obsolete CF/KS rename code
    patch by jbellis; reviewed by pyaskevich for CASSANDRA-3292
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1185761 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 149 +-----------------------
 1 file changed, 6 insertions(+), 143 deletions(-)

commit 3942b06f05b796790a6a5a21ae68dd03c00da803
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Sat Oct 15 20:16:31 2011 +0000

    Fix completely removing column metadata using CLI
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3126
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1183681 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 9574ef562ec43fb11bc11bcdc5015dab63164588
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Oct 14 21:22:14 2011 +0000

    Unify hadoop support for accept CDL for initial thrift address
    Patch by Eldon Stegall, reviewed by brandonwilliams for CASSANDRA-3185
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1183506 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java | 15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit e32c9879a1324e09d445d9cb8d71930359619616
Merge: 78a7ca3 787f9d6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 13 05:14:05 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1182654 13f79535-47bb-0310-9956-ffa450edef68

commit 84eeb28e3c60fee44597f4e4c663472ef147c811
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 13 05:08:15 2011 +0000

    ICompactSerializer* -> I[Versioned]Serializer
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3333
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1182652 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/gms/GossipDigestTest.java |  2 --
 .../org/apache/cassandra/io/CompactSerializerTest.java  |  8 +-------
 .../org/apache/cassandra/net/MessageSerializer.java     | 17 ++++++++++-------
 .../apache/cassandra/utils/LegacyBloomFilterTest.java   |  4 ++--
 .../org/apache/cassandra/utils/SerializationsTest.java  |  6 +++---
 5 files changed, 16 insertions(+), 21 deletions(-)

commit ab95f980f4ea13a60a03b0bdf90479c7c36c54e8
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Oct 12 16:17:02 2011 +0000

    Expire dead gossip states based on time.
    Patch by Jérémy Sevellec, reviewed by Paul Cannon and brandonwilliams
    for CASSANDRA-2961
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1182457 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/LeaveAndBootstrapTest.java      | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit 2ede7fc4beb1c19969700ce5079e8c764740e05a
Author: Eric Evans <eevans@apache.org>
Date:   Mon Oct 10 15:38:37 2011 +0000

    move FBUtils methods for bytes<->hex to separate class
    
    Patch by eevans; reviewed by jbellis for CASSANDRA-3299
    
    Conflicts:
    
    	drivers/java/test/org/apache/cassandra/cql/JdbcDriverTest.java
    	drivers/java/test/org/apache/cassandra/cql/jdbc/PreparedStatementTest.java
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0@1181025 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/RoundTripTest.java |  7 ++-
 .../apache/cassandra/utils/FBUtilitiesTest.java    | 40 -------------
 test/unit/org/apache/cassandra/utils/HexTest.java  | 65 ++++++++++++++++++++++
 .../org/apache/cassandra/utils/MerkleTreeTest.java |  5 +-
 4 files changed, 71 insertions(+), 46 deletions(-)

commit 56492f50329d50c9aabda6a824f856e181657b64
Author: Eric Evans <eevans@apache.org>
Date:   Mon Oct 10 15:21:42 2011 +0000

    move FBUtils methods for bytes<->hex to separate class
    
    Patch by eevans; reviewed by jbellis for CASSANDRA-3299
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1181018 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/RoundTripTest.java |  7 ++-
 .../apache/cassandra/utils/FBUtilitiesTest.java    | 40 -------------
 test/unit/org/apache/cassandra/utils/HexTest.java  | 65 ++++++++++++++++++++++
 .../org/apache/cassandra/utils/MerkleTreeTest.java |  5 +-
 4 files changed, 71 insertions(+), 46 deletions(-)

commit f99ef335b6f509e539d050355f5d994de611d9fc
Merge: 8da48e5 2eba60e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 7 19:13:04 2011 +0000

    merge from 1.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1180164 13f79535-47bb-0310-9956-ffa450edef68

commit 0d9fdad0b515d1c7ce0d1a8abb4bf391e3c44330
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Fri Oct 7 15:29:22 2011 +0000

    Move SimpleAuthenticator and SimpleAuthority to examples/
    patch by slebresne; reviewed by jbellis for CASSANDRA-2922
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1180076 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/auth/SimpleAuthorityTest.java | 84 ----------------------
 1 file changed, 84 deletions(-)

commit 6fa1eaacc7c7bbacffbef264b2120dce1901400f
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Oct 5 22:59:31 2011 +0000

    off-heap cache to use sun.misc.Unsafe instead of JNA
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3271
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1179467 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4bbf048e3761ed4924be7a051f105768ae8f2a1d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 5 18:33:38 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1179370 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RecoveryManagerTruncateTest.java  | 15 ++-------------
 1 file changed, 2 insertions(+), 13 deletions(-)

commit 078a605a5e60e2b138a8b9d41c8d53465360188d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 5 18:26:07 2011 +0000

    backport r1174472 from 1.0.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1179364 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 59dfe48638d864e5be5512ec8db9e516de205be9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 5 18:18:23 2011 +0000

    fix truncate allowing data to be replayed post-restart
    patch by jbellis; reviewed by slebresne for CASSANDRA-3297
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1179359 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RecoveryManagerTruncateTest.java  | 15 ++-------------
 1 file changed, 2 insertions(+), 13 deletions(-)

commit d5311404a00ed458614b186925386dee2e07656f
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Oct 4 17:16:08 2011 +0000

    Fix broken CompressedRandomAccessReaderTest
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3298
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1178868 13f79535-47bb-0310-9956-ffa450edef68

 .../io/compress/CompressedRandomAccessReaderTest.java       | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 7c602fed5318ee90af726794e6e406e14870175c
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Oct 3 20:49:32 2011 +0000

    Fix BootStrapperTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1178571 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 048a4ab9f976fa57f78f8fa14c16efe933b82534
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Oct 3 20:49:32 2011 +0000

    Fix BootStrapperTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1178571 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 3682eb7ec102c12693fba305dbec108897a7d39f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Oct 3 18:40:38 2011 +0000

    better assert failure message
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1178512 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/compress/CompressedRandomAccessReaderTest.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 10786e72571ebe9382970834c95301de661bdf5d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 27 20:36:59 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1176605 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/BytesTypeTest.java | 40 ++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit 445696052d0a488b4ab7c71a2958a058242169eb
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Sep 27 20:13:32 2011 +0000

    FBUtilities.hexToBytes(String) to throw NumberFormatException when string contains non-hex characters
    patch by Jonathan Ellis and Pavel Yaskevich; reviewed by Pavel Yaskevich for (CASSANDRA-3231)
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1176589 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/BytesTypeTest.java | 40 ++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit bab73597ab93bb7477d1a22ebf206e78279232cf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Sep 23 01:01:23 2011 +0000

    wait a few seconds for index to get flagged as built on startup to avoid false negatives
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1174472 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit ea82722776c43967878180199ab54ba485575eb2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 22 22:56:47 2011 +0000

    LazilyCompactedRow and QueryFilter incorrectly claimed their trivial reduce case was trivial
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1174440 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/MergeIteratorTest.java | 5 -----
 1 file changed, 5 deletions(-)

commit 2a585c0942aaab9fde65a836bd887b03f589d3a4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 22 20:08:06 2011 +0000

    add TrivialOneToOne MergeIterator optimization
    patch by jbellis; tested by brandonwilliams for CASSANDRA-3234
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1174361 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/MergeIteratorTest.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit a4f75e2c909c89c504538cd7050602adc3696266
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 22 20:07:28 2011 +0000

    optimize single-source case for MergeIterator
    patch by jbellis; tested by brandonwilliams for CASSANDRA-3234
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1174360 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/utils/MergeIteratorTest.java | 14 +-------------
 1 file changed, 1 insertion(+), 13 deletions(-)

commit ae5722c2379614e4657088cfef38e7bec521c211
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 15 13:46:28 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1171097 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3cccb44e5f10d5bbc6cd1a1dbe9e5c757bb28e99
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Sep 14 12:06:39 2011 +0000

    Allow quoting of the ColumnFamily name in CLI `create column family` statement
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3195
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1170555 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d01f8ddfb3a2ec518bb7b547266bdeaf700a6e6f
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Sep 14 09:18:28 2011 +0000

    Add missing license headers
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1170490 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/ArrayBackedSortedColumnsTest.java  | 21 +++++++++++++++++++++
 .../org/apache/cassandra/net/MessageSerializer.java | 21 +++++++++++++++++++++
 .../org/apache/cassandra/utils/IntervalTest.java    | 21 +++++++++++++++++++++
 .../apache/cassandra/utils/IntervalTreeTest.java    | 21 +++++++++++++++++++++
 4 files changed, 84 insertions(+)

commit c7cdc317c9a14e29699f9842424388aee77d0e1a
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Mon Sep 12 18:41:31 2011 +0000

    Add RowLevel support to secondary index API
    patch by Jason Rutherglen; reviewed by Pavel Yaskevich for CASSANDRA-3147
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1169861 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java           | 2 +-
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit a4b1e10ef5e2b49d6c97840cc7d2d732ed5d9ffa
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Sep 9 21:19:48 2011 +0000

    remove gratuitious and sometimes dangerous overriding of default buffer sizes
    patch by brandonwilliams and jbellis for CASSANDRA-3171
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1167365 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 58df830e4193897d606f05ca3bd9ce23a6a05f20
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Sep 9 16:49:35 2011 +0000

    add int/int32 data type
    patch by Radim Kolar; reviewed by jbellis for CASSANDRA-3031
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-1.0.0@1167287 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  9 +++++++++
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 22 +++++++++++-----------
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  4 ++--
 .../apache/cassandra/db/RemoveSuperColumnTest.java |  8 ++++----
 test/unit/org/apache/cassandra/db/TableTest.java   |  4 ++--
 .../apache/cassandra/db/marshal/RoundTripTest.java | 11 +++++++++++
 .../cassandra/db/marshal/TypeCompareTest.java      | 22 ++++++++++++++++++++++
 .../cassandra/db/marshal/TypeValidationTest.java   |  9 ++++++++-
 8 files changed, 69 insertions(+), 20 deletions(-)

commit ceabffaa22ece914c989a40a2e4e852cf26d91fe
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 8 17:36:26 2011 +0000

    remove isMajor compaction designation
    patch by jbellis; reviewed by Tupshin Harper and Ben Coverston for CASSANDRA-3154
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1166822 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/io/LazilyCompactedRowTest.java | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit fa212738583856895f7de79d17914eb570a2faaa
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 8 16:31:27 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1166779 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java    |  6 +--
 .../cassandra/thrift/ThriftValidationTest.java     | 62 ++++++++++++++++++++--
 2 files changed, 61 insertions(+), 7 deletions(-)

commit b788d192ffd106bb4f5adec0408dc99de13eb090
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 8 03:36:40 2011 +0000

    remove explicit per-CF memtable thresholds
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2449
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1166520 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 2 --
 1 file changed, 2 deletions(-)

commit 1ce8b0ddfbbd7a2723bb5e8af44cad2482e1edbb
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Sep 7 20:07:38 2011 +0000

    Fix inconsistency of the CLI syntax when {} should be used instead of [{}]
    patch by Jake Luciani; reviewed by Pavel Yaskevich for CASSANDRA-3119
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1166367 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 1 +
 1 file changed, 1 insertion(+)

commit f14980d6090c67e8a6c2d20ccd4a202b541c6cdd
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Sep 7 17:29:53 2011 +0000

    Use TreeMap backed column families for the SSTable simple writers
    patch by slebresne; reviewed by jbellis for CASSANDRA-3148
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1166283 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ArrayBackedSortedColumnsTest.java  | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit fbf32cae91705cad2a000ce6e9745f14804175c2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 7 16:31:52 2011 +0000

    parallel compaction
    patch by jbellis; reviewed by slebresne for CASSANDRA-2901
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1166255 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/LazilyCompactedRowTest.java       | 78 ++++++++++++++--------
 1 file changed, 51 insertions(+), 27 deletions(-)

commit 9404c65f72b3334c5a44e525401a8959e3aa6f00
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 6 13:56:48 2011 +0000

    fix build after rename snafu
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1165672 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6c467fd6718f59757234d32e604dfd9a13d4a296
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 6 13:37:15 2011 +0000

    retry two renames
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1165666 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a8ed29baec96c76bbfda1d878758e82b0323d0e7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 6 13:28:31 2011 +0000

    move *Term to Jdbc*
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1165661 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/marshal/RoundTripTest.java     | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit c11eeb43a49af512e6da64e32731840b265f0ae9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 6 13:28:09 2011 +0000

    remove ATerm.isCommutative and AType.toString
    patch by jbellis; reviewed by eevans for CASSANDRA-2936
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1165660 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/RoundTripTest.java | 22 ++++++++++++----------
 1 file changed, 12 insertions(+), 10 deletions(-)

commit fd53a7efb4fa950967c0ca4d60d741f51315a9ef
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Mon Sep 5 22:21:01 2011 +0000

    Prevent users from creating keyspaces with LocalStrategy replication
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3139
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1165438 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java    |  5 +-
 .../cassandra/thrift/ThriftValidationTest.java     | 62 +++++++++++++++++++---
 2 files changed, 58 insertions(+), 9 deletions(-)

commit f11cbee59173ceb051af8f499e14f5d97a8f39c9
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Sep 5 09:26:36 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1165219 13f79535-47bb-0310-9956-ffa450edef68

 .../io/sstable/SSTableSimpleWriterTest.java        | 104 +++++++++++++++++++++
 1 file changed, 104 insertions(+)

commit a8c6e6224324a48eadf60a10d2181828a3fae4e4
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Sep 5 09:23:54 2011 +0000

    Add missing file and fix type from CASSANDRA-3122 commit
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1165218 13f79535-47bb-0310-9956-ffa450edef68

 .../io/sstable/SSTableSimpleWriterTest.java        | 104 +++++++++++++++++++++
 .../cassandra/io/sstable/SSTableWriterTest.java    |   2 +-
 2 files changed, 105 insertions(+), 1 deletion(-)

commit e4e19931e228d24988b37c2dd21429126551ddf0
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Fri Sep 2 10:24:21 2011 +0000

    Make repair of a range sync all replica pairs for this range
    patch by slebresne; reviewed by jbellis for CASSANDRA-2610
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1164463 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/CompactSerializerTest.java |  1 +
 .../service/AntiEntropyServiceTestAbstract.java    | 31 ++++++----------------
 2 files changed, 9 insertions(+), 23 deletions(-)

commit 01f32820fba5d036adf6f491a49a1cf431e12dc2
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Sep 1 13:22:17 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1164072 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/ReversedTypeTest.java     | 40 ++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit 7cf0efc0d65028e7cf6730fe38b9e8b2a5638c97
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Sep 1 13:19:54 2011 +0000

    Add file missing from previous commit
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1164069 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/ReversedTypeTest.java     | 40 ++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit c8afd769e5baec91f20508d0a37bf1bba93f09ff
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Aug 31 20:30:20 2011 +0000

    Make the compression algorithm and chunk length configurable
    patch by Sylvain Lebresne; reviewed by Pavel Yaskevich for CASSANDRA-3001
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1163801 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java             |  4 +++-
 .../io/compress/CompressedRandomAccessReaderTest.java        | 12 ++++++------
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 3893f24098c3d82dc31571f0b6841e2d5821ea74
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 31 19:33:03 2011 +0000

    generate hints for replicas that timeout
    patch by Patricio Echague and jbellis for CASSANDRA-2034
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1163760 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/ConsistencyLevelTest.java    | 43 ++++++++++++----------
 .../org/apache/cassandra/service/RemoveTest.java   |  1 +
 2 files changed, 24 insertions(+), 20 deletions(-)

commit 994a03cdee262e533d42422084f5066bc8cc7cbf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 31 18:17:06 2011 +0000

    add delay parameter to removeToken so RemoveTest doesn't have to wait for full RING_DELAY
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1163731 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8db70007843cc5ba2becccfb64ad909a5792b5a9
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Aug 31 16:24:13 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1163685 13f79535-47bb-0310-9956-ffa450edef68

 .../service/AntiEntropyServiceTestAbstract.java    | 26 ++++++++++++----------
 1 file changed, 14 insertions(+), 12 deletions(-)

commit dec9eec41f7a1c060db8a6bc946aa012c81b73f0
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Aug 31 16:06:09 2011 +0000

    Make repair report failure when a participating node dies
    patch by slebresne; reviewed by jbellis for CASSANDRA-2433
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1163677 13f79535-47bb-0310-9956-ffa450edef68

 .../service/AntiEntropyServiceTestAbstract.java    | 26 ++++++++++++----------
 1 file changed, 14 insertions(+), 12 deletions(-)

commit 2ec8621a02e8b6c8b8107b86c3987c604e92ac69
Merge: 16d7385 51d20ba
Author: T Jake Luciani <jake@apache.org>
Date:   Tue Aug 30 15:16:03 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1163255 13f79535-47bb-0310-9956-ffa450edef68

commit 16d73851665146c763b24c947e7a157fe24e666b
Author: T Jake Luciani <jake@apache.org>
Date:   Tue Aug 30 14:25:53 2011 +0000

    Pluggable Secondary Index Implementations
    patch by tjake; reviewed by jbellis for CASSANDRA-3078
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1163228 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java                | 6 ++++--
 test/unit/org/apache/cassandra/cli/CliTest.java                 | 1 +
 test/unit/org/apache/cassandra/config/ColumnDefinitionTest.java | 2 ++
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java    | 2 +-
 test/unit/org/apache/cassandra/db/DefsTest.java                 | 4 ++--
 5 files changed, 10 insertions(+), 5 deletions(-)

commit ea5a3d15f03802c38eed19e8f9a0011ceccedf6e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 30 05:50:30 2011 +0000

    fix corner cases in Range.differenceToFetch
    patch by Tyler Hobbs; reviewed by Stu Hood for CASSANDRA-3084
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1163090 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/RangeTest.java | 151 +++++++++++++++++++++-
 1 file changed, 148 insertions(+), 3 deletions(-)

commit 0a4b1667bee674f7c0a22057cbdab97e368a20d1
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Mon Aug 29 12:53:02 2011 +0000

    Improvements of the CLI `describe` command
    patch by satishbabu; reviewed by xedin for CASSANDRA-2630
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1162775 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bfac864064d19562ed9b50a94af8133fde075ac3
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Sun Aug 28 11:06:17 2011 +0000

    Fix parsing of the Keyspace and ColumnFamily names in numeric and string representations in CLI
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3075
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1162495 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 105 +++++++++++++-----------
 1 file changed, 56 insertions(+), 49 deletions(-)

commit 3d4e07f7eccd607529c9323c2b0a474e76f1d6ce
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 26 21:31:35 2011 +0000

    wip
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1162266 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java         | 1 -
 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 3 ++-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f0ee59d4c08d97119da4acd8815eef4f93311a3f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 26 19:55:25 2011 +0000

    add LeveledCompactionStrategy (take 2)
    patch by Ben Coverston; reviewed by jbellis for CASSANDRA-1608
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1162223 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/utils/IntervalTest.java   | 48 ++++++++++++++
 .../apache/cassandra/utils/IntervalTreeTest.java   | 73 ++++++++++++++++++++++
 2 files changed, 121 insertions(+)

commit f9497f4b4c18c6c47ebf14c525bdce4c1f0fe1ed
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 26 19:39:04 2011 +0000

    Revert "add LeveledCompactionStrategy"
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1162220 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/utils/IntervalTest.java   | 48 --------------
 .../apache/cassandra/utils/IntervalTreeTest.java   | 73 ----------------------
 2 files changed, 121 deletions(-)

commit ed0df5f4786854a7cc9596c43925156629fd1ba2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 26 19:31:11 2011 +0000

    add LeveledCompactionStrategy
    patch by Ben Coverston; reviewed by jbellis for CASSANDRA-1608
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1162217 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/utils/IntervalTest.java   | 48 ++++++++++++++
 .../apache/cassandra/utils/IntervalTreeTest.java   | 73 ++++++++++++++++++++++
 2 files changed, 121 insertions(+)

commit 38a55bab7ee054bce83028b5f0abda3e9e9e7ebf
Author: T Jake Luciani <jake@apache.org>
Date:   Fri Aug 26 15:43:39 2011 +0000

    Change cli to use hashes rather than array of hashes for strategy options
    Patch by tjake; reviewed by xedin for CASSANDRA-3081
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1162143 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 38e3e85b121ba6308ba3ceb26312d12ed0d609ec
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Aug 24 18:52:23 2011 +0000

    Clean up KSMetadata, CFMetadata from unnecessary Thrift<->Avro conversion methods
    patch by Jonathan Ellis and Pavel Yaskevich; reviewed by Pavel Yaskevich for CASSANDRA-3032
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1161230 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   |  2 +-
 .../apache/cassandra/config/CFMetaDataTest.java    | 91 ++++++++++++++++++++++
 .../cassandra/config/ColumnDefinitionTest.java     |  2 +-
 .../cassandra/config/DatabaseDescriptorTest.java   |  4 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    | 12 +--
 .../cassandra/thrift/ThriftValidationTest.java     |  4 +-
 6 files changed, 103 insertions(+), 12 deletions(-)

commit 7b532bcada7959f6ba04618f427f1b9dfe17ecd1
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Mon Aug 22 23:16:04 2011 +0000

    Refactoring of the DatabaseDescriptor/CFMetadata/Table to support o.a.c.config.Schema which will be handling all schema quering/mutations
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-1391
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1160494 13f79535-47bb-0310-9956-ffa450edef68

 .../db/compaction/LongCompactionSpeedTest.java     |  16 +--
 test/unit/org/apache/cassandra/SchemaLoader.java   |   9 +-
 .../cassandra/config/DatabaseDescriptorTest.java   |  32 +++---
 test/unit/org/apache/cassandra/db/DefsTest.java    | 114 ++++++++++-----------
 .../apache/cassandra/db/SerializationsTest.java    |   6 +-
 .../cassandra/db/migration/SerializationsTest.java |   9 +-
 .../org/apache/cassandra/dht/BootStrapperTest.java |   4 +-
 .../cassandra/locator/SimpleStrategyTest.java      |   9 +-
 .../service/AntiEntropyServiceTestAbstract.java    |   4 +-
 .../cassandra/service/ConsistencyLevelTest.java    |   6 +-
 .../cassandra/service/LeaveAndBootstrapTest.java   |   8 +-
 .../org/apache/cassandra/service/MoveTest.java     |   9 +-
 .../cassandra/thrift/ThriftValidationTest.java     |  13 +--
 13 files changed, 102 insertions(+), 137 deletions(-)

commit 791a78f92c8318991cd9207bbca99b470174044a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Aug 21 04:50:55 2011 +0000

    Stop reading from sstables once we know we have the most recent columns
    patch by Daniel Lundin and jbellis for CASSANDRA-2498
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1159942 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 34 ++++++++++++++++++++--
 .../cassandra/db/compaction/CompactionsTest.java   |  4 +++
 2 files changed, 35 insertions(+), 3 deletions(-)

commit ef485a24f2e8f756c4665a36703eed372f01091b
Merge: db2d62c 351c024
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 19 22:59:04 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1159814 13f79535-47bb-0310-9956-ffa450edef68

commit 8a8e1746dd4b4cebadd1543371bfef013233324d
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Fri Aug 19 15:00:55 2011 +0000

    Fix of numeric-only and string column names handling in CLI "drop index"
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3054
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1159657 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 055a98ebf1d9e9fa8cc349024c94384d715fcfb3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 19 01:59:22 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1159474 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/thrift/ThriftValidationTest.java     | 106 +++++++++++++++++++++
 1 file changed, 106 insertions(+)

commit a9e9b720fb04aa7218a0815ea4cfeaa1ef60c065
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 19 01:54:25 2011 +0000

    return an InvalidRequestException if an indexed column is assigned a value larger than 64K
    patch by pyaskevich and jbellis for CASSANDRA-3057
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1159473 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/thrift/ThriftValidationTest.java     | 57 ++++++++++++++++++++++
 1 file changed, 57 insertions(+)

commit 6139767e9095fecabf38cade374a3817f9858be8
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Wed Aug 17 22:17:03 2011 +0000

    Validate that column names in column_metadata does not equal to key_alias on create/update of the ColumnFamily and CQL 'ALTER' statement.
    patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3036
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1158939 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/thrift/ThriftValidationTest.java     | 49 ++++++++++++++++++++++
 1 file changed, 49 insertions(+)

commit b95a49c5f9e22225fc0ebc703fd62bd8241bd9d7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 17 21:52:41 2011 +0000

    Arena allocation for memtables
    patch by jbellis and stuhood for CASSANDRA-2252
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1158927 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/ArrayBackedSortedColumnsTest.java |  20 +--
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |   5 +-
 .../org/apache/cassandra/db/CounterColumnTest.java |  21 ++-
 .../apache/cassandra/db/CounterMutationTest.java   |   2 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |   2 +-
 .../unit/org/apache/cassandra/db/TimeSortTest.java |   4 +-
 .../cassandra/db/context/CounterContextTest.java   | 163 +++++++++++++--------
 7 files changed, 129 insertions(+), 88 deletions(-)

commit 9d63eb06478eca193216e3fca368520429aee266
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 17 19:18:03 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1158878 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/tools/SSTableImportTest.java  | 30 ++++++++++++++--------
 1 file changed, 19 insertions(+), 11 deletions(-)

commit 38258ed6cf7411edf90a46d53cdcb955619a4438
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 17 13:22:24 2011 +0000

    fix SSTIT on Windows
    patch by Vladimir Loncar; reviewed by jbellis for CASSANDRA-3043
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1158693 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/tools/SSTableImportTest.java  | 30 ++++++++++++++--------
 1 file changed, 19 insertions(+), 11 deletions(-)

commit 4deb77971a43cf5a55bd2e2835255ff044137fc5
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Aug 16 20:47:22 2011 +0000

    Fix missing logging for some exceptions
    patch by Jonathan Ellis; reviewed by Pavel Yaskevich for CASSANDRA-2061
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1158439 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/locator/DynamicEndpointSnitchTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e987e3b88fb8ca88d1c69bbe48235dd770d8042a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 15 20:45:38 2011 +0000

    default auto_bootstrap to true and remove from example configuration
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2477
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1158005 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java                      | 2 +-
 test/unit/org/apache/cassandra/dht/BootStrapperTest.java                | 2 +-
 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java    | 2 +-
 test/unit/org/apache/cassandra/service/StorageServiceServerTest.java    | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 89699a67a1732210cfdbdc316883c51e00b80df5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Aug 14 02:48:34 2011 +0000

    add non-interactive mode and lazy help loading to cli
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1157457 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit f9d057edbd56776f73c83a3998664f1334c32a17
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Aug 13 06:00:42 2011 +0000

    remove assumption that buffers are array-backed from CFSTest
    patch by jbellis
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1157332 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java   | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 4069d8af44241b84cfdfa60dc362868ef5241ecf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 11 19:36:06 2011 +0000

    make sure truncate clears out the commitlog
    patch by jbellis; reviewed by slebresne for CASSANDRA-2950
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1156763 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RecoveryManagerTruncateTest.java | 1 +
 1 file changed, 1 insertion(+)

commit f599559221ad074d9af0a99d7ffdd482c2b6b10c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 11 19:29:34 2011 +0000

    make sure pre-truncate CL segments are discarded
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1156757 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RecoveryManagerTruncateTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 621d1f98639369717b6d09f8dd066b2a2d129e09
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Thu Aug 11 10:54:34 2011 +0000

    Refactoring of the secondary index api
    patch by Jake Luciani; reviewed by Pavel Yaskevich for CASSANDRA-2982
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1156567 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java | 19 +++----
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 65 +++++++++++-----------
 test/unit/org/apache/cassandra/db/DefsTest.java    |  4 +-
 .../cassandra/streaming/StreamingTransferTest.java |  2 +-
 4 files changed, 45 insertions(+), 45 deletions(-)

commit 79cf5f639513703bb54403defa7f8037561fdad7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 9 18:40:54 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1155466 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 016068ab27cd6735309e44837b09d77a2387d4c2
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Aug 9 16:34:49 2011 +0000

    Make ColumnFamily backing column map pluggable and introduce unsynchronized ArrayList backed map for reads
    patch by slebresne; reviewed by jbellis for CASSANDRA-2843
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1155426 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/ArrayBackedSortedColumnsTest.java | 130 +++++++++++++++++++++
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   4 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |   2 +-
 .../service/AntiEntropyServiceTestAbstract.java    |   2 +-
 .../cassandra/streaming/StreamingTransferTest.java |   4 +-
 5 files changed, 136 insertions(+), 6 deletions(-)

commit ba1821f87c0e757a4a1882d071c99952b7bd4695
Author: Pavel Yaskevich <xedin@apache.org>
Date:   Tue Aug 9 16:02:29 2011 +0000

    Add block level checksum for compressed data
    patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-1717
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1155420 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           | 23 ++++++
 .../compress/CompressedRandomAccessReaderTest.java | 89 ++++++++++++++++++++++
 .../io/util/BufferedRandomAccessFileTest.java      | 26 +------
 3 files changed, 115 insertions(+), 23 deletions(-)

commit 8a8a2bd2e2c2f7a562914d860d389456b6d57475
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Aug 8 21:08:04 2011 +0000

    Add 'show creates' commands to the cli to export schema.
    Patch by Aaron Morton, reviewed by xedin for CASSANDRA-2221
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1155100 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 53dc854ba75612213f88ce50c48c5874205a3868
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Aug 7 01:51:44 2011 +0000

    refactor CompactionIterator -> CompactionIterable
    patch by jbellis; reviewed by slebresne for CASSANDRA-2901
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1154635 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 26dfdac558a32c41b366ae6ba5afd5e00a3eda5e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 5 20:22:29 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1154371 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit e11fe50bc74a644a97908b84e80a568b2a9e5f35
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 5 20:19:45 2011 +0000

    refactorings and corner-case bug fixes:
    - avoid modifying the List of rows after passing it to a LazilyCompactedRow
    - account for possibility that all data compacted by LCR has expired
    - clean up code duplication around shouldPurge cleanup
    patch by jbellis; reviewed by slebresne for CASSANDRA-2901
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1154369 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 0fe7942804373e2b970b91c670542eb0bcf5aaee
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 5 15:43:58 2011 +0000

    fix tracker getting out of sync with underlying data source
    patch by jbellis; reviewed by slebresne for CASSANDRA-2901
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1154274 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/BytesReadTrackerTest.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 4ebba00095cb428c6d9ba9d3eb0f7e3b173b90da
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 4 04:33:24 2011 +0000

    improve test logging
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1153750 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit c715b6d9be15c637dddd156456616bb4cf598c47
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Aug 3 21:40:34 2011 +0000

    Reduce copies on read/write paths.
    Patch by jbellis reviewed by brandonwilliams for CASSANDRA-1788
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1153678 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/SerializationsTest.java    | 69 +++++++++++-----------
 .../apache/cassandra/net/MessageSerializer.java    | 28 +++++++++
 .../cassandra/service/SerializationsTest.java      | 32 +++++-----
 .../cassandra/streaming/SerializationsTest.java    | 19 +++---
 4 files changed, 92 insertions(+), 56 deletions(-)

commit 90548386ef011c016bac70c4876ac51ddab648cf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 2 22:05:34 2011 +0000

    fix race between reference-counted cleanup and scrub in DefsTest
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1153289 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c024da47b4f975e2005a93d7f5c8add651a679f5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 2 21:43:55 2011 +0000

    fix readChar and skipBytes in BytesReadTracker
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1153279 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/utils/BytesReadTrackerTest.java   | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 1ecabe6842472f1793eafe2492b648823d8e4f83
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Aug 2 17:28:55 2011 +0000

    Add optional compression for sstables
    patch by xedin; reviewed by slebresne for CASSANDRA-47
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1153210 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   | 14 ++++
 test/unit/org/apache/cassandra/db/TableTest.java   |  3 +-
 .../compress/CompressedRandomAccessReaderTest.java | 90 ++++++++++++++++++++++
 .../apache/cassandra/io/sstable/SSTableTest.java   |  5 +-
 4 files changed, 107 insertions(+), 5 deletions(-)

commit 058a6ac0e444512f7306097a2f8302690629c2ee
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 2 16:54:38 2011 +0000

    merge #2951 from trunk (r1151625, r1152416)
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1153190 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 640deaa8746631d3b3a6e278ab7a913c83f69c2b
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Aug 2 15:05:50 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1153157 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   |  3 +-
 .../apache/cassandra/db/CounterMutationTest.java   | 60 ++++++++++++++++++++++
 2 files changed, 62 insertions(+), 1 deletion(-)

commit caea7ffd6b7e71bd6bb12409cb619545d30366c2
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Aug 2 15:02:10 2011 +0000

    Fix assertion error during compaction of counter CFs
    patch by slebresne; reviewed by jbellis for CASSANDRA-2968
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1153156 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   |  3 +-
 .../apache/cassandra/db/CounterMutationTest.java   | 60 ++++++++++++++++++++++
 2 files changed, 62 insertions(+), 1 deletion(-)

commit 826eab0e457841c2209742e3d0e56fd87225f5ca
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Aug 1 14:47:04 2011 +0000

    Merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1152808 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CounterMutationTest.java   | 35 ++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 8906a0aab5f3a1630c63a18f0a5ae158490530fb
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Aug 1 14:31:36 2011 +0000

    Merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1152799 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 70 ++++++++++++++++++++++
 1 file changed, 70 insertions(+)

commit ea9a74370e211ff37a8099fb4f03c89894d58a9b
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Aug 1 14:26:24 2011 +0000

    don't throw exception on batch of counter super columns
    patch by slebresne; reviewed by soverton for CASSANDRA-2949
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1152795 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CounterMutationTest.java   | 66 ++++++++++++++++++++++
 1 file changed, 66 insertions(+)

commit e37a12a7c1bb6e3ab7c15a906c778cc15702c64e
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Aug 1 14:22:50 2011 +0000

    fix bug where dirty commit logs were removed (and avoid keeping segment with no post-flush activity permanently dirty)
    patch by slebresne; reviewed by jbellis for CASSANDRA-2829
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1152793 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 70 ++++++++++++++++++++++
 1 file changed, 70 insertions(+)

commit c6741f30fa448906a27b976a03559d23e77ccfed
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Jul 30 02:29:32 2011 +0000

    create FM objects w/ reference count of one
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1152416 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit bf436b05180b44e2c7f950ffb017607e03b41550
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Fri Jul 29 17:02:38 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1152303 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/utils/ByteBufferUtilTest.java    | 19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit a7595918ec46a5dfa24c216418596ab462356692
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Fri Jul 29 15:33:19 2011 +0000

    Speedup bytes to hex conversions dramatically
    patch by dallsopp; reviewed by slebresne for CASSANDRA-2850
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1152265 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/utils/ByteBufferUtilTest.java    | 19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit 6bdc779f723e67cc129321b3dc28ce6daa4db4cc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 29 05:47:31 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1152111 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/RemoveTest.java   | 60 ----------------------
 1 file changed, 60 deletions(-)

commit d505bdef60f250cf9c688269c3fac5ef2b4d9100
Merge: 99f0cf7 8efd368
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 29 05:09:59 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1152107 13f79535-47bb-0310-9956-ffa450edef68

commit d033b1f8e79db07416f075fe84c72406a21e4393
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Jul 27 18:42:32 2011 +0000

    Remove obsolete tests for removetoken
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1151587 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/RemoveTest.java   | 59 ----------------------
 1 file changed, 59 deletions(-)

commit cb2ff66af9b5a0b54a6ca70231319de1b7a1d7b0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jul 27 01:43:16 2011 +0000

    speed up unit tests by one minute
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1151308 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/InitClientTest.java           | 2 +-
 test/unit/org/apache/cassandra/service/StorageServiceClientTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 474547cf16aad0d97bfa455d864340ee1c44e1a4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 26 18:58:24 2011 +0000

    stop reading cache after max size-to-save is reached
    patch by Chris Burroughs; reviewed by jbellis for CASSANDRA-2082
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1151211 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RowCacheTest.java | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit e688815e5a05ba75b7a78c2da58d11a22d95b65c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 26 18:42:37 2011 +0000

    add row_cache_keys_to_save CF option
    patch by Chris Burroughs; reviewed by jbellis for CASSANDRA-1966
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1151205 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  2 +-
 .../unit/org/apache/cassandra/db/RowCacheTest.java | 45 ++++++++++++++++++----
 2 files changed, 38 insertions(+), 9 deletions(-)

commit 4b0192a30073c8a00940a054ae4bc84dd6d8bbf7
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Jul 26 08:42:42 2011 +0000

    Remove files forgotten by #2920 commit
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1151019 13f79535-47bb-0310-9956-ffa450edef68

 .../io/sstable/SSTableWriterCommutativeTest.java   | 218 ---------------------
 .../cassandra/io/sstable/SSTableWriterTest.java    | 173 ----------------
 2 files changed, 391 deletions(-)

commit 9f925e92215069b7ef8f3551d19dc4a57b06ba6e
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Jul 26 08:30:06 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1151018 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/AntiEntropyServiceTestAbstract.java | 15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit ea44997bd223d8da580cf93fbc54f13ba8011815
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 26 04:30:43 2011 +0000

    Remove SSTableWriter.Builder
    patch by jbellis and stuhood; reviewed by Yuki Morishita for CASSANDRA-2920
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1150984 13f79535-47bb-0310-9956-ffa450edef68

 .../db/compaction/LongCompactionSpeedTest.java     |  87 ----------
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  45 ++++++
 .../cassandra/streaming/StreamingTransferTest.java | 179 +++++++++++++++++----
 3 files changed, 189 insertions(+), 122 deletions(-)

commit cc69205024c38532a0208ebfa67ac4114d202a93
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Jul 25 16:11:58 2011 +0000

    Add unit test for CounterMutationTest
    patch by slebresne; reviewed by jbellis for CASSANDRA-2945
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1150765 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   |  3 +-
 .../apache/cassandra/db/CounterMutationTest.java   | 76 ++++++++++++++++++++++
 2 files changed, 78 insertions(+), 1 deletion(-)

commit d3890470cf71fbad887a5c4bc256bbdce92c654a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 22 14:56:25 2011 +0000

    split BRAF into RandomAccessReader and SequentialWriter
    patch by pyaskevich and jbellis for CASSANDRA-2921
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1149628 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/LongTableTest.java     |  18 +-
 test/unit/org/apache/cassandra/db/TableTest.java   |   5 +-
 .../apache/cassandra/io/sstable/SSTableTest.java   |   7 +-
 .../io/sstable/SSTableWriterCommutativeTest.java   |  16 +-
 .../io/util/BufferedRandomAccessFileTest.java      | 495 ++++++++++-----------
 5 files changed, 238 insertions(+), 303 deletions(-)

commit ad04bf7927ed3af1af560d515d1ebd5219385d15
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 22 14:41:23 2011 +0000

    belatedly add BRTT
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1149623 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/utils/BytesReadTrackerTest.java      | 209 +++++++++++++++++++++
 1 file changed, 209 insertions(+)

commit 365f11ce06c5b196f08851a9d89c122c24941743
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Jul 21 11:11:50 2011 +0000

    Properly synchronize merkle tree computation
    patch by slebresne; reviewed by jbellis for CASSANDRA-2816
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1149121 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/AntiEntropyServiceTestAbstract.java | 15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit 04c0b8143e90d5470823fc35ed1ff5f83371ed72
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Jul 21 09:12:06 2011 +0000

    Use reference counting to delete sstables instead of relying on the GC
    patch by slebresne; reviewed by jbellis for CASSANDRA-2521
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1149085 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java       | 5 +++++
 test/unit/org/apache/cassandra/streaming/SerializationsTest.java  | 3 ++-
 .../org/apache/cassandra/streaming/StreamingTransferTest.java     | 8 ++++++++
 3 files changed, 15 insertions(+), 1 deletion(-)

commit 466ff41a7d9449330dfd869f309c25988671090d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 18 19:56:32 2011 +0000

    ensure that we never estimate 0 keys when streaming non-empty ranges
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-2916
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1148029 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit b803c37852d6c2e9bae60284e739c3b2e95265f1
Merge: 273c538 83f9f45
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 18 13:32:48 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1147869 13f79535-47bb-0310-9956-ffa450edef68

commit c5fb79b77576cbdb84496aacc4d4417b05e20f9d
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 15 22:17:58 2011 +0000

    Proper support of key validation class and function calls for COUNT in
    the cli.
    Patch by Pavel Yaskevich, reviewed by brandonwilliams for CASSANDRA-2902
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1147336 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 4 ++++
 1 file changed, 4 insertions(+)

commit ab72dc9270bc14235ea81f7fc73da1b780f657e5
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 15 17:33:50 2011 +0000

    Proper function support and key validation for cli deletes.
    Patch by Pavel Yaskevich, reviewed by brandonwilliams for CASSANDRA-2821
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1147259 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 65dcec661a1cade3ccd5adb1fa0b47b5df7b972d
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 15 17:33:41 2011 +0000

    Fix column deletion in the cli.
    Patch by Pavel Yaskevich, reviewed by brandonwilliams for CASSANDRA-2821
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1147258 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 273c53831faede08b6f539ea80517a454ab50a3a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 14 14:32:16 2011 +0000

    add test for including supercolumn tombstone time in max timestamp computation
    patch by Daniel Doubleday; reviewed by jbellis for CASSANDRA-2753
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1146732 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/SSTableWriterTest.java    | 41 +++++++++++++++++++---
 1 file changed, 37 insertions(+), 4 deletions(-)

commit 5a7c2e52d122bfee3c20431a333b42e73e4cc9e0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 8 18:15:49 2011 +0000

    r/m @author tags
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1144412 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RecoveryManagerTruncateTest.java | 3 ---
 1 file changed, 3 deletions(-)

commit 42ebfb15951b7795c9dbb4e7f8f73640e582d25b
Merge: da6369b 2d2105d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 8 18:13:45 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1144411 13f79535-47bb-0310-9956-ffa450edef68

commit 92eb4a149859b9d0efedb5fa5d69b67686078916
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Jul 7 14:35:03 2011 +0000

    Updates for 0.7.7 release
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1143847 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/locator/EC2SnitchTest.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit da6369b4daae24e3114b0501929b3605c7a3a3ce
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 7 01:50:40 2011 +0000

    track max client timestamp per-sstable
    patch by Alan Liang; reviewed by jbellis for CASSANDRA-2753
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1143627 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |   7 +-
 test/unit/org/apache/cassandra/db/CleanupTest.java |  17 ++++
 .../cassandra/db/compaction/CompactionsTest.java   |  75 ++++++++++++++-
 .../io/sstable/SSTableMetadataSerializerTest.java  |  73 ++++++++++++++
 .../io/sstable/SSTableWriterCommutativeTest.java   | 107 +++++++++++++++++++--
 .../cassandra/io/sstable/SSTableWriterTest.java    |  51 +++++++++-
 6 files changed, 311 insertions(+), 19 deletions(-)

commit 9075d8988d7d5f99e5358f4ade97e68f5758904a
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Jul 6 12:17:23 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1143372 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  8 ++++
 .../cassandra/db/compaction/CompactionsTest.java   | 45 +++++++++++++++++-----
 2 files changed, 44 insertions(+), 9 deletions(-)

commit bc4dd9335f947eceb90f00581b01bd6533ff523e
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Jul 6 11:34:50 2011 +0000

    Handle row tombstones correctly in EchoedRow
    patch by slebresne; reviewed by jbellis for CASSANDRA-2786
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1143352 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/compaction/CompactionsTest.java   | 46 +++++++++++++++++-----
 1 file changed, 37 insertions(+), 9 deletions(-)

commit 5b8dc3a0dc20a1d09e64c91c20f6f931e7146016
Merge: d64e805 8e701e0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 4 16:23:36 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1142729 13f79535-47bb-0310-9956-ffa450edef68

commit 2c8d2013950575eaff87941073a5fc769328fcff
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Jul 4 14:36:11 2011 +0000

    Reset CF and SC deletion time after gc_grace
    patch by slebresne; reviewed by jbellis for CASSANDRA-2317
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1142690 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RowTest.java     |  2 +-
 .../db/compaction/CompactionsPurgeTest.java        | 96 +++++++++++++++++++++-
 .../apache/cassandra/service/RowResolverTest.java  |  2 +-
 3 files changed, 97 insertions(+), 3 deletions(-)

commit c2bc2240c65d5108103a197546f69ba3c7f8d43f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 30 01:02:33 2011 +0000

    add additional tests for #2773
    patch by Jim Ancona; reviewed by jbellis for CASSANDRA-2773
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1141354 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 127c02856d297ee9d2584227549b64f48414f6a2
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Jun 29 18:55:50 2011 +0000

    Add new config paramter, broadcast_address.
    Patch by Vijay Parthasarathy, reviewed by brandonwilliams.
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1141194 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java                   | 4 ++--
 test/unit/org/apache/cassandra/db/RowIterationTest.java           | 2 +-
 test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java  | 2 +-
 .../org/apache/cassandra/db/marshal/DynamicCompositeTypeTest.java | 2 +-
 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java      | 4 ++--
 .../org/apache/cassandra/db/migration/SerializationsTest.java     | 2 +-
 test/unit/org/apache/cassandra/dht/BootStrapperTest.java          | 2 +-
 test/unit/org/apache/cassandra/gms/SerializationsTest.java        | 2 +-
 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java     | 2 +-
 .../org/apache/cassandra/locator/DynamicEndpointSnitchTest.java   | 2 +-
 .../apache/cassandra/service/AntiEntropyServiceTestAbstract.java  | 8 ++++----
 test/unit/org/apache/cassandra/service/RemoveTest.java            | 8 ++++----
 test/unit/org/apache/cassandra/service/SerializationsTest.java    | 6 +++---
 test/unit/org/apache/cassandra/streaming/SerializationsTest.java  | 6 +++---
 .../org/apache/cassandra/streaming/StreamingTransferTest.java     | 2 +-
 15 files changed, 27 insertions(+), 27 deletions(-)

commit 4d2dba49163e35944c47e525a27b010e40314525
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 28 17:59:21 2011 +0000

    revert r1133167 (#2280)
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1140760 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/SerializationsTest.java  | 8 ++++----
 .../org/apache/cassandra/streaming/StreamingTransferTest.java     | 2 ++
 2 files changed, 6 insertions(+), 4 deletions(-)

commit e17513b927522a4182e9812100979bb37ccb51d9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 23 05:49:35 2011 +0000

    clean up tmpfiles after failed compaction
    patch by Aaron Morton; reviewed by slebresne and Stu Hood for CASSANDRA-2468
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1138740 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4ac5d67a7f98ceadc89f68a05b49487c5ece9ddf
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Jun 21 18:06:55 2011 +0000

    Merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1138113 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/compaction/CompactionsTest.java   | 55 ++++++++++++++++++++--
 1 file changed, 51 insertions(+), 4 deletions(-)

commit 3291647a96efe6265ed905b0fe2144e5370bb5c6
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Jun 21 12:51:34 2011 +0000

    Fix wrong purge of deleted cf during compaction
    patch by slebresne; reviewed by jbellis for CASSANDRA-2786
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1137984 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/compaction/CompactionsTest.java   | 56 ++++++++++++++++++++--
 1 file changed, 52 insertions(+), 4 deletions(-)

commit f491265fc5908bafbd0e72edecc17e3b093002bc
Merge: 3353a57 bc15e80
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 20 20:54:24 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1137777 13f79535-47bb-0310-9956-ffa450edef68

commit ceabeb8fa65eec36f437e4111c9a6a100c120726
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Jun 16 20:03:57 2011 +0000

    sstable2json escapes quotes.
    Patch by Pavel Yaskevich, reviewed by brandonwilliams for CASSANDRA-2780
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1136637 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   |  6 ++++
 .../apache/cassandra/tools/SSTableExportTest.java  | 32 +++++++++++++++++++---
 2 files changed, 34 insertions(+), 4 deletions(-)

commit d17a5dbdc439890f509d28303c79d0d20c79bfbf
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Jun 16 07:42:11 2011 +0000

    Add missing headers and bump build version
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1136307 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/locator/EC2SnitchTest.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit d8b1fc3952caa22be53e20d0e145aa3137ffc58e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 16 04:24:33 2011 +0000

    replace CollatingIterator, ReducingIterator with MergeIterator
    patch by stuhood; reviewed by jbellis for CASSANDRA-2062
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1136287 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/utils/MergeIteratorTest.java  | 107 +++++++++++++++++++++
 1 file changed, 107 insertions(+)

commit 2782e0beb47dd18e2bd332409e700b953d925a4b
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Jun 15 12:01:21 2011 +0000

    Make AbstractBounds.normalize de-overlapp overlapping ranges
    patch by slebresne; reviewed by stuhood for CASSANDRA-2641
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1136008 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/dht/AbstractBoundsTest.java   | 135 +++++++++++++++++++++
 1 file changed, 135 insertions(+)

commit e1a1ec5dbed98b5215682fce82a1e9cf2ae4b7fa
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Jun 11 02:05:46 2011 +0000

    r/m memtable_flush_after_mins
    patch by Patricio Echague; reviewed by jbellis for CASSANDRA-2427
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1134504 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 1 -
 1 file changed, 1 deletion(-)

commit 9ae39872f2443bb4a8b450111c3dd1ccd04a48e0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 10 22:22:44 2011 +0000

    excise mockito
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1134464 13f79535-47bb-0310-9956-ffa450edef68

 .../compaction/SizeTieredCompactionStrategyTest.java   | 18 ++++++------------
 1 file changed, 6 insertions(+), 12 deletions(-)

commit e70e73352d8d9d49b88bd9a71d666328cae2cad6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 10 22:14:59 2011 +0000

    rename minor -> background, major -> maximal
    patch by Alan Liang for CASSANDRA-1610
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1134461 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RemoveSuperColumnTest.java        | 4 ++--
 test/unit/org/apache/cassandra/db/TableTest.java                    | 2 +-
 .../org/apache/cassandra/db/compaction/CompactionsPurgeTest.java    | 2 +-
 test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java   | 6 +++---
 test/unit/org/apache/cassandra/db/compaction/OneCompactionTest.java | 2 +-
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java    | 6 +++---
 6 files changed, 11 insertions(+), 11 deletions(-)

commit 129d80a4743c5fb431e22e2b4782c092f0703b98
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 10 22:13:54 2011 +0000

    extract AbstractCompactionStrategy, AbstractCompactionTask
    patch by Alan Liang and Ben Coverston; reviewed by jbellis for CASSANDRA-1610
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1134460 13f79535-47bb-0310-9956-ffa450edef68

 .../db/compaction/LongCompactionSpeedTest.java     |  3 +-
 test/unit/org/apache/cassandra/cli/CliTest.java    |  4 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |  2 +-
 .../db/compaction/CompactionsPurgeTest.java        |  7 +-
 .../cassandra/db/compaction/CompactionsTest.java   | 78 ++-----------------
 .../SizeTieredCompactionStrategyTest.java          | 90 ++++++++++++++++++++++
 .../cassandra/streaming/StreamingTransferTest.java |  1 -
 7 files changed, 105 insertions(+), 80 deletions(-)

commit 00fd00db5d5f5c0950f68d7b049b5ed1a7602ecc
Merge: 21afd78 410134e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 10 20:19:23 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1134431 13f79535-47bb-0310-9956-ffa450edef68

commit e883372816724d74cccaa3219b6e809320f2935c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 9 22:37:05 2011 +0000

    support sstable2json against snapshot sstables
    patch by Patricio Echague; reviewed by jbellis for CASSANDRA-2386
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1134120 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/DescriptorTest.java       | 26 ++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit 5206f4b6f2fb050c632203ea73320507708504ad
Merge: b7c812e 410134e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 9 22:15:25 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1134109 13f79535-47bb-0310-9956-ffa450edef68

commit 21afd783fd44ca3ae75e8f76975b808b3d84f5ab
Merge: b7a173a e6499d8
Author: Eric Evans <eevans@apache.org>
Date:   Thu Jun 9 15:46:19 2011 +0000

    merge w/ 0.8 branch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1133951 13f79535-47bb-0310-9956-ffa450edef68

commit 410134e67e736f1d0e550ff5d4f767df478ce5e1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 9 13:50:27 2011 +0000

    fix removing columns and subcolumns that are supressed by a row orsupercolumn tombstone during replica resolution
    patch by Aaron Morton and jbellis; reviewed by slebresne for CASSANDRA-2590
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1133873 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |   8 ++
 test/unit/org/apache/cassandra/db/TableTest.java   |  37 ++++++-
 .../apache/cassandra/service/RowResolverTest.java  | 114 ++++++++++++++++++++-
 3 files changed, 154 insertions(+), 5 deletions(-)

commit 063c8f6cf7b12e976b0d7067037c52c548c6c0db
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 9 00:16:27 2011 +0000

    revert 1133443
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1133610 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/SimpleStrategyTest.java      |  2 +-
 .../cassandra/service/ConsistencyLevelTest.java    |  3 +-
 .../cassandra/service/LeaveAndBootstrapTest.java   | 38 +++++++++++-----------
 .../org/apache/cassandra/service/MoveTest.java     | 20 ++++++------
 4 files changed, 31 insertions(+), 32 deletions(-)

commit 31f0ee95e927c09183dca77be7739305ba2eeab0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 8 15:45:54 2011 +0000

    fix inconsistency window duringbootstrap
    patch by slebresne; reviewed by jbellis for CASSANDRA-833
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1133443 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/SimpleStrategyTest.java      |  2 +-
 .../cassandra/service/ConsistencyLevelTest.java    |  3 +-
 .../cassandra/service/LeaveAndBootstrapTest.java   | 38 +++++++++++-----------
 .../org/apache/cassandra/service/MoveTest.java     | 20 ++++++------
 4 files changed, 32 insertions(+), 31 deletions(-)

commit e6499d8dd1828547563936f8e4f0096d71c42f71
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 8 13:23:09 2011 +0000

    merge #2733 from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1133391 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/locator/EC2SnitchTest.java    | 51 ++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit 57d856f730a22c16dd84fed48d2ab5bfa1182a08
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 8 13:16:34 2011 +0000

    add EC2SnitchTest.java
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1133390 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/locator/EC2SnitchTest.java    | 51 ++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit 592634c6460624fe58adaf53f5ad39635f629a17
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 7 21:44:22 2011 +0000

    restrict repair streaming to specific columnfamilies
    patch by stuhood and jbellis; reviewed by slebresne for CASSANDRA-2280
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1133167 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/SerializationsTest.java  | 8 ++++----
 .../org/apache/cassandra/streaming/StreamingTransferTest.java     | 2 --
 2 files changed, 4 insertions(+), 6 deletions(-)

commit b7a173ab0768f67d86ef97943a63317b76cd4527
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jun 5 14:46:18 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1132429 13f79535-47bb-0310-9956-ffa450edef68

 .../db/compaction/CompactionsPurgeTest.java        | 236 +++++++++++++++++++++
 .../cassandra/db/compaction/CompactionsTest.java   | 190 +++++++++++++++++
 .../cassandra/db/compaction/OneCompactionTest.java |  75 +++++++
 3 files changed, 501 insertions(+)

commit 77b7ab228ea9207bd20311d04995d45e2592ce88
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jun 5 14:45:47 2011 +0000

    add test compaction package
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1132428 13f79535-47bb-0310-9956-ffa450edef68

 .../db/compaction/CompactionsPurgeTest.java        | 236 +++++++++++++++++++++
 .../cassandra/db/compaction/CompactionsTest.java   | 190 +++++++++++++++++
 .../cassandra/db/compaction/OneCompactionTest.java |  75 +++++++
 3 files changed, 501 insertions(+)

commit 3c4687c6d8c8bc2989c8cc9e951a1804796428b2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jun 5 14:44:07 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1132427 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      | 200 ------------------
 .../db/compaction/LongCompactionSpeedTest.java     | 202 ++++++++++++++++++
 test/unit/org/apache/cassandra/Util.java           |   1 +
 test/unit/org/apache/cassandra/db/CleanupTest.java |   1 +
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 230 ---------------------
 .../org/apache/cassandra/db/CompactionsTest.java   | 186 -----------------
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |   1 +
 .../org/apache/cassandra/db/OneCompactionTest.java |  70 -------
 .../apache/cassandra/db/RecoveryManager2Test.java  |   1 +
 .../apache/cassandra/db/RemoveSuperColumnTest.java |   1 +
 .../unit/org/apache/cassandra/db/RowCacheTest.java |   1 +
 test/unit/org/apache/cassandra/db/ScrubTest.java   |   1 +
 test/unit/org/apache/cassandra/db/TableTest.java   |   1 +
 .../cassandra/io/LazilyCompactedRowTest.java       |   2 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    |   1 +
 .../io/sstable/SSTableWriterCommutativeTest.java   |   1 +
 .../cassandra/io/sstable/SSTableWriterTest.java    |   1 +
 .../service/AntiEntropyServiceTestAbstract.java    |   6 +-
 .../cassandra/streaming/StreamingTransferTest.java |   1 +
 19 files changed, 216 insertions(+), 692 deletions(-)

commit 992a81bb48e62466a456cb5d92d7cdbaaa805c58
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jun 5 14:42:06 2011 +0000

    move CompactionIterator, CompactionManager, and the CompactedRow classes into the new compaction package
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1132426 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java       | 2 +-
 .../apache/cassandra/service/AntiEntropyServiceTestAbstract.java    | 6 +-----
 2 files changed, 2 insertions(+), 6 deletions(-)

commit 1196163b6c726fd6fca1717a56bd0f85ea82f420
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jun 5 14:33:36 2011 +0000

    move compaction code into db.compaction package
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1132420 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      | 200 ------------------
 .../db/compaction/LongCompactionSpeedTest.java     | 202 ++++++++++++++++++
 test/unit/org/apache/cassandra/Util.java           |   1 +
 test/unit/org/apache/cassandra/db/CleanupTest.java |   1 +
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 230 ---------------------
 .../org/apache/cassandra/db/CompactionsTest.java   | 186 -----------------
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |   1 +
 .../org/apache/cassandra/db/OneCompactionTest.java |  70 -------
 .../apache/cassandra/db/RecoveryManager2Test.java  |   1 +
 .../apache/cassandra/db/RemoveSuperColumnTest.java |   1 +
 .../unit/org/apache/cassandra/db/RowCacheTest.java |   1 +
 test/unit/org/apache/cassandra/db/ScrubTest.java   |   1 +
 test/unit/org/apache/cassandra/db/TableTest.java   |   1 +
 .../cassandra/io/LazilyCompactedRowTest.java       |   2 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    |   1 +
 .../io/sstable/SSTableWriterCommutativeTest.java   |   1 +
 .../cassandra/io/sstable/SSTableWriterTest.java    |   1 +
 .../cassandra/streaming/StreamingTransferTest.java |   1 +
 18 files changed, 215 insertions(+), 687 deletions(-)

commit f5f96c178d0ad2b7181ae07b307e38cdc6bdb9dc
Merge: e1941e2 a7bc6ee
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jun 5 13:43:22 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1132406 13f79535-47bb-0310-9956-ffa450edef68

commit 8b24d813b586cbc16783d7b7a384ebfaef4ca3ec
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jun 5 13:41:30 2011 +0000

    add cql drop index
    patch by pyaskevich and jbellis for CASSANDRA-2617
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1132405 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1d0d6d45ba35936901bb172485061b949107368c
Author: Chris Goffinet <goffinet@apache.org>
Date:   Thu Jun 2 22:54:21 2011 +0000

    Merge 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1130866 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 3f72d0906f17b948f2650018136bc3a449cb5f8c
Author: Chris Goffinet <goffinet@apache.org>
Date:   Thu Jun 2 22:51:14 2011 +0000

    Support passing tableName and cfName to RowCacheProviders
    Patch by goffinet, reviewed by stuhood for CASSANDRA-2702
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1130863 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit a7e632771b62b7a11594f494c405f9dfba4b4b7e
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 30 13:10:43 2011 +0000

    merge from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1129157 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CompactionsTest.java   | 30 ++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 524d71952fabd4a1c9e94b757fcda22f36b35a87
Merge: 2e71e45 3d9305b
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 30 13:09:14 2011 +0000

    merge from 0.8.0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1129155 13f79535-47bb-0310-9956-ffa450edef68

commit 3d9305b505471db21bd73d79a95d7d4a4981433b
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 30 13:02:40 2011 +0000

    Reset SSTII in EchoedRow iterator (see CASSANDRA-2653)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1129151 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CompactionsTest.java   | 30 ++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit e485f346afcf55ac4503082ba4a4d3760d6d1130
Author: T Jake Luciani <jake@apache.org>
Date:   Wed May 25 13:45:44 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1127529 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d15972e82d557afbde631a7880c7be7f9e27cb7a
Author: T Jake Luciani <jake@apache.org>
Date:   Wed May 25 13:44:56 2011 +0000

    add cassandra-cli support for durable_writes flag
    
    Patch by xedin; reviewed by tjake for CASSANDRA-2683
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1127528 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ea6ec429142ee2a31c4871d32ffe42061c8da892
Author: T Jake Luciani <jake@apache.org>
Date:   Wed May 25 13:06:39 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1127510 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   | 10 ++++-
 .../org/apache/cassandra/db/ReadMessageTest.java   | 50 +++++++++++++++++++---
 2 files changed, 53 insertions(+), 7 deletions(-)

commit 5a4cfb1b1e7ea36d59e30b74873ebba4f62d25fa
Author: T Jake Luciani <jake@apache.org>
Date:   Wed May 25 12:58:57 2011 +0000

    Allow writes to bypass the commit log for certain keyspaces
    
    Patch by tjake; reviewed by jbellis for CASSANDRA-2683
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1127505 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   | 10 ++++-
 .../org/apache/cassandra/db/ReadMessageTest.java   | 50 +++++++++++++++++++---
 2 files changed, 53 insertions(+), 7 deletions(-)

commit 85e5c375731c7b74630bc9a0fbdc6ffe4c0e635d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 24 16:29:12 2011 +0000

    make DefsTest less fragile
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1127132 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/config/DefsTest.java | 19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 70c0ed88e2b9d8a7d3b5d545a7690b1012791381
Merge: 3de3c21 ed7f7e8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 23 13:30:48 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1126485 13f79535-47bb-0310-9956-ffa450edef68

commit 3de3c21dc6a9164868eecac11578ed054d2ffc51
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 23 10:38:53 2011 +0000

    merge from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1126422 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java                     | 12 +++++-------
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java |  4 ++--
 .../cassandra/service/AntiEntropyServiceCounterTest.java     | 10 +++++-----
 .../cassandra/service/AntiEntropyServiceStandardTest.java    |  4 ++--
 .../cassandra/service/AntiEntropyServiceTestAbstract.java    |  2 +-
 5 files changed, 15 insertions(+), 17 deletions(-)

commit 03e329bede79b7ef9647a99219c2cbae45857860
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 23 10:16:25 2011 +0000

    Don't write CounterUpdateColumn to disk in tests
    patch by stuhood; reviewed by slebresne for CASSANDRA-2650
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1126416 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java                     | 12 +++++-------
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java |  4 ++--
 .../cassandra/service/AntiEntropyServiceCounterTest.java     | 10 +++++-----
 .../cassandra/service/AntiEntropyServiceStandardTest.java    |  4 ++--
 .../cassandra/service/AntiEntropyServiceTestAbstract.java    |  2 +-
 5 files changed, 15 insertions(+), 17 deletions(-)

commit 6505a0706d97fd084372a89109a7e9782506f124
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 23 08:54:05 2011 +0000

    merge from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1126391 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/streaming/StreamingTransferTest.java | 80 +++++++++++-----------
 1 file changed, 40 insertions(+), 40 deletions(-)

commit 2691fcdb0664952445673eb8d74ddef98820167e
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 23 08:51:54 2011 +0000

    Assert ranges are not overlapping in AbstractBounds.normalize
    patch by stuhood; reviewed by slebresne for CASSANDRA-2641
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1126389 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/streaming/StreamingTransferTest.java | 80 +++++++++++-----------
 1 file changed, 40 insertions(+), 40 deletions(-)

commit b76a5b5c04db7f5abecbb80124a65ca933ed1df9
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 23 07:53:48 2011 +0000

    merge from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1126363 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/LazilyCompactedRowTest.java       | 62 +++++++++++-----------
 1 file changed, 31 insertions(+), 31 deletions(-)

commit 252451c38b8a30701b9dacc8d8281bb23447d454
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 23 07:34:59 2011 +0000

    Improve forceDeserialize/getCompactedRow encapsulation
    patch by jbellis; reviewed by slebresne for CASSANDRA-<ticket>
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1126356 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/LazilyCompactedRowTest.java       | 62 +++++++++++-----------
 1 file changed, 31 insertions(+), 31 deletions(-)

commit 2ce876dfb830f40994962a12b3aa35122e9733a2
Merge: 16c2f45 505a2ac
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 23 02:11:21 2011 +0000

    merge from 0.8.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1126294 13f79535-47bb-0310-9956-ffa450edef68

commit db69b38911c06a2aeac20c01e2d89e6f7593191c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 23 01:30:55 2011 +0000

    fix UUIDTypefor direct buffers
    patch by Ed Anuff; reviewed by jbellis for CASSANDRA-2682
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8.0@1126289 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/UUIDTypeTest.java  | 27 +++++++++++-----------
 1 file changed, 14 insertions(+), 13 deletions(-)

commit ae7dbe3d2a8bb4d82da240a8834945dd32a5f1d3
Merge: e23fff1 050d129
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 19 21:19:30 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1125113 13f79535-47bb-0310-9956-ffa450edef68

commit 17279c7db30b88ee90aed713addec9fa5134d2c1
Merge: 8aeead390 050d129
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 19 17:43:15 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8.1@1125014 13f79535-47bb-0310-9956-ffa450edef68

commit e247bdd15f87b4262502cb0a0fb154392a1693ff
Merge: 8ea1839 2dd1771
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 17 22:12:59 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8.1@1104597 13f79535-47bb-0310-9956-ffa450edef68

commit f4f1781a8f7d5bfbf3c63a8308d970f113c94df1
Merge: c5c07bd 4a604fb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 13 00:09:32 2011 +0000

    merge from 0.8.1
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1102518 13f79535-47bb-0310-9956-ffa450edef68

commit 4b806e83add54993bd67a80f8c7c309a51648bff
Merge: 0a4184d 50b490e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 12 15:53:28 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1102359 13f79535-47bb-0310-9956-ffa450edef68

commit 50b490e046bdc23b23fbb268400abcc41a0de72c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 12 15:31:01 2011 +0000

    add quote-escaping via backslash to CLI
    patch by pyaskevich; reviewed by jbellis for CASSANDRA-2623
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1102352 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 5 +++++
 1 file changed, 5 insertions(+)

commit c5c07bd73d671bc0b41969ae4f9e91b669e9df67
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu May 12 15:24:08 2011 +0000

    merge from 0.8.1
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1102350 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RecoveryManagerTest.java   | 33 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit 2ec1f8824ea5f48f7b02db2f1464a9e85deea93e
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu May 12 15:22:37 2011 +0000

    merge from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8.1@1102349 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RecoveryManagerTest.java   | 33 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit 8ddb32cc24968b53d0b718390024f1ac13782377
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu May 12 15:20:34 2011 +0000

    Fix counter increment lost after restart
    patch by slebresne; reviewed by jbellis for CASSANDRA-2642
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1102345 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RecoveryManagerTest.java   | 33 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit 42d5f0aab3a638129e4ffad9f79e01a26d536d7e
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu May 12 15:15:58 2011 +0000

    merge from 0.8.1
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1102341 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 39 ++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit 986950aef01cd170b92744bbc12e21838bae7073
Merge: 205dd7e 4a604fb
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu May 12 15:11:54 2011 +0000

    merge from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8.1@1102340 13f79535-47bb-0310-9956-ffa450edef68

commit 287729981e2a1695e05ded1e66da8fc80d89ac4b
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu May 12 15:09:43 2011 +0000

    merge from 0.7
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1102339 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 39 ++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit 4a604fbebc1d06ee569749f69a5cd608e26e4c89
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu May 12 15:06:48 2011 +0000

    Avoid wrong empty result with secondary index when limit=1
    patch by slebresne; reviewed by jbellis for CASSANDRA-2628
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1102337 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 39 ++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit d57156decfc551407b8bcbd9b594bbdc0ccd7c03
Merge: 3b25d03 61adae4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 11 16:15:43 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8.1@1101946 13f79535-47bb-0310-9956-ffa450edef68

commit 296c9f3c3278e970119d03c0928927a67bfa4a2a
Merge: 5cbd0f1 61adae4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 11 16:09:37 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1101941 13f79535-47bb-0310-9956-ffa450edef68

commit d2c98b024d85bf72a6ce3e03d0b8d2994199c254
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 11 16:03:12 2011 +0000

    avoid using cached position of a keywhen GTis requested
    patch by Richard Low and slebresne; reviewed by jbellis for CASSANDRA-2633
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1101933 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/SSTableReaderTest.java    | 45 ++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit 5d98581e9c30bbd226fee9087bdde0ac7bae6f86
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 9 17:24:34 2011 +0000

    Add CompositeType and DynamicCompositeType
    patch by slebresne; reviewed by edanuff for CASSANDRA-2231
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8.1@1101120 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   |  20 +-
 .../cassandra/db/marshal/CompositeTypeTest.java    | 268 +++++++++++++++++++++
 .../db/marshal/DynamicCompositeTypeTest.java       | 246 +++++++++++++++++++
 3 files changed, 532 insertions(+), 2 deletions(-)

commit 522d0dd1e4e0b76cb36907d13595b31e231543d6
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 9 17:08:23 2011 +0000

    Allow comparator parameters and add generic ReverseType
    patch by slebresne; reviewed by jbellis for CASSANDRA-2355
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8.1@1101116 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/TypeParserTest.java       | 93 ++++++++++++++++++++++
 1 file changed, 93 insertions(+)

commit f759cb193308f1f6eef1b42d7ff6cc7c3dfafb27
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 9 07:29:37 2011 +0000

    merge from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1100906 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/MerkleTreeTest.java | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit edba1e815145d823edc4ebe61bb9de39311620a2
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon May 9 07:28:16 2011 +0000

    Fix failing MerkleTreeTest
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1100905 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/MerkleTreeTest.java | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 835669aee8dc0ba14a37594e1ff07d056c74a3ea
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 9 07:05:55 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1100900 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 70 +++-------------------
 .../apache/cassandra/db/CompactionsPurgeTest.java  |  2 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  | 13 ++--
 .../db/commitlog/CommitLogHeaderTest.java          | 50 ----------------
 4 files changed, 14 insertions(+), 121 deletions(-)

commit dec698f840e56ecf32e0c813cd5183e6051aa869
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun May 8 01:43:00 2011 +0000

    fix potential double-application of counter updates on commitlog replay
    patch by slebresne and jbellis for CASSANDRA-2419
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1100671 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 70 +++-------------------
 .../apache/cassandra/db/CompactionsPurgeTest.java  |  2 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  | 13 ++--
 .../db/commitlog/CommitLogHeaderTest.java          | 50 ----------------
 4 files changed, 14 insertions(+), 121 deletions(-)

commit 5798effe3371dc343cdc2de311c914aeb6b9af02
Merge: 0c46cbc 94f5a6a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat May 7 07:13:21 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1100471 13f79535-47bb-0310-9956-ffa450edef68

commit d8dfcfac449f33c981735bb84108547b8127d5ea
Merge: 879871e 94f5a6a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat May 7 07:12:31 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1100470 13f79535-47bb-0310-9956-ffa450edef68

commit 94f5a6a12b2d17a5e68abd3f63cfc7736b63d6e2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat May 7 06:52:53 2011 +0000

    clear up svn confusion on DefsTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1100465 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/config/DefsTest.java | 820 +++++++++++++++++++++
 test/unit/org/apache/cassandra/db/DefsTest.java    |   0
 2 files changed, 820 insertions(+)

commit 5f8991c73a6f43fbe9c7e0d8906e751c21d54412
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat May 7 06:52:02 2011 +0000

    recognize attempt todrop just the index while leaving the column definition
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2619
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1100464 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 797 ------------------------
 1 file changed, 797 deletions(-)

commit 4398f831c36b08a0e74fe72a04ea04f4c29a378b
Merge: 6711275 3b90765
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 6 04:17:17 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1100041 13f79535-47bb-0310-9956-ffa450edef68

commit f9ffb4777640c6f4b996c982818998000a9f27bd
Merge: d383294 3b90765
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 5 17:47:25 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1099893 13f79535-47bb-0310-9956-ffa450edef68

commit 3b907655c78131cc2950c2f7f36ea62d8a341e31
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 5 17:46:23 2011 +0000

    improve ignoring of obsoletemutations in index maintenance
    patch by jbellis; reviewed by slebresne for CASSANDRA-2401
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1099892 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 33 +++++++++++++++++++---
 1 file changed, 29 insertions(+), 4 deletions(-)

commit 6e623145cc55a4b911355488ae989e7e42945d21
Merge: d719e57 c473679
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 5 10:54:37 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1099752 13f79535-47bb-0310-9956-ffa450edef68

commit c473679a233ba60e18be3daeb327becc439939cd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 4 22:17:14 2011 +0000

    add liveOnly flag to SSTable.componentsFor
    patch by Aaron Morton; reviewed by jbellis for CASSANDRA-2602
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1099624 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java | 7 +++++++
 1 file changed, 7 insertions(+)

commit a8d233cae1455a7ee1d99259fec94ebc92531939
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue May 3 12:30:39 2011 +0000

    merge from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1099038 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 1984e8e615772394766b6919f9001add29034cd6
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue May 3 12:28:47 2011 +0000

    Make CFSTest not depend on hardcoded sstable version
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1099037 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 8897ad5ac7e8d46df28f8b86087fed2c4997f9e2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 2 19:20:44 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1098754 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  |  5 +----
 test/unit/org/apache/cassandra/SchemaLoader.java   |  2 ++
 test/unit/org/apache/cassandra/Util.java           | 14 ++++++++++++
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 16 +++++++-------
 .../unit/org/apache/cassandra/db/KeyCacheTest.java | 25 ++++++++++++----------
 5 files changed, 39 insertions(+), 23 deletions(-)

commit b179af1399fe5fef7afaae02c7821e409a32624b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 2 19:19:54 2011 +0000

    fix KeyCacheTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1098753 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  |  5 +----
 test/unit/org/apache/cassandra/SchemaLoader.java   |  2 ++
 test/unit/org/apache/cassandra/Util.java           | 14 ++++++++++++
 .../apache/cassandra/db/CompactionsPurgeTest.java  |  8 ++-----
 .../unit/org/apache/cassandra/db/KeyCacheTest.java | 25 ++++++++++++----------
 5 files changed, 33 insertions(+), 21 deletions(-)

commit 086fafe362819d399bf874e9adc411ac52377274
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 2 18:58:11 2011 +0000

    fix CompactionsPurgeTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1098733 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CompactionsPurgeTest.java  | 18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 1b24a02c4cf8d4fce042e3f9b2f34945b729fcef
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 25 17:29:08 2011 +0000

    force GC to reclaim disk space on flush, if necessary
    patch by jbellis; reviewed by slebresne for CASSANDRA-2404
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1096531 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 1 -
 1 file changed, 1 deletion(-)

commit 47026880b2ed0a19fc4af66f230215f7228c2d83
Merge: c948fd2 2f90f45
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 21 16:20:47 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1095770 13f79535-47bb-0310-9956-ffa450edef68

commit 70bcdfde6a07a18b1020844442579add568ff0ac
Merge: 9e8e192 2f90f45
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 21 16:17:08 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1095767 13f79535-47bb-0310-9956-ffa450edef68

commit 53ae0fad04a03a85aac53ca473bca7221333bafb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 21 16:13:11 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1095765 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java    |  3 ++-
 .../apache/cassandra/streaming/BootstrapTest.java  |  6 +++--
 .../cassandra/streaming/SerializationsTest.java    | 30 +++++++++++-----------
 3 files changed, 21 insertions(+), 18 deletions(-)

commit c948fd286495616988cf707b043baf63540b4585
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Apr 21 13:33:13 2011 +0000

    merge CASSANDRA-2512 from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1095701 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 64621c76a3b99a9655bb708f88f434b6f158795e
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Apr 21 13:29:53 2011 +0000

    merge CASSANDRA-2512 from 0.7
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1095699 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6dc75ce2f3305d9568f9a7e7078bd87c04009218
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Apr 21 13:25:36 2011 +0000

    Fix updating column metadata validation class
    patch by jbellis; reviewed by slebresne for CASSANDRA-2512
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1095696 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1adcd1c52e87a2f59d9006a29fb9476174968a60
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 19 17:13:19 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1095139 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/MeteredFlusherTest.java    | 21 ++++++++++++++++
 .../apache/cassandra/cache/CacheProviderTest.java  | 21 ++++++++++++++++
 .../org/apache/cassandra/client/TestRingCache.java |  2 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 29 ++++++++++++++++++++++
 .../org/apache/cassandra/db/SystemTableTest.java   | 21 ++++++++++++++++
 .../apache/cassandra/db/marshal/UUIDTypeTest.java  | 21 ++++++++++++++++
 .../service/EmbeddedCassandraServiceTest.java      |  6 +++--
 7 files changed, 118 insertions(+), 3 deletions(-)

commit a3ab11865b0e1cdea2af376625e00b65cc043261
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 19 13:42:19 2011 +0000

    fix backslash substitutions in CLI
    patch by Aaron Morton; reviewed by jbellis for CASSANDRA-2492
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1095084 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit b8534fa167cee43ffd02c79d76a8fb22b802368d
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Apr 19 09:22:30 2011 +0000

    Merge from 0.8
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1094960 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java   | 3 +++
 1 file changed, 3 insertions(+)

commit 3e44d450a344ebad4373f2454d6675aa13f438b0
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Apr 19 09:20:40 2011 +0000

    Fix unit tests for CASSANDRA-2290
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1094959 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java   | 3 +++
 1 file changed, 3 insertions(+)

commit 3edbee223fed6aebe33ed8c5e168b4c79efead7e
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Tue Apr 19 08:59:31 2011 +0000

    Fix unit test for CASSANDRA-2290
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1094945 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit a28d130f13aa45b4aeba5c9c51d1c65b205248f8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 19 00:05:56 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1094822 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 7dbb7983c248419e2d43ad11296f6d8f3e7e87dc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 18 21:58:20 2011 +0000

    preserve version when streaming data from old sstables
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-2283
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1094789 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/streaming/BootstrapTest.java  |  6 ++++--
 .../cassandra/streaming/SerializationsTest.java    | 24 +++++++++++-----------
 2 files changed, 16 insertions(+), 14 deletions(-)

commit 88885388c170e9ae5286d63a70c7a285f0f0a41f
Author: Eric Evans <eevans@apache.org>
Date:   Mon Apr 18 17:08:06 2011 +0000

    prepend missing license headers
    
    Patch by eevans
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1094655 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/MeteredFlusherTest.java | 21 +++++++++++++++++++++
 .../apache/cassandra/cache/CacheProviderTest.java   | 21 +++++++++++++++++++++
 .../org/apache/cassandra/db/SystemTableTest.java    | 21 +++++++++++++++++++++
 .../apache/cassandra/db/marshal/UUIDTypeTest.java   | 21 +++++++++++++++++++++
 4 files changed, 84 insertions(+)

commit e1bec627274f147f2a26bbe16aa5b6d100afac37
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Apr 17 05:10:17 2011 +0000

    preserve column order in CQL result sets
    patch by jbellis; reviewed by eevans for CASSANDRA-2493
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1094102 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java            | 2 +-
 .../org/apache/cassandra/service/EmbeddedCassandraServiceTest.java  | 6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 5ff7dee6c981d5d912f8596964f2943623818ce1
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Sat Apr 16 23:10:11 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1094086 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java | 18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit f5203cfef2790080bde0d83ec768e6884b276f86
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Sat Apr 16 23:08:46 2011 +0000

    honor specific column validators in JDBC driver. patch by gdusbabek, reviewed by jbellis. CASSANDRA-2410
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1094085 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java | 18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit b553e773310deb0f17a0ded6424fac1e03614859
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 15 14:33:59 2011 +0000

    fix duplicate results from CFS.scan
    patch by Pavel Yaskevich and jbellis for CASSANDRA-2406
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1092722 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 8a6feefe8f0a8b591d7417a6bae907d2ea4f7050
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri Apr 15 12:48:15 2011 +0000

    merge from 0.8
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1092687 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      | 31 +++++++++++-----------
 .../cassandra/io/LazilyCompactedRowTest.java       |  6 ++---
 2 files changed, 18 insertions(+), 19 deletions(-)

commit 4ba0e3c89db1c038f1e17f7d340aa4b1140654f1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 14 21:33:45 2011 +0000

    madeCompactionInfo.getTaskType return an enum
    patch by nickmbailey; reviewed by jbellis for CASSANDRA-2482
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1092523 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 8f7fb46e5c1aa2b7a7ee637ea5943c756b87f09a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 14 18:23:42 2011 +0000

    update LongCompactionSpeedTest.java for uuid counters
    patch by slebresne; reviewed by jbellis for CASSANDRA-2461
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.8@1092426 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      | 31 +++++++++++-----------
 1 file changed, 16 insertions(+), 15 deletions(-)

commit beac419bd36a033c6376d3b91455abdeddc85685
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Apr 11 08:36:55 2011 +0000

    Multithreaded compactions
    patch by stuhood; reviewed by slebresne for CASSANDRA-2191
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1090978 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CompactionsTest.java   | 28 +++++++++++++++++-----
 .../cassandra/io/LazilyCompactedRowTest.java       |  4 ++--
 2 files changed, 24 insertions(+), 8 deletions(-)

commit 570ac26fc657950c1eedbf0b31e580e8c47bc7e8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 11 03:08:29 2011 +0000

    give snapshots the same name on each node
    patch by Nick Bailey; reviewed by jbellis for CASSANDRA-1791
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1090925 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/StorageServiceServerTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c7bc2fe8718d612fdbcf0f8b7e33554f17efcaa
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Apr 10 22:59:57 2011 +0000

    push replication_factor into strategy_options
    patch by jhermes and jbellis; reviewed by jhanna for CASSANDRA-1263
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1090905 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   | 35 ++++++++--------------
 test/unit/org/apache/cassandra/cli/CliTest.java    |  2 +-
 .../cassandra/config/DatabaseDescriptorTest.java   |  8 +++--
 test/unit/org/apache/cassandra/db/DefsTest.java    | 16 +++++-----
 .../locator/OldNetworkTopologyStrategyTest.java    |  7 +++--
 .../cassandra/locator/SimpleStrategyTest.java      |  6 ++--
 .../cassandra/service/ConsistencyLevelTest.java    | 13 ++++----
 .../cassandra/service/LeaveAndBootstrapTest.java   |  6 ++--
 .../org/apache/cassandra/service/MoveTest.java     |  6 ++--
 9 files changed, 50 insertions(+), 49 deletions(-)

commit dc89826fd89720da0c5ad2de9fb54afeb712136a
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Sun Apr 10 17:25:57 2011 +0000

    Make repair work on a token range instead of the full ring
    patch by slebresne; reviewed by stuhood for CASSANDRA-2324
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1090840 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/AntiEntropyServiceTest.java  | 258 ---------------------
 .../service/AntiEntropyServiceTestAbstract.java    |  50 ++--
 .../cassandra/service/SerializationsTest.java      |   7 +-
 .../org/apache/cassandra/utils/MerkleTreeTest.java | 168 +++-----------
 4 files changed, 71 insertions(+), 412 deletions(-)

commit 5b9c40245786cd043bd0ae80b164bf61010a4f53
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Apr 10 01:19:59 2011 +0000

    fix UUIDTypeTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1090727 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/UUIDTypeTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 32f85c5bc0df3f1ba0d5904f9c1af45e45bbfa98
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Apr 9 23:46:28 2011 +0000

    Add unified UUIDType
    patch by Ed Anuff; reviewed by jbellis for CASSANDRA-2233
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1090711 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/UUIDTypeTest.java  | 214 +++++++++++++++++++++
 1 file changed, 214 insertions(+)

commit f5bc6e481f70b95649de99e262515c6e8221f188
Merge: 726b7da be43a7c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Apr 9 18:34:07 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1090648 13f79535-47bb-0310-9956-ffa450edef68

commit f4b3c01dffa486f881b98ee83556fc372de59850
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 7 23:49:06 2011 +0000

    add a server-wide cap on memtable memory usage
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-2006
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1090064 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/MeteredFlusherTest.java    | 51 ++++++++++++++++++++++
 test/unit/org/apache/cassandra/db/DefsTest.java    |  2 +-
 2 files changed, 52 insertions(+), 1 deletion(-)

commit 28ab378639e1717c3dccc5b91d84525108e68749
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Apr 7 22:46:28 2011 +0000

    Fix unit tests for CASSANDRA-2428
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1090054 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 22fc25b9a223205f89293c7143aeb15de3ce6cfb
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Thu Apr 7 20:31:51 2011 +0000

    Use {Lazy|Pre}CompactedRow for CommutativeRowIndexer
    patch by slebresne; reviewed by stuhood for CASSANDRA-2313
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1089993 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/LazilyCompactedRowTest.java       | 30 ++++++++++------------
 1 file changed, 14 insertions(+), 16 deletions(-)

commit 05d4222cdb802aa46f976f0734827bf270fd1c6c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 6 21:48:44 2011 +0000

    add SystemTableTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1089643 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/SystemTableTest.java   | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 80d3decdfe70b12422c24cd71405aecc5a02b97e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 6 18:15:47 2011 +0000

    add SerializingCacheProvider
    patch by Vijay and jbellis for CASSANDRA-1969
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1089555 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cache/CacheProviderTest.java | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 6d2f24cd63fd68732258849800e71637d70ec482
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 6 16:33:35 2011 +0000

    Revert prematurely-committed "add a server-wide cap on memtable memory usage"
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1089526 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/MeteredFlusherTest.java    | 51 ----------------------
 test/unit/org/apache/cassandra/db/DefsTest.java    |  2 +-
 2 files changed, 1 insertion(+), 52 deletions(-)

commit a287f42ceb1d5eac033e2db2201422801b772e99
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 6 16:21:17 2011 +0000

    add a server-wide cap on memtable memory usage
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1089521 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/MeteredFlusherTest.java    | 51 ++++++++++++++++++++++
 test/unit/org/apache/cassandra/db/DefsTest.java    |  2 +-
 2 files changed, 52 insertions(+), 1 deletion(-)

commit 3bbfb06957608769640a13114058a574da9eccb6
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Apr 6 16:19:55 2011 +0000

    Merge Mutation and CounterMutation thrift structure
    patch by slebresne; reviewed by jbellis for CASSANDRA-2384
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1089517 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/AntiEntropyServiceCounterTest.java | 16 ++++++++++++++++
 .../service/AntiEntropyServiceStandardTest.java          | 16 ++++++++++++++++
 .../apache/cassandra/service/AntiEntropyServiceTest.java |  4 ++--
 .../service/AntiEntropyServiceTestAbstract.java          |  9 +++------
 4 files changed, 37 insertions(+), 8 deletions(-)

commit 4d1af49b98e6c0cb6b1908645d321bd21b448e4c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 5 15:22:57 2011 +0000

    introduce ICache, InstrumentingCache, IRowCacheProvider
    patch by jbellis, Jon Hermes, and Vijay for CASSANDRA-1969
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1089078 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/cache/CacheProviderTest.java  | 88 ++++++++++++++++++++++
 .../unit/org/apache/cassandra/db/KeyCacheTest.java |  4 +-
 2 files changed, 90 insertions(+), 2 deletions(-)

commit 6fc5ccaeb77e1183c95adfa60709b74fced44626
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Apr 4 22:25:02 2011 +0000

    merge from 0.7
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1088806 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/PartitionerTestCase.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6d777b46f49e3f8af9b96911a4455bbeaac86ab2
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Apr 4 22:15:39 2011 +0000

    Uncomment tests that were commented for no apparent reason
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1088805 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/PartitionerTestCase.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d10d8783057fb72ae3e7e103bd9104e86c81c9ea
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 31 18:39:37 2011 +0000

    add negative number support to cli, trunk version
    patch by Pavel Yaskevich for CASSANDRA-2358
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1087404 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 8 ++++++++
 1 file changed, 8 insertions(+)

commit e07e88a612db0e8bcd3d3175a1d74c0244e95c5a
Merge: a14f038 95809de
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 31 18:38:10 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1087403 13f79535-47bb-0310-9956-ffa450edef68

commit 95809de5861b48eb6323381fa0756084fbb2ceeb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 31 18:34:56 2011 +0000

    snapshot must be performed before flushlock must be acquired, or we deadlock.  See #2381
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1087402 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 25 +++++++++++++++++++++++--
 1 file changed, 23 insertions(+), 2 deletions(-)

commit 725bfa95c78d832f5e9c3b74192790f558c458a3
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Mar 30 14:30:33 2011 +0000

    AbstractType converts types to Strings (not just ByteBuffers)
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1086964 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/marshal/RoundTripTest.java     | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit b1ed2d1520ff9445f5d250362608b524995c3aa0
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Wed Mar 30 13:53:51 2011 +0000

    Use ICompactSerializer in AES instead of java serialization (and fix tests warnings)
    patch by gdusbabek; reviewed by slebresne for CASSANDRA-2361
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1086957 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/CompactSerializerTest.java       | 4 ++++
 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 7 ++++---
 .../apache/cassandra/service/AntiEntropyServiceTestAbstract.java   | 3 +++
 3 files changed, 11 insertions(+), 3 deletions(-)

commit f60187d4d56395f25c45ab26422ac8e7d72f5c9c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 29 20:39:37 2011 +0000

    disallow querying a counter CF with non-counter operation
    patch by slebresne; reviewed by jbellis for CASSANDRA-2321
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1086729 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e6c5a28da940a086d0e786f1ad0288c0b0efa27d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 28 21:58:59 2011 +0000

    revert merge of #2358
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1086417 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 8 --------
 1 file changed, 8 deletions(-)

commit b3debb5b45569f1ab108e0b92d069b81e203cb34
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 28 21:11:19 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1086404 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 8 ++++++++
 1 file changed, 8 insertions(+)

commit b62b0aedd67a387b8d4b5f8bc083803e2fd99dae
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Mar 28 15:01:25 2011 +0000

    merge CASSANDRA-2367 from 0.7
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1086266 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           | 19 +++++++----------
 .../org/apache/cassandra/client/TestRingCache.java |  2 +-
 test/unit/org/apache/cassandra/db/CleanupTest.java |  2 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  2 +-
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 22 ++++++++++----------
 .../org/apache/cassandra/db/CompactionsTest.java   |  2 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |  8 ++++----
 .../unit/org/apache/cassandra/db/NameSortTest.java |  6 +++---
 .../apache/cassandra/db/RecoveryManager2Test.java  |  3 ++-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  4 ++--
 .../org/apache/cassandra/db/RowIterationTest.java  |  2 +-
 .../apache/cassandra/db/SerializationsTest.java    | 24 ++++++++++++----------
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  2 +-
 .../cassandra/io/LazilyCompactedRowTest.java       |  6 +++---
 .../cassandra/io/sstable/LegacySSTableTest.java    |  3 ++-
 .../cassandra/io/sstable/SSTableReaderTest.java    |  8 ++++----
 .../apache/cassandra/io/sstable/SSTableTest.java   |  4 ++--
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  3 ++-
 .../cassandra/locator/SimpleStrategyTest.java      |  3 ++-
 .../service/EmbeddedCassandraServiceTest.java      |  9 ++++----
 .../cassandra/streaming/SerializationsTest.java    |  8 ++++----
 .../cassandra/streaming/StreamingTransferTest.java |  6 +++---
 .../apache/cassandra/tools/SSTableExportTest.java  |  2 +-
 .../apache/cassandra/utils/ByteBufferUtilTest.java |  2 +-
 .../org/apache/cassandra/utils/KeyGenerator.java   |  2 +-
 25 files changed, 78 insertions(+), 76 deletions(-)

commit 2287fe0044117592a38bb07f06672b3a9211d38a
Author: Sylvain Lebresne <slebresne@apache.org>
Date:   Mon Mar 28 13:38:27 2011 +0000

    Atomically switch cfstore memtables and sstables
    patch by slebresne; reviewed by jbellis for CASSANDRA-2284 (and CASSANDRA-2105)
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1086226 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 37d063ee97e9521d3fb84d1427f3ef4adc0939b9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 25 13:59:45 2011 +0000

    fsync statistics component on write
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2382
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1085372 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/CompactSerializerTest.java | 1 -
 1 file changed, 1 deletion(-)

commit 887dba99e7dff6aef8d6a4a41f3a9b62a6470826
Author: Eric Evans <eevans@apache.org>
Date:   Thu Mar 24 20:31:03 2011 +0000

    prepend missing license info
    
    Patch by eevans
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1085118 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/RoundTripTest.java  | 21 +++++++++++++++++++++
 .../service/AntiEntropyServiceCounterTest.java      | 21 +++++++++++++++++++++
 .../service/AntiEntropyServiceStandardTest.java     | 21 +++++++++++++++++++++
 .../cassandra/thrift/ThriftValidationTest.java      | 21 +++++++++++++++++++++
 4 files changed, 84 insertions(+)

commit 7a7dd17d0d00e226208eabb9c916c31287350a9b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 23 18:56:21 2011 +0000

    allow negative numbers in the cli
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-2358
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1084674 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 8 ++++++++
 1 file changed, 8 insertions(+)

commit abebf52c9575d2016a0b2cfe1a7bc060d6b2698d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 23 18:36:44 2011 +0000

    r/m uses of SSTableUtils.writeRaw
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-2366
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1084665 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/sstable/SSTableUtils.java  |  1 +
 .../io/sstable/SSTableWriterCommutativeTest.java   | 54 ++++++----------------
 .../cassandra/io/sstable/SSTableWriterTest.java    | 27 +++++------
 3 files changed, 27 insertions(+), 55 deletions(-)

commit ec26ee73bf05812cc79af2a3d63ba5bfac7ffd31
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 23 18:13:42 2011 +0000

    fix encoding bugs in HintedHandoffManager, SystemTable when default charset is not UTF8
    patch by slebresne; reviewed by jbellis for CASSANDRA-2367
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1084660 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           | 19 +++++++----------
 .../org/apache/cassandra/client/TestRingCache.java |  2 +-
 test/unit/org/apache/cassandra/db/CleanupTest.java |  2 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  2 +-
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 22 ++++++++++----------
 .../org/apache/cassandra/db/CompactionsTest.java   |  2 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |  8 ++++----
 .../unit/org/apache/cassandra/db/NameSortTest.java |  6 +++---
 .../apache/cassandra/db/RecoveryManager2Test.java  |  3 ++-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  4 ++--
 .../org/apache/cassandra/db/RowIterationTest.java  |  2 +-
 .../apache/cassandra/db/SerializationsTest.java    | 24 ++++++++++++----------
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  2 +-
 .../cassandra/io/LazilyCompactedRowTest.java       |  6 +++---
 .../cassandra/io/sstable/LegacySSTableTest.java    |  3 ++-
 .../cassandra/io/sstable/SSTableReaderTest.java    |  8 ++++----
 .../apache/cassandra/io/sstable/SSTableTest.java   |  4 ++--
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  6 +++---
 .../cassandra/locator/SimpleStrategyTest.java      |  3 ++-
 .../service/EmbeddedCassandraServiceTest.java      |  9 ++++----
 .../cassandra/streaming/SerializationsTest.java    |  7 ++++---
 .../cassandra/streaming/StreamingTransferTest.java |  6 +++---
 .../apache/cassandra/tools/SSTableExportTest.java  |  2 +-
 .../apache/cassandra/utils/ByteBufferUtilTest.java |  2 +-
 .../org/apache/cassandra/utils/KeyGenerator.java   |  2 +-
 25 files changed, 79 insertions(+), 77 deletions(-)

commit e8b42ca60c72bc8e8309476bd2088891576ce24d
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Mar 23 15:41:21 2011 +0000

    Add counter support to the cli.
    Patch by Sylvain Lebresne, reviewed by Pavel Yaskevich for
    CASSANDRA-2341.
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1084616 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit d01e56f05574a7637a4c65582564803675843389
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 22 23:06:44 2011 +0000

    fix build
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1084405 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RowCacheTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f9259e4f0af1fa8328f91eb4f9a5e63ff0b7dad8
Merge: be7d5fd 4b64659
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 22 19:36:18 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1084315 13f79535-47bb-0310-9956-ffa450edef68

commit 4b646596204d70d2943619e07ed72b784f695b6c
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Mon Mar 21 23:56:35 2011 +0000

    add cache loading to row/key cache tests.
    Patch by Pavel Yaskevich and Matthew Dennis, reviewed by Pavel Yaskevich
    for CASSANDRA-2227
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1084028 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  | 38 ++++++++++++--
 .../unit/org/apache/cassandra/db/KeyCacheTest.java | 58 ++++++++++++++++++++--
 .../unit/org/apache/cassandra/db/RowCacheTest.java | 56 ++++++++++++++-------
 3 files changed, 128 insertions(+), 24 deletions(-)

commit 04218ddd4ce8fb3a66a0f963dfff20803e248d1c
Merge: 3d0f1ac 7b0bf8e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 18 02:31:48 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1082799 13f79535-47bb-0310-9956-ffa450edef68

commit feb4f034fa8f8a990ae7ec596398c8a993731bbb
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 17 21:14:37 2011 +0000

    allow null CF comments. patch by Jon Hermes, reviewed by gdusbabek. CASSANDRA-2351
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1082701 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 7c4d54b34f75f3dba5ddda4730710fb7cfd4105f
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 17 14:50:56 2011 +0000

    fix jdbc test. patch by gdusbabek. CASSANDRA-1906
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1082511 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ebc7278d7845edb149f3a0169408deefeb86f6a5
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 17 14:50:32 2011 +0000

    sanitize configuration code. patch by Jon Hermes, reviewed by gdusbabek. CASSANDRA-1906
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1082510 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java   | 190 ++++++++++++++++++++-
 .../cassandra/config/ColumnDefinitionTest.java     |   8 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   2 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |   3 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    | 142 +++++++--------
 5 files changed, 253 insertions(+), 92 deletions(-)

commit 3f885885b49968917af12cc0830ce482fa2b2ce7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 17 02:38:33 2011 +0000

    fix CliTest on Windows
    patch by Ben Coverston; reviewed by jbellis for CASSANDRA-2337
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1082376 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit be44f37e27b5286123383afc42248977d3036580
Merge: c49a01b f245882
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 15 20:12:03 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1081925 13f79535-47bb-0310-9956-ffa450edef68

commit 4ef269d017db15ddf83466fa71e2bdb35ee98ab5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 15 19:08:11 2011 +0000

    add memtable_flush_queue_size defaulting to 4
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2333
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1081908 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/concurrent/DebuggableThreadPoolExecutorTest.java    | 1 -
 1 file changed, 1 deletion(-)

commit 139203d25ef08b864b11f1c74073a28e7d5b64b3
Merge: 3947dba 5eb724a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 15 17:31:28 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1081872 13f79535-47bb-0310-9956-ffa450edef68

commit 7a30116632a56d6589dedfbf52cd9bbccb8d5453
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Mar 14 20:30:12 2011 +0000

    fix build. make serializations tests do cleanup before running.
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1081549 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/AbstractSerializationsTester.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 541e0b38d33c4035d1241ef8fe38a2c23e054454
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 14 19:57:52 2011 +0000

    clear Built flag in system table when dropping an index
    patch by jbellis; reviewed by mdennis for CASSANDRA-2320
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1081546 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 47 ++++++++++++----------
 1 file changed, 26 insertions(+), 21 deletions(-)

commit 7d44bbd308beaa70bba7ea2e46c58441f8599b27
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 14 19:24:54 2011 +0000

    fix tombstone handling in repair andsstable2json
    patch by slebresne; reviewed by jbellis for CASSANDRA-2279
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1081525 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/RowIterationTest.java  | 47 ++++++++++++++++++++++
 1 file changed, 47 insertions(+)

commit 7d14b3237c2a558dd737b3b92daa93bcf84e7f85
Author: Eric Evans <eevans@apache.org>
Date:   Sat Mar 12 00:05:55 2011 +0000

    prepend license header
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1080809 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/sstable/DescriptorTest.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit a4b71120ff6548055f8e53417186e2c6456df922
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 11 18:32:16 2011 +0000

    fix HH delivery when column index is larger than 2GB
    patch by jbellis; reviewed by slebresne for CASSANDRA-2297
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1080716 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/util/BufferedRandomAccessFileTest.java      | 12 ------------
 1 file changed, 12 deletions(-)

commit 402e1edeb7302112e6ea532bf77f1d6a3eb81c78
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 11 18:17:10 2011 +0000

    allow zero replicas in a NTSdatacenter
    patch by slebresne; reviewed by jbellis for CASSANDRA-1924
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1080709 13f79535-47bb-0310-9956-ffa450edef68

 .../locator/NetworkTopologyStrategyTest.java       | 37 +++++++++++++++++++---
 .../cassandra/locator/TokenMetadataTest.java       |  7 ++++
 2 files changed, 39 insertions(+), 5 deletions(-)

commit 1946cfdfdd5501768ed1e60625ad54fa23a7fb0f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 11 17:54:08 2011 +0000

    AES Counter Repair Improvements
    patch by Alan Liang; reviewed by slebresne for CASSANDRA-2288
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1080703 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      | 95 +++++++++++++++++++++-
 .../apache/cassandra/io/sstable/SSTableUtils.java  | 62 +++++++++++---
 .../io/util/BufferedRandomAccessFileTest.java      | 52 ++++++++++++
 3 files changed, 195 insertions(+), 14 deletions(-)

commit 7e8e6d30857dd2198db13a8180cba1d8fa15ef28
Merge: ab5a8c7 7bc35b8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 11 17:53:02 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1080702 13f79535-47bb-0310-9956-ffa450edef68

commit 7bc35b88ffcf0e7873bf1757cde7f6b6ff0f7a1d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 11 14:25:49 2011 +0000

    purge tombstoned rows from cache after GCGraceSeconds
    patch by slebresne; reviewed by jbellis for CASSANDRA-2305
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1080577 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CompactionsPurgeTest.java  | 49 ++++++++++++++++++++++
 1 file changed, 49 insertions(+)

commit ab5a8c77e4509fee9c4942ae391bbd82d7f7b295
Author: T Jake Luciani <jake@apache.org>
Date:   Thu Mar 10 20:54:50 2011 +0000

    Use UUID as node identifiers in counters instead of IP addresses
    
    Patch by Sylvain Lebresne; Reviewed by T Jake Luciani for CASSANDRA-1938
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1080345 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |   6 +
 test/unit/org/apache/cassandra/db/CleanupTest.java |   5 +-
 .../org/apache/cassandra/db/CounterColumnTest.java | 187 ++++----
 test/unit/org/apache/cassandra/db/DefsTest.java    |   2 +
 .../org/apache/cassandra/db/SuperColumnTest.java   |  72 ++-
 .../cassandra/db/context/CounterContextTest.java   | 484 +++++++++++----------
 .../sstable/SSTableWriterAESCommutativeTest.java   | 178 --------
 .../io/sstable/SSTableWriterCommutativeTest.java   | 164 +++++++
 .../cassandra/service/AntiEntropyServiceTest.java  |   6 +-
 .../service/AntiEntropyServiceTestAbstract.java    |   6 +-
 10 files changed, 571 insertions(+), 539 deletions(-)

commit 1a5d09c3566bffb24327b7af6379097d13de9521
Merge: a7e8d6e 45766ed
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 10 20:28:17 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1080338 13f79535-47bb-0310-9956-ffa450edef68

commit 21622125f3bb2bd80abfb4efdd375a825a987f96
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 9 20:52:03 2011 +0000

    fix commitlog replaywhen flush position refers to data thatdidnt
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1079989 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 24 ++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 88631680ed73e173b42e3f1c969a20bc4921e705
Merge: 5dc4077 5040f8e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 9 19:23:53 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079952 13f79535-47bb-0310-9956-ffa450edef68

commit 5040f8efe1df960a56c181ad9920a23fc5f8b7cf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 9 16:57:14 2011 +0000

    add test for #2296
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1079882 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ScrubTest.java | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 5dc407716c79288e9372aa49a0edde3504bc6b7d
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Mar 9 15:43:37 2011 +0000

    force time zone to eastern in RoundTripTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079849 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/marshal/RoundTripTest.java  | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit fc4502acf0d3a2d9bdf8f26cbe63b9309705bca1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 9 14:27:46 2011 +0000

    revert r1078803 (#1902)
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1079812 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2303abc1ef3e7163eab99ae600696b445bfc4e6c
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Mar 9 01:15:55 2011 +0000

    disable RoundTripTest.testTimeUUID() until I get my act together
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079633 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 556cdcf380f7843ab7ccfe7639fb0d1d11b13c1f
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Mar 9 00:55:36 2011 +0000

    account for timezone differences
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079626 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit e8154be6ce30e0bdeef2162b7647565e2c5664c3
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Mar 9 00:55:05 2011 +0000

    account for timezone differences
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079625 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 531b00ec5b66732fec067fc1e898f7a930e269d3
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Mar 9 00:49:14 2011 +0000

    disable RoundTripTest.testTimeUUID() until I get my act together
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079623 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0bf285bd6eae2c80a14b340a74abe9cd3610a187
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Mar 8 23:33:18 2011 +0000

    fix build-account for timezone differences in unit test
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079600 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java | 1 +
 1 file changed, 1 insertion(+)

commit c70623936a4cdfa1f3085817f373bbfe6e2d821e
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Mar 8 22:12:16 2011 +0000

    unit test for TimeUUIDType.fromString. patch by gdusbabek, reviewed by eevans. CASSANDRA-2262
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079572 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/RoundTripTest.java | 28 ++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit c4302a8d7553313a9e25a1b9e6f8072973ff1d79
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Mar 8 22:11:15 2011 +0000

    assume utf8 in CliTest keys dammit. patch by gdusbabek, reviewed by eevans. CASSANDRA-2262
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079568 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 7 +++++++
 1 file changed, 7 insertions(+)

commit 05d8ffdabb60d85d41ff943c3703ebe234817cc6
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Mar 8 22:11:07 2011 +0000

    compose method for AbstractTypes. patch by gdusbabek, reviewed by eevans. CASSANDRA-2262
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079567 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/marshal/RoundTripTest.java | 7 +++++++
 1 file changed, 7 insertions(+)

commit c6f76b9706c30513395eaec15907ed3d2c988c14
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Mar 8 22:09:44 2011 +0000

    test shows no roundtrip in BytesType
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079565 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/RoundTripTest.java | 82 ++++++++++++++++++++++
 1 file changed, 82 insertions(+)

commit 5e75a7f9f079e363e6ce5f5e95cd36765ffad95c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 8 21:15:12 2011 +0000

    r/m redundant @Override annotations
    patch by Tommy Tynja; reviewed by jbellis for CASSANDRA-1257
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1079546 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/ByteOrderedPartitionerTest.java       | 1 -
 .../apache/cassandra/dht/CollatingOrderPreservingPartitionerTest.java    | 1 -
 test/unit/org/apache/cassandra/dht/OrderPreservingPartitionerTest.java   | 1 -
 test/unit/org/apache/cassandra/utils/MerkleTreeTest.java                 | 1 -
 4 files changed, 4 deletions(-)

commit ade3581fb2e4ff920767118bc1b001046401515d
Merge: c44cd01 cb71747
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 7 17:33:53 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1078860 13f79535-47bb-0310-9956-ffa450edef68

commit cb71747c88efc7ad3e7dda67316855d6571aadfc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 7 17:30:07 2011 +0000

    add incremental_backups option
    patch by Yang Yang and jbellis for CASSANDRA-1872
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1078858 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java   | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit c44cd0111649612b3dcdbe3a6d6a3c83eae54066
Merge: 8fa4253 3a13b25
Author: T Jake Luciani <jake@apache.org>
Date:   Mon Mar 7 16:19:34 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1078831 13f79535-47bb-0310-9956-ffa450edef68

commit 7ed395de8ed30fc865fe7077d98b106dd6475114
Author: T Jake Luciani <jake@apache.org>
Date:   Mon Mar 7 15:06:33 2011 +0000

    Track and Migrate cached pages during compaction
    
    patch by Jake Luciani; reviewed by Pavel Yaskevich and jbellis for CASSANDRA-1902
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1078803 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit da936f5fe3d52492fafd6b851d16d0ce30632829
Merge: 0798f0f 0d6db4a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 4 22:52:03 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1078194 13f79535-47bb-0310-9956-ffa450edef68

commit 0d6db4a68f1d66da789c037d8340c682f21253ba
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 4 21:08:21 2011 +0000

    add CL.TWO, THREE
    patch by Peter Schuller; reviewed by tjake for CASSANDRA-2013
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1078134 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/ConsistencyLevelTest.java   | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 634eea2c0c0448125105147d53e1f82ed20f449d
Merge: fad6615 c5f4f3b
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 3 22:59:36 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1076868 13f79535-47bb-0310-9956-ffa450edef68

commit c5f4f3b2be60652b380806c6928d8ec480d06941
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 3 22:54:56 2011 +0000

    initialize localendpoint in gossiper earlier. patch by gdusbabek, reviewed by jbellis. CASSANDRA-2228
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1076866 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java        | 2 +-
 test/unit/org/apache/cassandra/service/RemoveTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit fad661537c87eb19447d21c21916e35920e28420
Merge: f8ead6d 77b4e08
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 3 19:11:17 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1076729 13f79535-47bb-0310-9956-ffa450edef68

commit ed2a60707a70e21f1a2a61416f6ce3c3f1e0865e
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Mar 3 17:40:59 2011 +0000

    CFS correctly flushes index CFs.
    Patch by jbellis, reviewed by brandonwilliams for CASSANDRA-2244
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1076699 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 1f073123f61dd7245d1412adbccd4be2337705cf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 3 16:06:16 2011 +0000

    throw EOFException when seeking past EOF in read-only mode
    patch by Pavel Yaskevich; reviewed by tjake and jbellis for CASSANDRA-2256
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1076662 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java      | 101 +++++++++++++++++++++
 1 file changed, 101 insertions(+)

commit 133acbb5910a47767adb6bcd198d5671fe1af611
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 2 19:39:49 2011 +0000

    optimize node movement within the same arc of the ring
    patch by Pavel Yaskevich; reviewed by Nick Bailey for CASSANDRA-1427
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1076349 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/LeaveAndBootstrapTest.java   | 624 +++++++++++++++++++++
 .../org/apache/cassandra/service/MoveTest.java     | 618 +++++++++-----------
 2 files changed, 899 insertions(+), 343 deletions(-)

commit bca6a246699dae7d3bf405caf2833e0d7619f338
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 2 15:15:00 2011 +0000

    improved BufferedRAF test
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-2242
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1076245 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java      | 486 ++++++++++++++++++---
 1 file changed, 414 insertions(+), 72 deletions(-)

commit ece6605e9ffd4ba3e3130cc63e070e86edb1508c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 1 22:45:02 2011 +0000

    revert last pending cleanup
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1076042 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java      | 432 ++++-----------------
 1 file changed, 74 insertions(+), 358 deletions(-)

commit 2b414b1e95472dc79d1ce2807a442f6c87be04d5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 1 22:44:06 2011 +0000

    improve BufferedRAFTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1076041 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java      | 432 +++++++++++++++++----
 1 file changed, 358 insertions(+), 74 deletions(-)

commit 8097545140716f0cbde4c9112a0de2d0b75698d3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 1 16:09:28 2011 +0000

    make nodetool scrub more robust
    patch by jbellis and slebresne; tested by Sébastien Giroux for CASSANDRA-2240
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1075870 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7364c09843942bba7ef4ed363b91b54e6251b56d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 28 19:40:19 2011 +0000

    add countercolumn support to SSTableExport
    patch by slebresne; reviewed by Pavel Yaskevich for CASSANDRA-2093
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1075502 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/tools/SSTableExportTest.java  | 32 +++++++++++++++--
 .../apache/cassandra/tools/SSTableImportTest.java  | 42 ++++++++++++++++++++++
 2 files changed, 72 insertions(+), 2 deletions(-)

commit 8083405b38083087df320b99270b7ae29159a4b0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 28 07:42:36 2011 +0000

    add IndexHelperTest.java
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1075229 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/IndexHelperTest.java      | 56 ++++++++++++++++++++++
 1 file changed, 56 insertions(+)

commit 680e9bd0662a6ae2cbe6c66e2b9ca1f2980b716d
Author: Eric Evans <eevans@apache.org>
Date:   Fri Feb 25 20:41:50 2011 +0000

    prepend missing license headers
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1074693 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/KeyCacheTest.java | 21 +++++++++++++++++++++
 test/unit/org/apache/cassandra/db/ScrubTest.java    | 21 +++++++++++++++++++++
 2 files changed, 42 insertions(+)

commit 9fc9c657ece7abc1213b280afff8c5a2f803a3d5
Merge: a9cbaae b674d83
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Feb 25 15:07:11 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1074566 13f79535-47bb-0310-9956-ffa450edef68

commit 079276622158fdfabe0cd8f727e55e0f963a388a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Feb 25 14:56:57 2011 +0000

    fix BufferedRandomAccessFile bugs
    patch by jbellis; reviewed by tjake for CASSANDRA-2241
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1074555 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/DescriptorTest.java       | 16 ++++++
 .../io/util/BufferedRandomAccessFileTest.java      | 57 +++++++++++++++++-----
 2 files changed, 61 insertions(+), 12 deletions(-)

commit a9cbaae12d4d1cf961e18829c1631c6ea33240ef
Merge: 2ee140e 09a1dd5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 24 22:33:03 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1074329 13f79535-47bb-0310-9956-ffa450edef68

commit 09a1dd5e4af316fdacfb93463b20e29fff8d99db
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Feb 24 21:15:22 2011 +0000

    Cleanup and document EstimatedHistogram
    Patch by jbellis, reviewed by brandonwilliams for CASSANDRA-2232
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1074291 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/utils/EstimatedHistogramTest.java    | 45 ++++++++++++++++------
 1 file changed, 33 insertions(+), 12 deletions(-)

commit 53286d56f084270a457d8698785a189b8b410cc3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 24 19:09:42 2011 +0000

    fix supercolumn de/serialization when subcolumn comparator is different from supercolumn's
    patch by slebresne; reviewed by jbellis for CASSANDRA-2104
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1074259 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/LazilyCompactedRowTest.java       | 24 ++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 4e11242fb58cc97d7b098ed16d0102377a94a445
Merge: 91808f1 e6d74c1
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Feb 23 19:32:42 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1073896 13f79535-47bb-0310-9956-ffa450edef68

commit 019d245a7e45d237e844db188a74906c3506a31c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 23 14:58:19 2011 +0000

    make CliTest less picky about schema update output
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1073760 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c280e204d1e54188ae930c5fa5784cf8441bea53
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 23 03:44:26 2011 +0000

    nodetool scrub
    patch by jbellis and tjake; reviewed by slebresne for CASSANDRA-2217
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1073586 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ScrubTest.java   | 152 +++++++++++++++++++++
 .../cassandra/io/LazilyCompactedRowTest.java       |   2 +-
 2 files changed, 153 insertions(+), 1 deletion(-)

commit 92d5315bb43a13409b579222677af09ce7cb1e49
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 22 18:03:31 2011 +0000

    avoid EOFing on requests for the last bytes in a file
    patch by Leo Jay; reviewed by jbellis for CASSANDRA-2213
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1073438 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java      | 23 ++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 085da5d095f01ef459e6473167e8b008597fd134
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 21 06:23:48 2011 +0000

    fix build
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1072854 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c39baf502447a67bbfd430e7fece427309389640
Merge: 8b5c7a8 79fb500
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Feb 18 22:52:22 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1072184 13f79535-47bb-0310-9956-ffa450edef68

commit c16a51827b477cd76434236562bfa312620fcb5c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Feb 18 21:50:43 2011 +0000

    add RowCacheTest
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-2173
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1072164 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/db/RowCacheTest.java | 125 +++++++++++++++++++++
 1 file changed, 125 insertions(+)

commit 06fb85800c18fc386e2888d4d5333b4000698a1e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Feb 18 15:48:41 2011 +0000

    add ByteBufferUtilTest
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1072028 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/utils/ByteBufferUtilTest.java | 237 +++++++++++++++++++++
 .../apache/cassandra/utils/FBUtilitiesTest.java    |  23 --
 2 files changed, 237 insertions(+), 23 deletions(-)

commit e82a3ed733d394dba6d0997821154fd6d8177872
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 17 21:55:06 2011 +0000

    add testTransferOfMultipleColumnFamilies
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-2154
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1071805 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/streaming/StreamingTransferTest.java | 46 ++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit da5ff984d214fc081a8c37c20999d6cc293857ad
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 17 02:21:37 2011 +0000

    make DefsTest less fragile
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1071479 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit f840e42b50f61a8b14a8cdd6401857e6f6b7d6ef
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 16 22:40:51 2011 +0000

    intern column names to save old-gen heap space
    patch by jbellis; reviewed by stuhood for CASSANDRA-1255
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1071428 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CounterColumnTest.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit dc3d5bc004c753af418a4e653eed1b73b8685734
Merge: 489cafe 6facf08
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 16 20:37:17 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1071388 13f79535-47bb-0310-9956-ffa450edef68

commit 489cafe36debf7559f5c8b7cc94494b1f74bb361
Merge: e8bfce0 dc9992a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 16 20:12:37 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1071380 13f79535-47bb-0310-9956-ffa450edef68

commit 87ea405523c59349e2fb87c6dab5dc5a692b8b99
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 15 20:42:28 2011 +0000

    fix column bloom filter deserialization
    patch by jbellis and slebresne for CASSANDRA-2165
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1071042 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/LongTableTest.java     | 85 ++++++++++++++++++++++
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 55 --------------
 .../unit/org/apache/cassandra/db/KeyCacheTest.java | 69 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/TableTest.java   |  4 +-
 4 files changed, 157 insertions(+), 56 deletions(-)

commit bb1c4cba1401dfbdc935facebf5766d28856826f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 15 19:51:17 2011 +0000

    r/m empty file
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1071028 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/ReadResponseResolverTest.java | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit dc9992a391f01ef79b74b5d9fc69fb7390184ecf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 15 17:16:52 2011 +0000

    no more waiting for RPC_TIMEOUT before finishing RR
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2069
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1070977 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/ConsistencyLevelTest.java    | 14 +++-
 .../service/ReadResponseResolverTest.java          | 96 ----------------------
 .../apache/cassandra/service/RowResolverTest.java  | 96 ++++++++++++++++++++++
 3 files changed, 107 insertions(+), 99 deletions(-)

commit 269fff789cde70c2073259dda4a1616b517457fc
Merge: 79a98d2 2dbe350
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 14 16:06:50 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1070541 13f79535-47bb-0310-9956-ffa450edef68

commit a6fa41e5f11dd7cb16fc7af37d6a65216d5bdabe
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 10 02:44:50 2011 +0000

    add cli 'describe cluster' command
    patch by Pavel Yaskevich; reviewed by thobbs for CASSANDRA-2127
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1069206 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit c5ee059b06827db76dc1a6fa296f1c583916cbbf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 8 18:24:48 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1068504 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit b869c85d3f94b21197e38c5dcf3e254353bf748f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 8 00:10:12 2011 +0000

    update Sinks for #1530, fixing RemoveTest
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1068233 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 75148e12e9fb32c44c87a85bbfcd0a9221c3b368
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Feb 7 15:38:19 2011 +0000

    fix incompatible serializations. patch by gdusbabek, reviewed by brandonwilliams. CASSANDRA-1949
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1067976 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/SerializationsTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1ecdd7f91b6ff5a8b8b3339a21950221450bdd47
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Feb 7 15:38:07 2011 +0000

    introduce version to ICompactSerializer, convert a few to ICompactSerializer2. patch by gdusbabek, reviewed by brandonwilliams. CASSANDRA-1949
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1067975 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/AbstractSerializationsTester.java    |  11 ++
 test/unit/org/apache/cassandra/db/DefsTest.java    |   3 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |   5 +-
 .../apache/cassandra/db/SerializationsTest.java    | 154 ++++++++++-----------
 .../org/apache/cassandra/gms/GossipDigestTest.java |   6 +-
 .../apache/cassandra/gms/SerializationsTest.java   |  32 ++---
 .../apache/cassandra/io/CompactSerializerTest.java |   2 -
 .../cassandra/io/LazilyCompactedRowTest.java       |   3 +-
 .../cassandra/service/SerializationsTest.java      |  24 ++--
 .../cassandra/streaming/SerializationsTest.java    |  68 ++++-----
 .../org/apache/cassandra/streaming/StreamUtil.java |   2 +-
 .../cassandra/utils/LegacyBloomFilterTest.java     |  12 +-
 .../apache/cassandra/utils/SerializationsTest.java |   6 +-
 13 files changed, 168 insertions(+), 160 deletions(-)

commit 5d02c51253a4f96ae3b116b62594e3685165e336
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Feb 7 15:37:44 2011 +0000

    introduce version to Message, pt 2. patch by gdusbabek, reviewed by brandonwilliams. CASSANDRA-1949
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1067974 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/SerializationsTest.java    | 39 +++++++++++-----------
 .../org/apache/cassandra/service/RemoveTest.java   |  2 +-
 .../cassandra/service/SerializationsTest.java      |  3 +-
 .../cassandra/streaming/SerializationsTest.java    | 10 +++---
 4 files changed, 28 insertions(+), 26 deletions(-)

commit 6ab2b2337959a54468f1598b0e2d1db923c311ef
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Feb 7 15:37:30 2011 +0000

    introduce version to Message, pt 1. patch by gdusbabek, reviewed by brandonwilliams. CASSANDRA-1949
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1067973 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 362fd846cb3609b3c0047b2266aaa7e00203c0f7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Feb 5 20:40:59 2011 +0000

    make PreCompactedRow and LazyCompactedRow digest computations match
    patch by Richard Low and jbellis for CASSANDRA-2039
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1067518 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/LazilyCompactedRowTest.java       | 88 ++++++++++++++++++++--
 1 file changed, 80 insertions(+), 8 deletions(-)

commit b5a101b32cf4683fb1492c0575066146f21c49a3
Merge: 804729f 46ea05f
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Sat Feb 5 20:19:31 2011 +0000

    Merge from 0.7.  I hope.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1067508 13f79535-47bb-0310-9956-ffa450edef68

commit 46ea05fa121f7c5f412deaa2e65f21e49358960d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Feb 5 19:38:35 2011 +0000

    Make BBU.string validate input for the desired Charset
    patch by jbellis; reviewed by slebresne for CASSANDRA-2091
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1067490 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java          | 10 +++++++++-
 test/unit/org/apache/cassandra/utils/FBUtilitiesTest.java |  3 ++-
 2 files changed, 11 insertions(+), 2 deletions(-)

commit 804729f1ee53c8314b7415f36924c772c4d48bf0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Feb 5 05:13:50 2011 +0000

    add delete support for counters
    patch by Kelvin Kakugawa; reviewed by slebresne for CASSANDRA-2101
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1067391 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CounterColumnTest.java | 47 ++++++++++++++--------
 1 file changed, 31 insertions(+), 16 deletions(-)

commit 0a03819acf6ab87f356d07626189d26d3ec4fa35
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Sat Feb 5 01:31:51 2011 +0000

    Refactor gossiper.
    Patch by brandonwilliams, reviewed by gdusbabek for CASSANDRA-2092
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1067373 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 16be8fa7f092b283be956615d57791aa1a19aa41
Merge: 974b4ac 9fa7a32
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Jan 31 16:30:16 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1065676 13f79535-47bb-0310-9956-ffa450edef68

commit 9fa7a327d038066fb7761d35c2f61ff5611294d7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jan 31 16:13:20 2011 +0000

    convert SS.partitioner, valueFactory to instance fields
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1065665 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 65105b9b35690fce88faa71a2a6cf9eb3c1dc471
Author: Eric Evans <eevans@apache.org>
Date:   Sat Jan 29 17:26:00 2011 +0000

    eliminate usage of JUG for UUIDs
    
    Patch by eevans for CASSANDRA-2067
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1065080 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/TimeUUIDTypeTest.java     | 66 +++++++++++-----------
 .../cassandra/db/marshal/TypeValidationTest.java   | 12 ++--
 2 files changed, 38 insertions(+), 40 deletions(-)

commit 0da01f290dd8bae1625cda2a452d25b845794aea
Merge: 217475f 93126cb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 28 18:26:04 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1064809 13f79535-47bb-0310-9956-ffa450edef68

commit 569feedfe9f49e1de0c176431d11f5d0dc9045fe
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 28 18:21:59 2011 +0000

    replace ExecutorService.submit with .execute where a Future is not required
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1064807 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/EmbeddedServer.java                      | 2 +-
 .../apache/cassandra/concurrent/DebuggableThreadPoolExecutorTest.java   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f3630a65e168db8310f726f0d9ae8f1dd92b84d1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jan 27 00:29:39 2011 +0000

    Fit partitioned counter directly into CounterColumn.value
    patch by slebresne; reviewed by Kelvin Kakugawa for CASSANDRA-1936
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1063928 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CounterColumnTest.java | 196 ++++------
 .../org/apache/cassandra/db/SuperColumnTest.java   |  18 +-
 .../cassandra/db/context/CounterContextTest.java   | 399 +++++++++------------
 .../sstable/SSTableWriterAESCommutativeTest.java   |  24 +-
 .../service/AntiEntropyServiceTestAbstract.java    |   2 +-
 .../apache/cassandra/utils/FBUtilitiesTest.java    |  80 ++---
 6 files changed, 281 insertions(+), 438 deletions(-)

commit abc6fd9bfaf18bf47d3d033c2ea82dda3acb7a99
Merge: d1fc9a7 1506731
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Jan 26 15:05:28 2011 +0000

    merge from 0.7 (CASSANDRA-1951)
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1063753 13f79535-47bb-0310-9956-ffa450edef68

commit 1506731fa04a6d5a1e6d92d53b0fa4796badce38
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Jan 26 14:57:20 2011 +0000

    turn thrift ports off. patch by Sylvain Lebresne, reviewed by gdusbabek. CASSANDRA-1951
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1063747 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java    | 22 +---------------------
 .../service/EmbeddedCassandraServiceTest.java      |  8 +-------
 2 files changed, 2 insertions(+), 28 deletions(-)

commit d1fc9a73e8d68d7dc2f396080718aabae309dabd
Merge: ebdf465 000e0ff
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 26 01:54:17 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1063563 13f79535-47bb-0310-9956-ffa450edef68

commit baf30db1f1ea8c20261d0fd407c2184d081d6c7d
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Wed Jan 26 00:18:05 2011 +0000

    Fix broken RemoveTest; clarify which endpoint is being removed
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1063531 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/RemoveTest.java   | 30 ++++++++++++----------
 1 file changed, 16 insertions(+), 14 deletions(-)

commit 407a76fa36306ae3c76998be05fc1765ecf29781
Author: Eric Evans <eevans@apache.org>
Date:   Tue Jan 25 22:18:48 2011 +0000

    add missing license headers
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1063491 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/AbstractSerializationsTester.java     | 21 +++++++++++++++++++++
 .../org/apache/cassandra/db/SerializationsTest.java | 21 +++++++++++++++++++++
 .../cassandra/db/migration/SerializationsTest.java  | 21 +++++++++++++++++++++
 .../apache/cassandra/gms/SerializationsTest.java    | 21 +++++++++++++++++++++
 .../apache/cassandra/io/CompactSerializerTest.java  | 21 +++++++++++++++++++++
 .../cassandra/service/SerializationsTest.java       | 21 +++++++++++++++++++++
 .../cassandra/streaming/SerializationsTest.java     | 21 +++++++++++++++++++++
 .../apache/cassandra/utils/SerializationsTest.java  | 21 +++++++++++++++++++++
 8 files changed, 168 insertions(+)

commit f326802e33fc159138a3b995d551cdb613c69768
Merge: f3a286d 959cf99
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Jan 24 20:48:05 2011 +0000

    merge from 0.7 (CASSANDRA-1923)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1062966 13f79535-47bb-0310-9956-ffa450edef68

commit 434636a6d7d40d0460acdd9f9063ce81f26d7bbf
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Jan 24 20:05:25 2011 +0000

    Serialization tests. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1923
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1062953 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/AbstractSerializationsTester.java    |  29 ++
 .../apache/cassandra/db/SerializationsTest.java    | 315 +++++++++++++++++++++
 .../cassandra/db/migration/SerializationsTest.java |  59 ++++
 .../apache/cassandra/gms/SerializationsTest.java   |  94 ++++++
 .../cassandra/service/SerializationsTest.java      |  80 ++++++
 .../cassandra/streaming/SerializationsTest.java    | 183 ++++++++++++
 .../apache/cassandra/utils/SerializationsTest.java |  96 +++++++
 7 files changed, 856 insertions(+)

commit c00f241fcca7b185b49f50b6775b7e6ad2852a19
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Jan 24 20:03:44 2011 +0000

    ICompactSerializerTest assures serialization assumptions. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1923
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1062951 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/CompactSerializerTest.java | 128 +++++++++++++++++++++
 1 file changed, 128 insertions(+)

commit ebc25c187be12487ae8ec11ff8f18af5549912b6
Author: Eric Evans <eevans@apache.org>
Date:   Mon Jan 24 17:41:14 2011 +0000

    generate more human-readable json
    
    Patch by Pavel Yaskevich; reviewed by eevans for CASSANDRA-1933
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1062896 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/tools/SSTableImportTest.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 7207ad4ec8516297e1f27a42e8606176193bf305
Merge: 2d54909 98aaa38
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 19 23:09:41 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1061057 13f79535-47bb-0310-9956-ffa450edef68

commit 0be34cec4130b2b39b7a4dc7ef9ad2b2c0000f7f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 19 22:51:16 2011 +0000

    wrap some listen_address BindExceptions with more user-friendly error messages
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1061046 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/locator/DynamicEndpointSnitchTest.java    |  3 ++-
 test/unit/org/apache/cassandra/service/InitClientTest.java     | 10 ++++------
 test/unit/org/apache/cassandra/service/RemoveTest.java         |  3 ++-
 .../org/apache/cassandra/service/StorageServiceClientTest.java |  3 ++-
 4 files changed, 10 insertions(+), 9 deletions(-)

commit 78c7a79e4388971609bcaf0c51681143284b2a1e
Merge: 673f828 9f36c57
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 19 17:14:06 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1060870 13f79535-47bb-0310-9956-ffa450edef68

commit 6350c16e6d32ff318189bc861b25e4677e80a91a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 19 16:39:52 2011 +0000

    move FBU.hex methods to BBU
    patch by slebresne; reviewed by jbellis for CASSANDRA-2009
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1060857 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/tools/SSTableExportTest.java | 14 +++++++-------
 .../unit/org/apache/cassandra/tools/SSTableImportTest.java | 10 +++++-----
 2 files changed, 12 insertions(+), 12 deletions(-)

commit fe57cc5e37a1af282d9a0e97ea14876507bca170
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 19 16:37:21 2011 +0000

    move read methods from FBU to BBU
    patch by slebresne; reviewed by jbellis for CASSANDRA-2009
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1060854 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java                 | 3 +--
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 3 +--
 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java       | 6 +++---
 3 files changed, 5 insertions(+), 7 deletions(-)

commit 154eec90baa5a2a8b2a3e04fe1f7ac2d9a8cb3b6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 19 16:35:00 2011 +0000

    move and rename FBU.byteBufferToInt and toByteBuffer to BBU.toInt and BBU.bytes
    patch by slebresne; reviewed by jbellis for CASSANDRA-2009
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1060853 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 49 +++++++++++-----------
 test/unit/org/apache/cassandra/db/TableTest.java   |  4 +-
 .../hadoop/ColumnFamilyInputFormatTest.java        |  4 +-
 .../cassandra/io/sstable/SSTableWriterTest.java    | 11 +++--
 .../cassandra/streaming/StreamingTransferTest.java |  4 +-
 .../apache/cassandra/utils/FBUtilitiesTest.java    |  4 +-
 6 files changed, 37 insertions(+), 39 deletions(-)

commit 67047232b29a5ebeedaa8f8f7db82af031cf3226
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Jan 18 21:26:44 2011 +0000

    back out of 2001. patch by gdusbabek. CASSANDRA-2001
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1060583 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/DatabaseDescriptorTest.java       |  4 ++--
 test/unit/org/apache/cassandra/db/DefsTest.java        | 18 +++++++++---------
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 361a08dab56cdd92c1036ccc8122a0c15cc02a95
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Jan 18 18:07:40 2011 +0000

    get rid of the avro db.migrations classes that were duplicated elsewhere. patch by gdusbabek, reviewed by eevans. CASSANDRA-2001
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1060496 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/DatabaseDescriptorTest.java       |  4 ++--
 test/unit/org/apache/cassandra/db/DefsTest.java        | 18 +++++++++---------
 2 files changed, 11 insertions(+), 11 deletions(-)

commit a655588d1272dbd40e0c9153b890a31b848657dc
Merge: 0c5eb07 13cf4f4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 18 15:56:22 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1060428 13f79535-47bb-0310-9956-ffa450edef68

commit 43d330ddd8facd692502315c3dfe641e788f2733
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jan 17 20:22:09 2011 +0000

    move FBUtilities.EMPTY_BYTE_BUFFER to ByteBufferUtil
    patch by slebresne; reviewed by jbellis for CASSANDRA-1998
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1060077 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java |  5 +--
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 22 +++++-----
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 16 ++++----
 .../org/apache/cassandra/db/CompactionsTest.java   |  6 +--
 test/unit/org/apache/cassandra/db/DefsTest.java    |  5 +--
 .../org/apache/cassandra/db/OneCompactionTest.java |  4 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  7 ++--
 test/unit/org/apache/cassandra/db/TableTest.java   | 48 +++++++++++-----------
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  9 ++--
 .../cassandra/db/marshal/TypeCompareTest.java      | 23 +++++------
 .../cassandra/io/LazilyCompactedRowTest.java       | 17 ++++----
 .../cassandra/io/sstable/SSTableReaderTest.java    |  6 +--
 .../cassandra/io/sstable/SSTableWriterTest.java    |  2 +-
 .../cassandra/streaming/StreamingTransferTest.java |  2 +-
 14 files changed, 76 insertions(+), 96 deletions(-)

commit 0c5eb07c789e66ebca00dc3f05b077df780718c9
Merge: abe6971 8db18bf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jan 17 17:08:44 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1059992 13f79535-47bb-0310-9956-ffa450edef68

commit 5db8757602842f2a73bdfe28774f43f593625025
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jan 17 16:00:00 2011 +0000

    fix CLI parsing of "cluster name."
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1995
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1059965 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 29 +++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 1ed43c141acd3d8d96a9e99d36aed84fb363d365
Author: Eric Evans <eevans@apache.org>
Date:   Sun Jan 16 04:05:39 2011 +0000

    CASSANDRA-926 denormalize avro internode/rpc schema
    
    Patch by eevans; reviewed by Jeremy Hanna for CASSANDRA-926
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1059454 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/EmbeddedServer.java    |  6 +-----
 .../cassandra/config/DatabaseDescriptorTest.java      |  4 ++--
 test/unit/org/apache/cassandra/db/DefsTest.java       | 19 +++++++++----------
 3 files changed, 12 insertions(+), 17 deletions(-)

commit 316631ea0e94e31b7f63d7126ef04b16d228aca6
Merge: 97630d1 29a373b
Author: T Jake Luciani <jake@apache.org>
Date:   Sat Jan 15 03:11:15 2011 +0000

    merge from 0.7
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1059244 13f79535-47bb-0310-9956-ffa450edef68

commit 3787d6cfe4ea4ae5dea7542793003885f65cb25a
Author: T Jake Luciani <jake@apache.org>
Date:   Sat Jan 15 02:10:09 2011 +0000

    zero-copy reads
    Patch by Pavel Yaskevich; Reviewed by Jake Luciani for CASSANDRA-1714
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1059227 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java    |  4 +--
 test/unit/org/apache/cassandra/db/TableTest.java   | 38 +++++++++++-----------
 test/unit/org/apache/cassandra/dht/RangeTest.java  | 21 ++++++++++++
 .../cassandra/io/LazilyCompactedRowTest.java       | 30 +++++++++++------
 4 files changed, 62 insertions(+), 31 deletions(-)

commit 97630d1f9ba812e1312b68ed4fe075639da60643
Merge: 71f0028 55a7afb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 14 19:53:00 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1059145 13f79535-47bb-0310-9956-ffa450edef68

commit 33a66405831af0ca2a5ad0e3a244c6f246902479
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Jan 13 23:09:10 2011 +0000

    Streaming support for json2sstable.
    Patch by Pavel Yaskevich, reviewed by brandonwilliams for CASSANDRA-1898
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1058788 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/tools/SSTableExportTest.java  | 22 ++++++++++-----------
 .../apache/cassandra/tools/SSTableImportTest.java  | 23 ++++++++++++++++------
 2 files changed, 28 insertions(+), 17 deletions(-)

commit be1b25046650af0a99c2a7601b5a1a9f3418b3b4
Merge: 9884fcd 248514e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 11 23:41:23 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1057935 13f79535-47bb-0310-9956-ffa450edef68

commit a043125eb54193512c86086fcd90fbe798bc0367
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 11 23:36:37 2011 +0000

    convert MessagingService into a true singleton
    patch by Folke Behrens; reviewed by jbellis for CASSANDRA-1959
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1057930 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9ef94ebc6d8da1afff6d1a6d6c154999c45ead4b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 11 14:18:33 2011 +0000

    Keep partitioned counter contexts sorted
    patch by slebresne; reviewed by Kelvin Kakugawa for CASSANDRA-1937
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1057652 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CounterColumnTest.java |  15 +-
 .../org/apache/cassandra/db/SuperColumnTest.java   |  24 +--
 .../cassandra/db/context/CounterContextTest.java   | 193 ++++++---------------
 3 files changed, 71 insertions(+), 161 deletions(-)

commit fe55683b7f8ccdff46d94d840c227119c8b162ed
Merge: c415096 8d28548
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 11 14:12:25 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1057646 13f79535-47bb-0310-9956-ffa450edef68

commit 8d28548efb8c3afc496e98a400c3a4418119e168
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 11 14:09:36 2011 +0000

    optimize supercolumn deserialization
    patch by Cliff Moon and jbellis; reviewed by Stu Hood for CASSANDRA-1891
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1057641 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/tools/SSTableImportTest.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 8648ab229f72c00a17a4c8da716ea0b0786ac567
Merge: aebfc9c 3142f3b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 5 22:35:09 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1055669 13f79535-47bb-0310-9956-ffa450edef68

commit d36ec10152b29ed052e12acdde1ae74b726698b3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 5 21:57:03 2011 +0000

    merge from 0.7.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1055658 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/NameSortTest.java            | 2 +-
 test/unit/org/apache/cassandra/db/marshal/TypeCompareTest.java | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 6309c22de2140039b84f24fd338eed383738ade1
Merge: 70dd7c7 8953630
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 5 07:18:16 2011 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1055326 13f79535-47bb-0310-9956-ffa450edef68

commit dcb61125e665c7a955ba293fbda11f3fad472ef0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 5 07:00:33 2011 +0000

    rename [Datacenter]QuorumResponseHandler -> [Datacenter]ReadCallback
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1055320 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/ConsistencyLevelTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f4b9e89f51dc82669dd62211fef6d1d5a47d4593
Merge: 8fe50bf 37ec7d3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 31 16:58:30 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1054136 13f79535-47bb-0310-9956-ffa450edef68

commit 37ec7d326d0a5125b197291234a462eda31a5883
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 31 16:52:56 2010 +0000

    encapsulate MessagingService.instance to avoid circular initializtion dependencies
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1054135 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6e3cd4ea25bae69b99ab11491f047ab5cef92197
Merge: 8110c63 a2e21dc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 30 18:33:52 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1053968 13f79535-47bb-0310-9956-ffa450edef68

commit e5f87d1d91340db050a9a4efa954a82ee371aafa
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Thu Dec 30 18:20:37 2010 +0000

    Fix CompactionManager regression from CASSANDRA-1916 and add a better
    test and more docs to prevent in the future.
    Patch by jbellis, reviewed by brandonwilliams for CASSANDRA-1922
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1053960 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java | 59 +++++++++++++++-------
 1 file changed, 42 insertions(+), 17 deletions(-)

commit 8110c63b16563e930504afaad800fb7b84b69410
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 30 16:33:17 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1053933 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java | 124 +++++++++++++++++++++
 1 file changed, 124 insertions(+)

commit ebdc7cd9a46c652ccfd78ee47cc637d9a41fae98
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 30 16:18:33 2010 +0000

    merge from 0.7.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1053927 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CleanupTest.java | 124 +++++++++++++++++++++
 1 file changed, 124 insertions(+)

commit c4af76cb2244b968401a00cb6f2d90c8b90ff672
Merge: 592970a 0fd507b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Dec 29 23:38:56 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1053772 13f79535-47bb-0310-9956-ffa450edef68

commit 0fd507be5a76c227504a9acf18d7d58e24201162
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Dec 29 22:55:54 2010 +0000

    merge from 0.7.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1053765 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/utils/MerkleTreeTest.java | 114 +++++++++++----------
 1 file changed, 58 insertions(+), 56 deletions(-)

commit 592970a87b72365e3459d0916cf5cbb0bdfc6d1a
Merge: 3bd32e4 df9e121
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Dec 29 19:43:22 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1053717 13f79535-47bb-0310-9956-ffa450edef68

commit df9e121fd904a3405939f70d3b2eafcc8d0fdd75
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Dec 29 19:36:22 2010 +0000

    merge from 0.7.0
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1053714 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/TimeUUIDTypeTest.java  | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 617f2ff12ce049d9605fa9e6e8e7db9ec67e87cb
Merge: 84e0fca 414d2e4
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Dec 29 14:38:27 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1053644 13f79535-47bb-0310-9956-ffa450edef68

commit 414d2e4fec08a9f32b6a55b11907c21f8ae68075
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Dec 29 14:37:09 2010 +0000

    add missed test that should have been included in CASSANDRA-1814
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1053643 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/TypeValidationTest.java   | 123 +++++++++++++++++++++
 1 file changed, 123 insertions(+)

commit 23067c7bf1132c6146e3c83943cef6cb202da9f1
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Dec 29 14:16:55 2010 +0000

    row level coverage in LegacySSTableTest. patch by stuhood, reviewed by gdusbabek. CASSANDRA-1822
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1053638 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      |   2 +-
 .../cassandra/io/sstable/LegacySSTableTest.java    |  45 +++----
 .../apache/cassandra/io/sstable/SSTableTest.java   |   4 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  | 130 +++++++++++++++------
 .../cassandra/io/sstable/SSTableWriterTest.java    |   2 +-
 .../cassandra/streaming/StreamingTransferTest.java |   4 +-
 6 files changed, 116 insertions(+), 71 deletions(-)

commit 718b65e6aeae12e814864ed05ece5180bd310fbe
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Dec 28 17:15:35 2010 +0000

    refactor LegacySSTableTest to inspect row contents (breaks tests). patch by stuhood, reviewed by gdusbabek. CASSANDRA-1822
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1053393 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/LegacySSTableTest.java    | 45 ++++++++--------------
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  7 +---
 2 files changed, 18 insertions(+), 34 deletions(-)

commit 37317eb5c9d78e1be1d4606e384b9682127b1d06
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Dec 28 17:15:26 2010 +0000

    refactor SSTableUtils to add chainable configuration. patch by stuhood, reviewed by gdusbabek. CASSANDRA-1822
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1053392 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      |   2 +-
 .../apache/cassandra/io/sstable/SSTableTest.java   |   4 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  | 119 +++++++++++++++------
 .../sstable/SSTableWriterAESCommutativeTest.java   |   4 +-
 .../cassandra/io/sstable/SSTableWriterTest.java    |   2 +-
 .../cassandra/streaming/StreamingTransferTest.java |   4 +-
 6 files changed, 93 insertions(+), 42 deletions(-)

commit 609a47b2ecfa8ccab94b24b792ddfb8b56806c00
Merge: 6b60d81 88f47b8
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Dec 27 22:19:01 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1053207 13f79535-47bb-0310-9956-ffa450edef68

commit 436f3d0db54d7f5021c18612b18769ed758a0191
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 24 18:23:27 2010 +0000

    make sure expiring column lives for duration of test
    patch by tjake; reviewed by jbellis for CASSANDRA-1892
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1052545 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/tools/SSTableExportTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b60d81f0e0c51d823f0c935d169cb60a39597f1
Merge: 32ec973 6cb811b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 24 17:59:20 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1052543 13f79535-47bb-0310-9956-ffa450edef68

commit 6cb811b454779ae34df509b09abb69134795a4cf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 24 17:58:22 2010 +0000

    add OpenBitSet to support larger bloom filters
    patch by Ryan King, Stu Hood, and tjake for CASSANDRA-1555
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1052542 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/utils/LongBloomFilterTest.java       |  72 ++++++-----
 .../cassandra/utils/LongLegacyBloomFilterTest.java |  66 ++++++++++
 .../cassandra/io/LazilyCompactedRowTest.java       |   4 +-
 .../apache/cassandra/utils/BloomFilterTest.java    |  64 ++++++++--
 .../org/apache/cassandra/utils/FilterTest.java     | 114 -----------------
 .../apache/cassandra/utils/FilterTestHelper.java   |  82 ++++++++++++
 .../cassandra/utils/LegacyBloomFilterTest.java     | 138 +++++++++++++++++++++
 7 files changed, 381 insertions(+), 159 deletions(-)

commit 32ec9738779b0c3d285c5b1d691977b1db170778
Merge: e98eb1c 3991fba
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 24 17:11:34 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1052532 13f79535-47bb-0310-9956-ffa450edef68

commit 3991fba440756ce5174f54dd544302a0591e61c8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 24 16:57:07 2010 +0000

    avoid polluting pagecache with commitlog or sstable writes and seq scan operations
    patch by Pavel Yaskevich and Chris Goffinet; reviewed by tjake and jbellis for CASSANDRA-1470
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1052531 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/util/BufferedRandomAccessFileTest.java | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 41b98c2dcc28a92638bcab6691ffdd6469e08bf3
Merge: 44f0214 0ed7355
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 23 19:06:50 2010 +0000

    merge from 0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1052356 13f79535-47bb-0310-9956-ffa450edef68

commit 0ed735570d80c42f4f279c54d652d9b1a2833e3d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 23 18:57:13 2010 +0000

    fix CLI get recognition of supercolumns
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1899
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1052355 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 3 +++
 1 file changed, 3 insertions(+)

commit 2a6df9a65b621f0c7de7ab134dfe2eba3d750f97
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Dec 21 22:27:32 2010 +0000

    apply CF metadata updates only at apply time. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1853
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1051683 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 2c4ac98c9ffa8ea52da801830c7cdb745ddc28f0
Author: Johan Oskarsson <johan@apache.org>
Date:   Tue Dec 21 22:17:09 2010 +0000

    Adds support for columns that act as incr/decr counters. Patch primarily by Kelvin Kakugawa with select parts from Chris Goffinet, Sylvain Lebresne, Rob Coli, Johan Oskarsson, Adam Samet, Jaakko Laine and more. Review by Jonathan Ellis and Sylvain Lebresne. CASSANDRA-1072.
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1051679 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  21 +
 .../org/apache/cassandra/db/CounterColumnTest.java | 346 +++++++++++++
 test/unit/org/apache/cassandra/db/DefsTest.java    |   2 +
 .../org/apache/cassandra/db/SuperColumnTest.java   |  71 ++-
 .../cassandra/db/context/CounterContextTest.java   | 536 +++++++++++++++++++++
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  14 +-
 .../sstable/SSTableWriterAESCommutativeTest.java   | 186 +++++++
 .../cassandra/io/sstable/SSTableWriterTest.java    |   3 +-
 .../service/AntiEntropyServiceCounterTest.java     |  10 +
 .../service/AntiEntropyServiceStandardTest.java    |  10 +
 .../service/AntiEntropyServiceTestAbstract.java    | 273 +++++++++++
 .../apache/cassandra/streaming/BootstrapTest.java  |   2 +-
 .../cassandra/streaming/StreamingTransferTest.java |   4 +-
 .../cassandra/thrift/ThriftValidationTest.java     |  20 +
 .../apache/cassandra/utils/FBUtilitiesTest.java    |  73 +++
 15 files changed, 1564 insertions(+), 7 deletions(-)

commit e9b1acc5f40adca7de1a97763f1f9816635fabe6
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Dec 21 22:14:02 2010 +0000

    apply CF metadata updates only at apply time. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1853
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1051678 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit a3384f39273ed53a693ba72f13da3042d4811d05
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 21 21:44:22 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1051665 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/ConsistencyLevelTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b5cc27121bb5203fab1f550a336b62fc62d1a45e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Dec 20 04:56:09 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1050989 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit e856470fa159040128540a104618fb1cc1bdb6f9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 17 03:02:57 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1050271 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 49d8b3f49a444261e03b60bf4c8f260808d00fab
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Dec 15 15:22:27 2010 +0000

    track row deletions when merging cols to form a row. patch by gdusbabek and jbellis. CASSANDRA-1837
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1049588 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 171 +++++++++++++++++++++
 1 file changed, 171 insertions(+)

commit f1783319fb21d334f285568427f5b478793edf49
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Dec 11 06:51:11 2010 +0000

    ECST no longer needs to manually read cfdefs from yaml now that cleanuphelper (via schemaloader) is
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1044573 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/service/EmbeddedCassandraServiceTest.java    | 8 --------
 1 file changed, 8 deletions(-)

commit 789f625bf32454f133601560ebc86b6aecec1936
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Dec 11 06:28:33 2010 +0000

    make ECST extend CleanupHelper
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1044572 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/EmbeddedCassandraServiceTest.java | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit c48abe4c1fbebe1052a53840fee98be91316f3f2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Dec 11 06:26:45 2010 +0000

    make NameSortTest fast to make Hudson quit bitching
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1044570 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/NameSortTest.java | 19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit 1ae56a66e4a5b5272783edaeefa33d193c7647dc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 10 16:29:37 2010 +0000

    add TTL support to CLI
    patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-1838
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1044422 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit eb189699f059c8e0bba56a394021cb5a33c2661b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 9 20:20:26 2010 +0000

    revert last
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1044117 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/net/MessageSerializerTest.java       | 44 ----------------------
 1 file changed, 44 deletions(-)

commit 2c438e5881b7abdc013ac2d1ac449683261f09d9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 9 20:19:40 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1044116 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/net/MessageSerializerTest.java       | 44 ++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit a4ebfe322cf1eedf7afa2da3fbec92d85a6a96e7
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Dec 9 14:38:50 2010 +0000

    validation that generates less garbage. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1814
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1043985 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/db/marshal/TimeUUIDTypeTest.java | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit b52b98548d7a7e4e7b99d1c8e720dcd2fd9878fb
Author: Eric Evans <eevans@apache.org>
Date:   Mon Dec 6 17:22:36 2010 +0000

    prepend missing license blurb
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1042731 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/ConsistencyLevelTest.java     | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 2c6f56ddcb1248b14a27c6a1462de25c29177acf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 3 18:52:06 2010 +0000

    reads at ConsistencyLevel > 1 throwUnavailableException immediately if insufficient live nodes exist
    patch by jbellis and tjake for CASSANDRA-1803
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1041951 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/ConsistencyLevelTest.java    | 145 +++++++++++++++++++++
 1 file changed, 145 insertions(+)

commit 5856ee9e6e7732922bc2c331f4cdf7ee741bd661
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 3 14:25:24 2010 +0000

    cli support index type enum names
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1810
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1041834 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 56770fc8070f15188e80e85978e235d75dc9f39f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 3 14:23:44 2010 +0000

    fix cli case sensitivity for index queries
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1809'
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1041833 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 2f5f0c2c12a2d9c91cad79655b80382a2bd4c132
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 2 01:48:18 2010 +0000

    fix consistencylevel calculations forNetworkTopologyStrategy
    patch by jbellis; reviewed by Jon Hermes for CASSANDRA-1804
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1041250 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java |  3 ++-
 .../locator/OldNetworkTopologyStrategyTest.java    | 22 +++++++---------------
 .../cassandra/locator/SimpleStrategyTest.java      |  4 ++--
 .../cassandra/service/AntiEntropyServiceTest.java  |  4 ++--
 .../org/apache/cassandra/service/MoveTest.java     |  6 +++---
 5 files changed, 16 insertions(+), 23 deletions(-)

commit 8fbf2e78f7fc2ba5ec8343101ccb586af43124c9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 2 01:17:09 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1041243 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/StorageProxyTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a9e3fa1c54580a01132bed0c2401ced7706a9e7e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Dec 1 18:01:51 2010 +0000

    SimpleStrategyTest extends CleanupHelper to avoid heisenbugs from other tests' left-overs
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1041109 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 7200c81c2fc22215128834034420a00bdc707c60
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Nov 29 22:42:39 2010 +0000

    rename SinkManager.addSink -> SinkManager.add
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1040329 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a161f9f0639c1fa594d1f9cdfd92565dc35a965e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Nov 29 22:28:25 2010 +0000

    clean up SinkManager
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1040325 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/RemoveTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a44a150e9cd322aaffda68628ea3ff608519b12c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Nov 29 19:36:08 2010 +0000

    add ExpiringColumn support to sstable import/export
    patch by Sylvain Lebresne; reviewed by jbellis for CASSANDRA-1754
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1040241 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/tools/SSTableExportTest.java     | 10 +++++++++-
 .../org/apache/cassandra/tools/SSTableImportTest.java     | 15 +++++++++++++--
 2 files changed, 22 insertions(+), 3 deletions(-)

commit ac4d0161471bc5bd6971226a30074f3e8ef4879c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 23 19:27:44 2010 +0000

    rebuild Strategy during system_update_keyspace
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1762
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1038293 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/locator/ReplicationStrategyEndpointCacheTest.java  | 2 +-
 test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java          | 2 +-
 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java      | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 2d51d59a93c389ab35e80449b2608aa71c348207
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Nov 23 16:28:20 2010 +0000

    fix add/remove bugs in CFMetadata. patch by gdusbabek, reviewed by tjake. CASSANDRA-1768
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1038192 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 60 +++++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit 77ede1e360c8cb2d9487acea528cc371a39a9314
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 23 04:21:43 2010 +0000

    fix capitalization, underscores in AE, request JMX names
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1037991 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 869028237882d6fdc157bbcf91fd8cdd9a9ac515
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 19 17:07:53 2010 +0000

    multi-line cli commands, other cleanup
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1742
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1036945 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 134 +++++++++++++-----------
 1 file changed, 72 insertions(+), 62 deletions(-)

commit 477eecb1cc5bcc5fa10e130c93a54864d1f56f86
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri Nov 19 16:55:37 2010 +0000

    fix flush and compaction races with schema updates. patch by gdusbabek and jbellis. CASSANDRA-1715
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1036937 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      |   2 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   2 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    | 155 +++++++++------------
 .../cassandra/io/sstable/SSTableWriterTest.java    |   1 +
 4 files changed, 68 insertions(+), 92 deletions(-)

commit 53b49b1180dd2299b76709b4e7cf2ac184d2190e
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri Nov 19 16:26:16 2010 +0000

    resolve circular initializer dependency deadlock. patch by Erik Onnen and Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-1756
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1036922 13f79535-47bb-0310-9956-ffa450edef68

 .../locator/DynamicEndpointSnitchTest.java         |  7 ++--
 .../apache/cassandra/service/InitClientTest.java   | 37 ++++++++++++++++++++++
 2 files changed, 42 insertions(+), 2 deletions(-)

commit 22666f1c34aa28b102d2f5cd15976188b8d4c65b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 18 10:12:38 2010 +0000

    fix sstableimport regression
    patch by Bryan Tower; reviewed by Sylvain Lebresne for CASSANDRA-1753
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1036384 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/tools/SSTableImportTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 8f878b7931b3ba250842e7b48ac569abf88dd3c1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 18 01:36:04 2010 +0000

    retain reference to PendingFile sstables
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-1749
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1036309 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/BootstrapTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ecd8392638d65372a7fc6dd525f0bffcaea000b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 17 19:45:14 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1036178 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/AntiEntropyServiceTest.java      | 18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 9b5c44caf3046c72808d053d2e7045d0f775be79
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 16 15:37:21 2010 +0000

    fix LexicalUUID.getUUID use of ByteBuffer, and inline into UUIDGen.getUUID
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1035659 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java                 | 3 +--
 test/unit/org/apache/cassandra/db/marshal/TimeUUIDTypeTest.java | 8 +++-----
 test/unit/org/apache/cassandra/utils/UUIDTests.java             | 4 ++--
 3 files changed, 6 insertions(+), 9 deletions(-)

commit 8ef5d503390d77b95c1639d7b139980597315c34
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Nov 15 19:23:04 2010 +0000

    fix cli list + "assume CF keys as uuid."
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1035418 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 018310e2708f19260ad1f31ff9e9da2b3bd85b23
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 11 14:21:16 2010 +0000

    add lexicaluuid(), timeuuid() functions
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1687
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1033949 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit d97f3f19397339ef056929fc0224c4efd6940578
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 11 03:07:12 2010 +0000

    add ASSUME cli statement
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1693
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1033808 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 602605f45b42c4d2dfb117cf261129354760c1c3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 10 14:30:31 2010 +0000

    special case the special case
    > patch by Stu Hood; reviewed by jbellis for CASSANDRA-1722
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1033489 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/StorageProxyTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 9d7568282babd4811c9433ef066d8cea15fe3452
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 5 02:25:23 2010 +0000

    add additional debug logging to ColumnFamilyStore.scan
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1031404 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8720e2e3322b4b6a04ecbf3f1a99746ca557b9bb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 3 16:40:39 2010 +0000

    improve cli handlingof non-string column names
    patch by Jim Ancona; reviewed by Pavel Yaskevich for CASSANDRA-1701
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1030529 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 32 ++++++++++++++++++++++---
 1 file changed, 29 insertions(+), 3 deletions(-)

commit 9c5a6d52399ec3828660e03b5691277a2fb179a2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 3 14:07:54 2010 +0000

    fix split of wrapping range centered on a member token
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-1700
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1030472 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/StorageProxyTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 79560b67cb59f02c9599891b01ed37d9d95341b1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Oct 30 22:53:22 2010 +0000

    cleanup.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1029217 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/RemoveTest.java   | 108 +++++++++++----------
 1 file changed, 59 insertions(+), 49 deletions(-)

commit 1a562c4efb765cb8e3594b9d0d1a7694b28b0def
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 26 23:19:09 2010 +0000

    CliTest should extend CleanupHelper.  patch by Pavel Yaskevich and jbellis for CASSANDRA-1648
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1027768 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 4ad62ff9139327527609883103ed432462f8b247
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 26 10:54:58 2010 +0000

    cli truncate support.  patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1653
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1027456 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 5 +++++
 1 file changed, 5 insertions(+)

commit 83586696d469ea374fb1d6348846d524dfc59e21
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 26 03:14:08 2010 +0000

    include offset in buffer calculations.  patch by Jake Luciani; reviewed by Stu Hood for CASSANDRA-1661
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/branches/cassandra-0.7@1027349 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java |   4 +-
 .../cassandra/config/ColumnDefinitionTest.java     |   7 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 147 ++++++++++++---------
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  37 +++---
 .../apache/cassandra/db/CompactionsPurgeTest.java  |  10 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    | 104 +++++++++------
 .../unit/org/apache/cassandra/db/NameSortTest.java |  64 +++++----
 .../org/apache/cassandra/db/OneCompactionTest.java |   4 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  16 ++-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |   5 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   8 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   8 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   8 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  10 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |   8 +-
 .../apache/cassandra/db/RemoveSuperColumnTest.java |  26 ++--
 .../org/apache/cassandra/db/RowIterationTest.java  |   4 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |  12 +-
 .../org/apache/cassandra/db/SuperColumnTest.java   |   6 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 133 +++++++++++--------
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  14 +-
 .../cassandra/db/marshal/TypeCompareTest.java      |  34 ++---
 .../cassandra/io/LazilyCompactedRowTest.java       |  19 +--
 .../cassandra/io/sstable/SSTableReaderTest.java    |   7 +-
 .../cassandra/io/sstable/SSTableWriterTest.java    |  19 +--
 .../cassandra/service/AntiEntropyServiceTest.java  |   9 +-
 .../service/EmbeddedCassandraServiceTest.java      |   7 +-
 .../cassandra/streaming/StreamingTransferTest.java |  23 ++--
 .../apache/cassandra/tools/SSTableExportTest.java  |  29 ++--
 .../apache/cassandra/tools/SSTableImportTest.java  |  11 +-
 .../apache/cassandra/utils/BloomFilterTest.java    |   6 +-
 .../org/apache/cassandra/utils/FilterTest.java     |   6 +-
 32 files changed, 454 insertions(+), 351 deletions(-)

commit 6af572671bcdd8d254bf12528661d751ac499452
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 22 21:18:15 2010 +0000

    move strategy creation into Table instantiation so it can't be out of sync
    patch by jbellis; tested by Paul Cannon for CASSANDRA-1649
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1026497 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/ReplicationStrategyEndpointCacheTest.java  | 5 +++--
 test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java   | 9 ++-------
 .../org/apache/cassandra/service/AntiEntropyServiceTest.java     | 2 +-
 3 files changed, 6 insertions(+), 10 deletions(-)

commit 729022c655c278f823537453dc33344eb8bcb78f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 22 17:54:44 2010 +0000

    remove preload_row_cache option
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-1647
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1026429 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 8 --------
 1 file changed, 8 deletions(-)

commit cdb07b193f1da88be90198ee1764697f0e050fb0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 22 15:46:49 2010 +0000

    update CassandraBulkLoader for Thrift 0.5; replace UnsupportedEncodingException catches w/ Charsets.UTF_8.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1026380 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/marshal/TypeCompareTest.java    | 10 ++++++----
 .../cassandra/service/EmbeddedCassandraServiceTest.java     | 13 ++++++-------
 2 files changed, 12 insertions(+), 11 deletions(-)

commit 187761a3229a9d6853090295d966731fb1170458
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 22 03:23:51 2010 +0000

    upgrade to Thrift 0.5
    patch by Jake Luciani; reviewed by jbellis for CASSANDRA-1367
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1026201 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 47 +++++++++++-----------
 test/unit/org/apache/cassandra/db/TableTest.java   |  5 +--
 .../hadoop/ColumnFamilyInputFormatTest.java        |  3 +-
 .../cassandra/io/sstable/SSTableWriterTest.java    | 10 ++---
 .../cassandra/streaming/StreamingTransferTest.java |  6 +--
 .../apache/cassandra/tools/SSTableExportTest.java  |  2 +-
 .../apache/cassandra/utils/FBUtilitiesTest.java    |  6 +--
 .../org/apache/cassandra/utils/MerkleTreeTest.java |  4 +-
 8 files changed, 39 insertions(+), 44 deletions(-)

commit e7a385ac3f1e3378b63e0340e7d57d6b626f27d7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 22 03:23:26 2010 +0000

    tjake
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1026200 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  15 ++-
 .../org/apache/cassandra/client/TestRingCache.java |  23 ++--
 .../cassandra/config/ColumnDefinitionTest.java     |   6 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 149 +++++++++++----------
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  35 ++---
 .../apache/cassandra/db/CompactionsPurgeTest.java  |  28 ++--
 .../org/apache/cassandra/db/CompactionsTest.java   |   3 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |  75 ++++++-----
 .../unit/org/apache/cassandra/db/NameSortTest.java |  17 +--
 .../org/apache/cassandra/db/OneCompactionTest.java |   4 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  34 ++---
 .../apache/cassandra/db/RecoveryManager2Test.java  |   3 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |   9 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   7 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   7 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   7 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |   9 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |   7 +-
 .../apache/cassandra/db/RemoveSuperColumnTest.java |  25 ++--
 .../org/apache/cassandra/db/RowIterationTest.java  |   3 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |  11 +-
 .../org/apache/cassandra/db/SuperColumnTest.java   |   6 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 122 ++++++++---------
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  30 +++--
 .../cassandra/db/marshal/IntegerTypeTest.java      | 131 +++++++++---------
 .../cassandra/db/marshal/TimeUUIDTypeTest.java     |  25 ++--
 .../cassandra/db/marshal/TypeCompareTest.java      |  56 ++++----
 .../CollatingOrderPreservingPartitionerTest.java   |   4 +-
 .../apache/cassandra/dht/PartitionerTestCase.java  |  13 +-
 .../hadoop/ColumnFamilyInputFormatTest.java        |   7 +-
 .../cassandra/io/LazilyCompactedRowTest.java       |  40 +++---
 .../cassandra/io/sstable/LegacySSTableTest.java    |  25 ++--
 .../cassandra/io/sstable/SSTableReaderTest.java    |  15 ++-
 .../apache/cassandra/io/sstable/SSTableTest.java   |  29 ++--
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  27 ++--
 .../cassandra/io/sstable/SSTableWriterTest.java    |  23 ++--
 .../cassandra/locator/SimpleStrategyTest.java      |   3 +-
 .../cassandra/service/AntiEntropyServiceTest.java  |   9 +-
 .../service/EmbeddedCassandraServiceTest.java      |  14 +-
 .../cassandra/streaming/StreamingTransferTest.java |  29 ++--
 .../apache/cassandra/tools/SSTableExportTest.java  |  31 ++---
 .../apache/cassandra/tools/SSTableImportTest.java  |  11 +-
 .../apache/cassandra/utils/BloomFilterTest.java    |   7 +-
 .../apache/cassandra/utils/FBUtilitiesTest.java    |   7 +-
 .../org/apache/cassandra/utils/FilterTest.java     |  20 +--
 .../org/apache/cassandra/utils/KeyGenerator.java   |  27 ++--
 .../org/apache/cassandra/utils/MerkleTreeTest.java |  44 ++++--
 .../unit/org/apache/cassandra/utils/UUIDTests.java |   9 +-
 48 files changed, 668 insertions(+), 573 deletions(-)

commit aeb0d5467d24b8b6c844de7566bfb5c58ddc5e27
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 21 23:14:59 2010 +0000

    fix commitlog recovery deleting the newly-created segment as well as the old ones
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1644
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1026177 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java           | 2 ++
 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java | 1 +
 test/unit/org/apache/cassandra/db/RecoveryManager3Test.java | 5 +++--
 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java  | 1 +
 4 files changed, 7 insertions(+), 2 deletions(-)

commit 00554e90b84074139060ccf2c32fa3130211136b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 21 20:55:41 2010 +0000

    move endpoint cache from snitch to strategy
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-1643
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1026138 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/locator/SimpleStrategyTest.java   | 18 +++++++-----------
 1 file changed, 7 insertions(+), 11 deletions(-)

commit 8a6140d0dc0bc8bc4f6f1c47c02f09b44251ca1d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 20 19:18:40 2010 +0000

    cli support for index queries
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1635
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1025682 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 1fd6af347ab1c8d989b903f3a8a18e3a33c616fe
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 20 15:59:32 2010 +0000

    remove supercolumn option from cli list command; clean up grammar and fix limit support.
    patch by jbellis and Jim Ancona for CASSANDRA-1619
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1025623 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 5 +++++
 1 file changed, 5 insertions(+)

commit d1ec03b0d3729ccfa6cc5e259e931baddf68c982
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 19 15:09:24 2010 +0000

    add cli sanity tests.
    patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-1582
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1024262 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/cli/CliTest.java | 116 ++++++++++++++++++++++++
 1 file changed, 116 insertions(+)

commit 72548aca3e6962d51239aec6c2d8bc11ee4bcadd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Oct 18 20:41:46 2010 +0000

    fix potential infinite loop in 2ary index queries
    patch by jbellis; tested by Jason Tanner for CASSANDRA-1623
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1024000 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit bb0dc512d8cf7f11984cdee58d1cec590caa3044
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Oct 15 17:42:57 2010 +0000

    Make memtable flush thresholds per-CF instead of global.  Patch by Jon Hermes, reviewed by brandonwilliams for CASSANDRA-1007
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1023036 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 9d32382b3fd48a9362a07c2865e93e2cbfb8ee61
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 13 15:43:18 2010 +0000

    removed IClock & related classes from internals.
    patch by Sylvain Lebresne; reviewed by jbellis for CASSANDRA-1502
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1022147 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      |  4 +-
 test/unit/org/apache/cassandra/Util.java           |  8 +--
 .../cassandra/config/DatabaseDescriptorTest.java   |  8 ---
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 63 +++++++++---------
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 32 ++++-----
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 24 +++----
 .../org/apache/cassandra/db/CompactionsTest.java   |  2 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    | 27 ++++----
 .../org/apache/cassandra/db/MultitableTest.java    |  4 +-
 .../unit/org/apache/cassandra/db/NameSortTest.java |  4 +-
 .../org/apache/cassandra/db/OneCompactionTest.java |  2 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  2 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  |  2 +-
 .../apache/cassandra/db/RecoveryManager3Test.java  |  4 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  4 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  4 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |  4 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  6 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  4 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  4 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  4 +-
 .../apache/cassandra/db/RemoveSuperColumnTest.java | 30 ++++-----
 .../org/apache/cassandra/db/RowIterationTest.java  |  2 +-
 test/unit/org/apache/cassandra/db/RowTest.java     | 26 ++++----
 .../org/apache/cassandra/db/SuperColumnTest.java   |  5 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 60 ++++++++---------
 .../unit/org/apache/cassandra/db/TimeSortTest.java | 14 ++--
 .../db/clock/TimestampReconcilerTest.java          | 76 ----------------------
 .../cassandra/io/LazilyCompactedRowTest.java       | 16 ++---
 .../cassandra/io/sstable/SSTableReaderTest.java    |  6 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  4 +-
 .../cassandra/io/sstable/SSTableWriterTest.java    |  8 +--
 .../cassandra/service/AntiEntropyServiceTest.java  |  2 +-
 .../service/ReadResponseResolverTest.java          | 13 ++--
 .../cassandra/streaming/StreamingTransferTest.java |  4 +-
 .../apache/cassandra/tools/SSTableExportTest.java  | 21 +++---
 .../apache/cassandra/utils/FBUtilitiesTest.java    | 26 --------
 37 files changed, 206 insertions(+), 323 deletions(-)

commit b81927a9ed78b0b3269019528f3ca0ab0ce6af21
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 12 21:40:05 2010 +0000

    expose in-progress compaction type in jmx
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1586
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1021935 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 31 ----------------------
 1 file changed, 31 deletions(-)

commit 389bac77f0cb00cb8914d05512151116dd3db027
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Oct 9 02:32:16 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1006105 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  21 +++-
 test/unit/org/apache/cassandra/dht/BoundsTest.java |  94 ------------------
 .../cassandra/locator/TokenMetadataTest.java       |  80 +++++++++++++++
 .../org/apache/cassandra/service/MoveTest.java     |   2 +-
 .../apache/cassandra/service/StorageProxyTest.java | 109 +++++++++++++++++++++
 5 files changed, 206 insertions(+), 100 deletions(-)

commit 49af30a77758282bc648496972b944d60bb9e185
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 7 16:33:07 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1005518 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/StorageServiceServerTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e7591fc3c011c2b2ebb51fa4595ca782b55a15f6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 6 17:19:26 2010 +0000

    fix 2ary index support for deletions
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-1546
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1005174 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 51 +++++++++++++++++++++-
 1 file changed, 50 insertions(+), 1 deletion(-)

commit bbf1afa0ddbcff717e64621a69b8313f81dd7122
Author: Eric Evans <eevans@apache.org>
Date:   Wed Oct 6 15:19:19 2010 +0000

    CF access test for SimpleAuthority
    
    Patch by eevans; reviewed by Stu Hood for CASSANDRA-1554
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1005081 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/auth/SimpleAuthorityTest.java | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit e34283c63655279caf88754e93d3af97d8ec2e78
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 5 16:00:40 2010 +0000

    r/m getters for public final sstablereader fields.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1004693 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java            |  2 +-
 .../org/apache/cassandra/io/LazilyCompactedRowTest.java     | 13 ++-----------
 .../org/apache/cassandra/io/sstable/SSTableReaderTest.java  |  4 ++--
 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java  |  8 ++++----
 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java |  5 ++---
 .../org/apache/cassandra/io/sstable/SSTableWriterTest.java  |  7 +++----
 6 files changed, 14 insertions(+), 25 deletions(-)

commit f7f5877481dc3ca4700bb61214091a92fd49547d
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Oct 5 15:43:41 2010 +0000

    use avro includes and aliases in order to have less duplicated structures. patch by stuhood, reviewed by gdusbabek. CASSANDRA-1436
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1004678 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 43eae6fa3b9324a68a2fbb5078443d55fa05bf82
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 30 16:03:48 2010 +0000

    re-organize JMX into.db, .net, .internal, .request
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-1217
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1003127 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a29b2cfd3b9fedd301ea2777302288157d1e4af
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 30 13:35:26 2010 +0000

    log warning when using randomly generated token.
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1552
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1003060 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/SystemTableTest.java   | 48 ----------------------
 1 file changed, 48 deletions(-)

commit f9f97d4292bcb9af083263220278825e1158aca9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 29 16:33:46 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1002723 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsPurgeTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0cb207f83d55ddecc1ce4507cbdf0e1d2efb91fe
Author: Eric Evans <eevans@apache.org>
Date:   Tue Sep 28 23:00:54 2010 +0000

    Make SimpleAuthority aware of the keyspace list resource.
    
    Patch by Stu Hood; reviewed by eevans for CASSANDRA-1271
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1002401 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/auth/SimpleAuthorityTest.java | 73 ++++++++++++++++++++++
 1 file changed, 73 insertions(+)

commit 72770ac00c35a6be0eee42402693970b7c2c61db
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 28 17:24:06 2010 +0000

    make nodetool compact and cleanup blocking.
    patch by Nirmal Ranganathan; reviewed by jbellis for CASSANDRA-1449
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1002275 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java           | 2 +-
 test/unit/org/apache/cassandra/db/OneCompactionTest.java         | 2 +-
 test/unit/org/apache/cassandra/db/RemoveSuperColumnTest.java     | 4 ++--
 test/unit/org/apache/cassandra/db/TableTest.java                 | 2 +-
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 4 ++--
 5 files changed, 7 insertions(+), 7 deletions(-)

commit ba2ceadfa5e4230d69ff945eb37782468d161127
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Sep 28 05:50:26 2010 +0000

    modify removetoken so that the coordinator relies on replicating nodes for updates. patch by Nick Bailey, reviewed by Gary Dusbabek. CASSANDRA-1216
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1002025 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  37 +++-
 .../org/apache/cassandra/service/MoveTest.java     |  38 +---
 .../org/apache/cassandra/service/RemoveTest.java   | 217 +++++++++++++++++++++
 .../org/apache/cassandra/streaming/StreamUtil.java |  54 +++++
 4 files changed, 314 insertions(+), 32 deletions(-)

commit 3132f7ab05dab62ea3f0ce2ef194784842aabce1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Sep 27 22:11:26 2010 +0000

    removed unnecessary files.
    patch by Jeremy Hanna; reviewed by Stu Hood for CASSANDRA-1342
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1001931 13f79535-47bb-0310-9956-ffa450edef68

 .../hadoop/ColumnFamilyOutputFormatTest.java       | 225 ---------------------
 .../hadoop/SampleColumnFamilyOutputTool.java       |  80 --------
 .../cassandra/hadoop/SampleColumnMapper.java       |  37 ----
 3 files changed, 342 deletions(-)

commit 17cbb3daa57be73bb31e17da8e8aae9112f94dd5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Sep 27 22:10:42 2010 +0000

    sanity checks for compaction thresholds.
    patch by jhermes; reviewed by jbellis for CASSANDRA-1527
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1001929 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 36 ++++++++++++++++++++++++-
 1 file changed, 35 insertions(+), 1 deletion(-)

commit a0d72043e22a617d0fca48346b57bbc9445a66cb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Sep 26 21:53:50 2010 +0000

    add repair callbacks to track session completion.
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-1511
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1001532 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/AntiEntropyServiceTest.java     | 9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit efe4bb31410814546aad7f2e282d1253772a6f02
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Sep 25 01:31:12 2010 +0000

    make IndexInterval configurable.  patch by jhermes; reviewed by jbellis for CASSANDRA-1488
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1001119 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java        | 3 ++-
 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit cee4d2059815e2f5157a1facee8861d8773bcd39
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Sep 24 15:30:35 2010 +0000

    treat expired columns as deleted.  patch by Sylvain Lebresne; reviewed by jbellis for CASSANDRA-1539
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@1000909 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RowTest.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 971e879e2d08d7c922365b2d796e6ff55db3f6f1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 22 03:42:16 2010 +0000

    add test of secondary index recreation to StreamingTransferTest
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1415
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@999745 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/streaming/StreamingTransferTest.java | 74 ++++++++++++++--------
 1 file changed, 48 insertions(+), 26 deletions(-)

commit b182e5e90ac7aa73fe9136cabc0970c45709282c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 22 03:41:52 2010 +0000

    split 2ary index build out from bloom/row index build, and move into stream session post-processing.  bloom/row index construction moved into SSTableWriter.Builder and is now run on CompactionManager executor
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1415
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@999742 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/SSTableWriterTest.java    | 24 +++++++++-------------
 1 file changed, 10 insertions(+), 14 deletions(-)

commit 8e68f3b9a0cda1c3038ef2be95e58ad6d07c1e52
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 22 03:41:38 2010 +0000

    allow addIndex to create indexes that did not previously exist
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1415
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@999741 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 33 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit 1176b61250e397a71b37f3789e5b6f600d12cd34
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 22 03:41:09 2010 +0000

    add SESSION_FINISHED reply
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1415
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@999738 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/streaming/StreamingTransferTest.java     | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit bf0087ff843e46f91f316af25659f8771e83f0bd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 21 20:29:51 2010 +0000

    fix test compiliation.  patch by jbellis for CASSANDRA-1314
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@999606 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/ReplicationStrategyEndpointCacheTest.java  | 9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit d966ed08610940da1a590ce7a83897b9a1dc02ec
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 21 18:56:23 2010 +0000

    r/m Clock from Thrift api.  patch by jbellis; reviewed by slebresne for CASSANDRA-1501
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@999542 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java |  6 ++--
 test/unit/org/apache/cassandra/db/DefsTest.java    |  2 --
 .../service/EmbeddedCassandraServiceTest.java      | 32 +++++-----------------
 3 files changed, 9 insertions(+), 31 deletions(-)

commit ad29c258eab4f71b3142041c899a4960b63ffacd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Sep 20 22:15:34 2010 +0000

    fix replaying the last mutation in a commitlog unnecessarily.  patch by jbellis; reviewed by gdusbabek for CASSANDRA-1512
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@999142 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 36 ----------------------
 .../apache/cassandra/db/RecoveryManager2Test.java  | 18 ++++++++---
 2 files changed, 14 insertions(+), 40 deletions(-)

commit 267c76a65528b856737830f78da01a89f547505d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Sep 18 22:08:06 2010 +0000

    min,max compaction threshold are configurable and persistent per-ColumnFamily.  patch by Jon Hermes; reviewed by jbellis for CASSANDRA-1468
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@998558 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 43 +++++++++++++++++++------
 1 file changed, 34 insertions(+), 9 deletions(-)

commit ca8fa16c5edf7f98706c5562212df53342f2beda
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 15 22:22:09 2010 +0000

    combine "initiated" and requested streaming paths
    patch by jbellis; reviewed by Nick Bailey for CASSANDRA-1506
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@997527 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit de034ffee003c63e2ba610067b94ea139b440bcb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 14 22:25:53 2010 +0000

    avoid exposing StreamContext outside the Session managers, and make the Sessions the handle for streaming work.  also removes unncessary extra Collections from the session objects.
    patch by jbellis; reviewed by Nick Bailey for CASSANDRA-1504
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@997119 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit a8e5c1894544b9b45765c3ca2624aa65993211c3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 14 20:34:53 2010 +0000

    add back tablename parameter in preparation for merging initiated/non code paths.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@997082 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit dbbe856c563fd09519cc6373d448dd36055668cd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 14 15:08:11 2010 +0000

    clean up StreamHeader constructor, r/m unused parameter from transferSSTables.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@996939 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 89fbc1b031dd5f045601a862c751c269082aea40
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 14 02:27:02 2010 +0000

    rename ApplicationState -> VersionedValue; add enum ApplicationState
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1499
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@996736 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java |  9 +--
 .../org/apache/cassandra/service/MoveTest.java     | 67 +++++++++++-----------
 2 files changed, 39 insertions(+), 37 deletions(-)

commit 629fa9eb111b210f24776fa72c7c124bf5362553
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 14 02:26:50 2010 +0000

    consolidate ApplicationState construction in ApplicationStateFactory
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-149n9
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@996735 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java |  8 +--
 .../org/apache/cassandra/service/MoveTest.java     | 62 ++++++++++++----------
 2 files changed, 38 insertions(+), 32 deletions(-)

commit cac6a28adda97e9f63cf2486476ebab7f29ae5ab
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Sep 13 16:11:01 2010 +0000

    broadcast removetoken using MOVE,NORMAL to preserve the coordinator state. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1467
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@996590 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/MoveTest.java | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 4dd8fa51ff1a6db46346111be008792304ebcbbd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Sep 13 14:06:08 2010 +0000

    remove tombstones during non-major compactions when bloom filter verifies that row does not exist in other sstables
    patch by Sylvain Lebresne; reviewed by jbellis for CASSANDRA-1074
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@996541 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CompactionsPurgeTest.java  | 71 ++++++++++++++++++----
 .../cassandra/io/LazilyCompactedRowTest.java       | 26 ++++----
 2 files changed, 74 insertions(+), 23 deletions(-)

commit b324537e99e4fe784357ee2cf12f26bbf58471ce
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Sep 6 22:47:44 2010 +0000

    Incorporate Components into ColumnFamilyStore loading: no more matching Data.db, etc!
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-1471
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@993171 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java      | 4 ++--
 test/unit/org/apache/cassandra/io/sstable/SSTableWriterTest.java | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 52b6edc41366eb7fa3cd7691dc35d65989d3c1dd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Sep 6 22:22:35 2010 +0000

    naive replacement of String stage names w/ Stage enum.  also replaces MS.defaultExecutor w/ Stage.MISC
    patch by jbellis; reviewed by Nate McCall for CASSANDRA-1465
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@993165 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0973793b9584f9d4903d83316ce9d56673ad7633
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Sep 6 16:15:18 2010 +0000

    Switch to TFramedTransport in TestRingCache.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1434
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@993084 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit d08e34a765bf1bce639c017aedcd4c6e6caee96a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Sep 5 03:30:55 2010 +0000

    apply reversed flag during collation from different data sources.  patch by jbellis; reviewed by brandonwilliams for CASSANDRA-1450
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@992710 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 34 ++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 2893b7f7a5a15ccfefbcdbba8db6c524d8494fb7
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Sat Sep 4 03:31:36 2010 +0000

    Move persistent sstable stats from the system table to an sstable component.  Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-1430
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@992524 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java             | 1 -
 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java | 5 -----
 2 files changed, 6 deletions(-)

commit cf720abd86457f56877344f76339f3046b38e1ea
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri Sep 3 20:24:59 2010 +0000

    UpdateColumn family. patch by gdusbabek, reviewed by stuhood. CASSANDRA-1285
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@992453 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 141 ++++++++++++++++++++++++
 1 file changed, 141 insertions(+)

commit d6b55b5f207c578b5791f51cc5e4184b4bf4619a
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri Sep 3 20:24:48 2010 +0000

    UpdateKeyspace migration. patch by gdusbabek, reviewed by stuhood. CASSANDRA-1285
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@992452 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 49 ++++++++++++++++++++++++-
 1 file changed, 48 insertions(+), 1 deletion(-)

commit c450da88083342f1fc3aea388f13a572b29c1ada
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 31 14:54:10 2010 +0000

    avoid attempting to keep CL header constant size (schema change can defeat this); it's not necessary now that header is a separate file now.  forceNewSegment was attempting to start a new CL header when the schema changed, which was race-prone.
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1435
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@991210 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/commitlog/CommitLogHeaderTest.java     | 17 -----------------
 1 file changed, 17 deletions(-)

commit fab33fb4e87decb71b3169cdc12e48f4cae104c1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 27 20:19:44 2010 +0000

    replace CF graveyard with CFS.removeAllSSTables (which is recursive to handle 2ary index files); also handle 2ary indexes in renaming migrations.
    patch by jbellis and gdusbabek for CASSANDRA-1406
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@990251 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit cfa5ffdd59c5adbd72f27414abfd7965455bca66
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 25 20:50:45 2010 +0000

    Use Avro objects as input to CFOutputFormat.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1315
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@989370 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/hadoop/SampleColumnFamilyOutputTool.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5ac1aaba53588650e87a0848e0babeae65790e70
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 25 20:35:15 2010 +0000

    fix EH.max.  patch by jbellis and brandonwilliams for CASSANDRA-1413
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@989352 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/EstimatedHistogramTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d28cab41a067803b6e2fa2b5e88f6a4f4103f1ce
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 25 20:25:49 2010 +0000

    Add CfDef.default_validation_class.  patch by jhermes; reviewed by jbellis for CASSANDRA-891
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@989344 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 7173a088f44596c727eb5403de78aa3aaa2cacbf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 24 14:49:23 2010 +0000

    allow loading cassandra.yaml from url specified by cassandra.config system property.  patch by jbellis; reviewed by gdusbabek for CASSANDRA-1126
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@988578 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java | 6 ------
 1 file changed, 6 deletions(-)

commit 6055d1b696ea2e3085947afe22344b8d7a1d3589
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Aug 21 17:30:30 2010 +0000

    prevent writes of obsolete data from updating 2ary indexes.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@987800 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java  | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 775293210c8488f3ce708ccc3a09fe7ee639d436
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Aug 21 16:51:11 2010 +0000

    fix Clock regression in handling timestamp ties (tombstone takes precedence, then column w/ higher value.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@987788 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyTest.java | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit b2a8d8954b36fd361bd30437e135c75a8a141d59
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Aug 21 11:55:30 2010 +0000

    finish removing bitmasks from internals (see CASSANDRA-1312).  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@987733 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  3 +--
 test/unit/org/apache/cassandra/db/DefsTest.java    |  2 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   | 25 ++++------------------
 test/unit/org/apache/cassandra/db/TableTest.java   | 14 ++++--------
 4 files changed, 10 insertions(+), 34 deletions(-)

commit 3e7343e1059b32b2313e9be8e43db07ac223326e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Aug 21 11:37:04 2010 +0000

    allow index expressions against columns that are not part of the SlicePredicate.
    patch by jbellis; reviewed by Nate McCall for CASSANDRA-1410
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@987728 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java  | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 7b692b809dc28a63036f1d27a1d527a2f771bc4b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 20 21:44:24 2010 +0000

    Revert "allow index expressions against columns that are not part of the SlicePredicate."
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@987642 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java  | 17 -----------------
 1 file changed, 17 deletions(-)

commit 8f4441deddba8aa365fcf514ce3e1be4fbe1ef53
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 20 21:26:25 2010 +0000

    allow index expressions against columns that are not part of the SlicePredicate.
    patch by jbellis; reviewed by Nate McCall for CASSANDRA-1410
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@987638 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java  | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 0b68a77325dc80bdd4d573dc55cba01c456a0b99
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 20 06:54:49 2010 +0000

    use JNA to call link w/o spawning a separate process during snapshot.
    patch by jbellis; reviewed by jhermes for CASSANDRA-1371
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@987389 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/StorageServiceServerTest.java    | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit af6e7469343f4523f0511263d1cbc99a5262ca12
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Aug 19 21:01:22 2010 +0000

    FBUtilities.hexToBytes doesn't handle odd-length strings. patch by Gary Dusbabek, reviewed by Jon Hermes. CASSANDRA-1411
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@987311 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/utils/FBUtilitiesTest.java    | 27 ++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit e78b8407458d72e590efca6042b25a4d92d7cbcd
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Aug 18 19:15:24 2010 +0000

    remove underscores from CFS members. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1385
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@986863 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 283e365196cdad3fb352de0b6d7a8c0ddd1d784a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 17 21:21:51 2010 +0000

    allow compound index clauses to include non-EQ operators.  patch by jbellis; reviewed by eevans for CASSANDRA-1401
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@986488 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 84aab33341b22b44bd4adfe8a8d34d3f15e86f25
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 17 21:15:44 2010 +0000

    fix sharded lock hashing on index write path.  patch by jbellis; reviewed by eevans for CASSANDRA-1402
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@986486 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 5 +++++
 1 file changed, 5 insertions(+)

commit 0690ea0b244414be90990d550dbef35587ff0010
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Aug 17 19:14:49 2010 +0000

    make TimestampReconciler a singleton. patch by Folke Behrens, reviewed by Gary Dusbabek. CASSANDRA-1319
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@986456 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/config/DatabaseDescriptorTest.java    |  8 ++++++++
 test/unit/org/apache/cassandra/db/DefsTest.java                | 10 +++++-----
 test/unit/org/apache/cassandra/db/SuperColumnTest.java         |  2 +-
 .../org/apache/cassandra/db/clock/TimestampReconcilerTest.java |  2 +-
 4 files changed, 15 insertions(+), 7 deletions(-)

commit 2c64c97fb037407dc524a87ce18c150d766b3435
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 17 17:05:36 2010 +0000

    fix updating index when value is changed.  patch by jbellis; tested by Tyler Hobbs for CASSANDRA-1373
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@986397 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 27 ++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 477deb3a090735a28cf7537b1280a77d071a1c52
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 16 19:05:00 2010 +0000

    faster LongType comparisons.  patch by Folke Behrens; reviewed by jbellis for CASSANDRA-1393
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@986097 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/TypeCompareTest.java      | 23 ++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit d5a21efbf489a5288afa535a5de8f75130279b00
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Sun Aug 15 17:59:15 2010 +0000

    fall back to subsnitch on score equality as well as no score at all, fix probability calculation. Patch by jbellis and brandonwilliams, reviewed by brandonwilliams for CASSANDRA-981
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@985724 13f79535-47bb-0310-9956-ffa450edef68

 .../locator/DynamicEndpointSnitchTest.java         | 33 +++++++++-------------
 1 file changed, 14 insertions(+), 19 deletions(-)

commit 916c810b54943695cedfcdb46a3eb8eba2d90536
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Aug 15 16:16:58 2010 +0000

    rename RackAwareStrategy to OldNetworkTopologyStrategy, RackUnawareStrategy to SimpleStrategy, DatacenterShardStrategy to NetworkTopologyStrategy, AbstractRackAwareSnitch to AbstractNetworkTopologySnitch
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-1392
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@985701 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/DatabaseDescriptorTest.java   |  10 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |   6 +-
 .../hadoop/ColumnFamilyOutputFormatTest.java       |   2 +-
 .../locator/DatacenterShardStrategyTest.java       |  89 ----------
 .../locator/NetworkTopologyStrategyTest.java       |  89 ++++++++++
 .../locator/OldNetworkTopologyStrategyTest.java    | 172 ++++++++++++++++++
 .../cassandra/locator/RackAwareStrategyTest.java   | 172 ------------------
 .../cassandra/locator/RackUnawareStrategyTest.java | 193 ---------------------
 .../ReplicationStrategyEndpointCacheTest.java      |  25 ++-
 .../cassandra/locator/SimpleStrategyTest.java      | 193 +++++++++++++++++++++
 .../org/apache/cassandra/service/MoveTest.java     |  12 +-
 11 files changed, 475 insertions(+), 488 deletions(-)

commit b07301dddce919290a5062101ee8cea940a8315c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 13 20:33:49 2010 +0000

    optimize [Time|Lexical]UUIDType comparison further.  patch by Folke Behrens; reviewed by jbellis for CASSANDRA-1368
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@985349 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/TimeUUIDTypeTest.java     | 37 +++++++++++++++-------
 1 file changed, 26 insertions(+), 11 deletions(-)

commit ccb593237f55e3bc0f144f09ca5454dda7f9ca38
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Aug 12 21:39:26 2010 +0000

    disallow invalid ks+cf names. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1377
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@984995 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit d94d553278622a03f33206884c69d83812e8098a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 12 19:22:07 2010 +0000

    Revert "use Avro objects in ColumnFamilyOutputFormat."
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@984921 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/hadoop/SampleColumnFamilyOutputTool.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 72303359928221279586fb518c68bb46dfc02e8a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 12 19:13:09 2010 +0000

    use Avro objects in ColumnFamilyOutputFormat.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1315
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@984917 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/hadoop/SampleColumnFamilyOutputTool.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2fb63115e0f549c68b274f65055f8ca9306cff41
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 12 18:32:12 2010 +0000

    Remove references to DatabaseDescriptor from Pig, RingCache, and CFRW, and remove it as a fallback from CFRR. cassandra.yaml is no longer needed by pig or word_count.
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-1322
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@984904 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java | 27 ++++++++--------------
 1 file changed, 10 insertions(+), 17 deletions(-)

commit ed9f7909fc3082f8229e3417da9c0cb7a9c36a0f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 12 18:29:46 2010 +0000

    describe_keyspace includes CfDef information.  patch by Jon Hermes; reviewed by jbellis for CASSANDRA-1363
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@984901 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/hadoop/ColumnFamilyOutputFormatTest.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 94cc9a4d8351d9bfc0a2c9bb12513ca1f5309762
Author: Eric Evans <eevans@apache.org>
Date:   Tue Aug 10 16:46:02 2010 +0000

    updated (license, versioning, etc) for beta1 release
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@984113 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/ColumnDefinitionTest.java      | 21 +++++++++++++++++++++
 .../apache/cassandra/db/RecoveryManager3Test.java   | 21 +++++++++++++++++++++
 .../apache/cassandra/io/LazilyCompactedRowTest.java | 21 +++++++++++++++++++++
 .../cassandra/io/sstable/SSTableReaderTest.java     | 21 +++++++++++++++++++++
 .../cassandra/io/sstable/SSTableWriterTest.java     | 21 +++++++++++++++++++++
 5 files changed, 105 insertions(+)

commit 8b9beaaad8142c566f1f8505f625128580594cf4
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri Aug 6 20:34:12 2010 +0000

    streaming changes. removed and combined several messages. fixed out-of-order bug. introduce stream sessions, stream headers. patch by rnirmal, reviewed by gdusbabek. CASSANDRA-1189
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@983124 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/io/StreamingTest.java     |  81 -------------
 .../apache/cassandra/streaming/BootstrapTest.java  |  28 ++---
 .../cassandra/streaming/StreamingTransferTest.java | 134 +++++++++++++++++++++
 3 files changed, 144 insertions(+), 99 deletions(-)

commit 1208a20baf698b79e73d87a3efc001a306fc5a2c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 5 23:31:00 2010 +0000

    improve BufferedRandomAccessFileTest coverage to 100% of lines.  patch by Jon Hermes; reviewed by jbellis for CASSANDRA-1269
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@982829 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java      | 26 +++++++++++++++++-----
 1 file changed, 21 insertions(+), 5 deletions(-)

commit 7aacffdc9c196c04679d5639384d39d91cfb1073
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 5 14:40:46 2010 +0000

    r/m RangeSliceResponseResolverTest for now; we've broken network compatibility w/ 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@982644 13f79535-47bb-0310-9956-ffa450edef68

 .../service/RangeSliceResponseResolverTest.java    | 74 ----------------------
 1 file changed, 74 deletions(-)

commit 8bda57384005236a330c73d78e36acd3ef47b4bc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 5 14:36:44 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@982643 13f79535-47bb-0310-9956-ffa450edef68

 .../service/RangeSliceResponseResolverTest.java    | 74 ++++++++++++++++++++++
 1 file changed, 74 insertions(+)

commit 73644f16af8aaac5659ea1398b83b64f984239cd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 5 02:08:56 2010 +0000

    flesh out BufferedRandomAccessFileTest.  patch by Jon Hermes; reviewed by Stu Hood for CASSANDRA-1269
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@982452 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java      | 37 ++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit fe1fec0ddc9cf3fc866d450c957f4dfe2a183186
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Aug 4 12:38:27 2010 +0000

    use correct constructor when creating static CFM instances. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1354
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@982237 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit e6677d9d18cabe9ae50b4ffba9aad21d60c1067c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 3 17:26:04 2010 +0000

    r/m RoundRobinSchedulerTest for CASSANDRA-1279; it doesn't appear possible to test concurrency usefully
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@981979 13f79535-47bb-0310-9956-ffa450edef68

 .../scheduler/RoundRobinSchedulerTest.java         | 153 ---------------------
 1 file changed, 153 deletions(-)

commit c3e2794099460e28a9bc917d92968e2fca4a7be2
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Aug 3 17:20:11 2010 +0000

    specify schema used to read serialized migrations. patch by stuhood, reviewed by gdusbabek. CASSANDRA-1351
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@981976 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/config/DatabaseDescriptorTest.java   | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 1b5577b254580b610105b0350397c0524c0c97ec
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Aug 3 14:58:14 2010 +0000

    handle index scans across multiple nodes and consistency levels
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@981906 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java  | 11 ++++++++---
 .../org/apache/cassandra/io/sstable/SSTableWriterTest.java    |  9 +++++++--
 2 files changed, 15 insertions(+), 5 deletions(-)

commit 849bb95ed909db0b571c4d9b8551be8c1b6b572d
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Aug 2 18:19:28 2010 +0000

    use avro for migration serialization. patch by stuhood, reviewed by gdusbabek. CASSANDRA-1308
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@981649 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 17 ++++-------------
 1 file changed, 4 insertions(+), 13 deletions(-)

commit 91e4b6524a9b1763298b739c740e0ad7a0e9e42e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 2 15:05:48 2010 +0000

    move column iterators to own subpackage of db
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1338
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@981543 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java                         | 2 +-
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java     | 2 +-
 test/unit/org/apache/cassandra/io/sstable/SSTableWriterTest.java | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 6d60623b2d842f2fc093a81313d606ba798933e3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 2 15:05:28 2010 +0000

    add SimpleColumnReader to optimize start-from-beginning-of-row slices
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-1338
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@981542 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/StreamingTest.java | 3 +++
 1 file changed, 3 insertions(+)

commit df8a93358c15861e200239fc4e9c23d38f28222f
Author: Eric Evans <eevans@apache.org>
Date:   Sat Jul 31 15:42:27 2010 +0000

    configurable options for replication strategies
    
    Patch by Jeremy Hanna; review by eevans for CASSANDRA-1066
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@981069 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/DatabaseDescriptorTest.java   |   4 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    |   6 +-
 .../locator/DatacenterShardStrategyTest.java       |  22 +++--
 .../cassandra/locator/RackAwareStrategyTest.java   |   8 +-
 .../cassandra/locator/RackUnawareStrategyTest.java |  53 ++++++++---
 .../ReplicationStrategyEndpointCacheTest.java      |  84 +++++++++--------
 .../cassandra/service/AntiEntropyServiceTest.java  |   4 +-
 .../org/apache/cassandra/service/MoveTest.java     | 105 +++++++++++----------
 8 files changed, 166 insertions(+), 120 deletions(-)

commit b4386e7c2486f5b26b1e2e3ed7c557bbdd9419a9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Jul 31 12:51:14 2010 +0000

    rebuild secondary indexes after streaming.  patch by Nate McCall and jbellis for CASSANDRA-1258
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@981046 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/sstable/SSTableUtils.java  |  2 +-
 .../cassandra/io/sstable/SSTableWriterTest.java    | 75 ++++++++++++++++++++++
 .../apache/cassandra/tools/SSTableExportTest.java  | 21 +++---
 .../apache/cassandra/tools/SSTableImportTest.java  |  6 +-
 4 files changed, 88 insertions(+), 16 deletions(-)

commit de5715e14f88ac3d1c6f32cbae50bb35e699c2af
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Jul 29 19:53:36 2010 +0000

    revert 980215, 980217, 980220, 980222, 980225, 980226. CASSANDRA-1237
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@980554 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java | 8 +++++---
 test/unit/org/apache/cassandra/db/DefsTest.java                   | 4 ++--
 2 files changed, 7 insertions(+), 5 deletions(-)

commit c618c213d81e64719f6cf4612a7a8f1a9760289b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 29 01:47:26 2010 +0000

    update to use modern TBinaryProtocol everywhere.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@980285 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7b9f69ad18c8d696782f9eb64f121785d234299a
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Jul 28 21:01:49 2010 +0000

    push access structures into KSM. patch by stuhood, reviewed by gdusbabek. CASSANDRA-1237
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@980220 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java | 8 +++-----
 test/unit/org/apache/cassandra/db/DefsTest.java                   | 4 ++--
 2 files changed, 5 insertions(+), 7 deletions(-)

commit 3a044a9140abd8f77c935d8551ee6a62ecbdc934
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 27 17:46:28 2010 +0000

    add IntegerType for arbitrary-length integers.  patch by Folke Behrens; reviewed by mdennis and jbellis for CASSANDRA-1282
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@979784 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/IntegerTypeTest.java      | 193 +++++++++++++++++++++
 1 file changed, 193 insertions(+)

commit 529aa2ebd869dacae79837eaad05483ee4dae512
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Jul 27 13:24:20 2010 +0000

    LegacySSTableTest should ignore invalid directories. patch by stuhood, reviewed by gdusbabek
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@979689 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 257177b421d0930f889e96a7601053b210c05ef0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 27 04:05:45 2010 +0000

    fix TBinaryProtocol instantiation in CFOF.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@979518 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/hadoop/ColumnFamilyOutputFormatTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 291846dc0565730e67c02081caaf347223b386bc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 27 04:02:04 2010 +0000

    fix commitlog tests post-1135.  patch by mdennis; reviewed by jbellis for CASSANDRA-1318
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@979516 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 21 ++++++++++++---------
 .../apache/cassandra/db/RecoveryManager2Test.java  | 22 +++++++++++++++-------
 2 files changed, 27 insertions(+), 16 deletions(-)

commit 4fb3d1864162a906de470a10741d02dbe2dceee8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 26 03:00:08 2010 +0000

    r/m bitmask predicates.  patch by jbellis; reviewed by gdusbabek for CASSANDRA-1312
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@979139 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 115 ++---------------------
 1 file changed, 8 insertions(+), 107 deletions(-)

commit e3f05adf36e4e83de87747cc5c64e4ae7ae7314b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 23 20:35:33 2010 +0000

    {Min,Mean,Max}RowCompactedSize renamed to {Min,Mean,Max}RowSize.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@967248 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit c00a5c1f5800ba3b369cd47ec97a6cd241b1cb91
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 23 19:22:58 2010 +0000

    Keep persistent row size and column count statistics.  Patch by brandonwilliams and jbellis; reviewed by jbellis for CASSANDRA-1155
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@967213 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/SSTableReaderTest.java     | 18 ++++++++++++++++++
 .../cassandra/utils/EstimatedHistogramTest.java     | 21 ++++++++++++---------
 2 files changed, 30 insertions(+), 9 deletions(-)

commit 395c3caa0cadc71fb7d1fec45011b5a59b679f6c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 23 18:18:07 2010 +0000

    make GCGraceSeconds configurable per-columnfamily.  patch by Jon Hermes; reviewed by jbellis for CASSANDRA-1276
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@967187 13f79535-47bb-0310-9956-ffa450edef68

 test/long/org/apache/cassandra/db/LongCompactionSpeedTest.java |  7 ++-----
 test/unit/org/apache/cassandra/db/CompactionsPurgeTest.java    |  3 ++-
 test/unit/org/apache/cassandra/db/DefsTest.java                | 10 +++++-----
 3 files changed, 9 insertions(+), 11 deletions(-)

commit 5d782903666c35c74af3c669b6beac416a346b4d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 23 18:03:13 2010 +0000

    Double flush AE_SERVICE_STAGE to ensure that tasks triggered by existing tasks are cleared.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1028
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@967183 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/AntiEntropyServiceTest.java   | 21 ++++++++++++---------
 1 file changed, 12 insertions(+), 9 deletions(-)

commit 2bee26f1577cdb99013dcdcb6d0085359db7fed7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 22 16:25:53 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@966733 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 13 -------------
 1 file changed, 13 deletions(-)

commit 7405e8f6a1726ea42345b59f0c5b3078465c590a
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Jul 21 15:14:25 2010 +0000

    use avro serialization for KSM, CFS and parts of Migrations. patch by stuhood, reviewed by gdusbabek. CASSANDRA-1186
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@966277 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/ColumnDefinitionTest.java       |  2 +-
 .../cassandra/config/DatabaseDescriptorTest.java     | 20 ++++++++++++++------
 test/unit/org/apache/cassandra/db/DefsTest.java      |  2 +-
 3 files changed, 16 insertions(+), 8 deletions(-)

commit 182457aacf109778f2f68e019de9f654d7d53e01
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 20 22:03:08 2010 +0000

    fix RoundRobinSchedulerTest heisenbug.  patch by Nirmal Ranganathan; reviewed by jbellis for CASSANDRA-1279
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@966033 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/scheduler/RoundRobinSchedulerTest.java  | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 0448530e3102c743424d93c5a1fc2afc5bbb5b6a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 20 16:23:03 2010 +0000

    avoid replaying fully-flushed commitlog segments.  patch by jbellis; reviewed by mdennis for CASSANDRA-1298
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@965894 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/commitlog/CommitLogHeaderTest.java    | 11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

commit aca77ec466a9a06dfd6867ec6341f6916c927f13
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 19 17:33:40 2010 +0000

    hand-assembled sstables could contain garbage data since we were writing the entire buffer contents.  copy just the valid data to a separate byte[] first.  patch by jbellis; reviewed by Stu Hood for CASSANDRA-1299
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@965568 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit a393b92731c8eae9672f4e21442a38a998e9970b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Jul 17 02:09:41 2010 +0000

    performance improvements to removeDeleted on read path.  patch by jbellis and tjake for CASSANDRA-1267
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@964995 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  5 ++++
 .../cassandra/db/RemoveColumnFamilyTest.java       |  2 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  2 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  2 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  6 ++--
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  2 +-
 .../apache/cassandra/db/RemoveSuperColumnTest.java | 33 +++++++++++++---------
 7 files changed, 31 insertions(+), 21 deletions(-)

commit 13e335789942becc068c3931c7810bc085ea0dad
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 15 20:16:55 2010 +0000

    switch CFOutputFormatTest client to Framed mode.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@964564 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/hadoop/ColumnFamilyOutputFormatTest.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 60d7cfa6bb93bc449145ea4580cd41d3a8e74ac8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 15 03:05:11 2010 +0000

    update EmbeddedCassandraServiceTest client to use framed mode.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@964291 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/EmbeddedCassandraServiceTest.java     | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b6b1053687a2c002cd7f97974a4a7086fb14de4f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 15 03:02:21 2010 +0000

    Remove convertToDiskFormat, and version-conditionally apply convertFromDiskFormat
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-1249
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@964289 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/dht/PartitionerTestCase.java  |  9 -----
 .../cassandra/io/sstable/LegacySSTableTest.java    | 39 ++++++++++++++--------
 .../cassandra/io/sstable/SSTableReaderTest.java    |  4 ++-
 3 files changed, 28 insertions(+), 24 deletions(-)

commit 4dc9d5667672291fd355cec7a668bb483801fafb
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Jul 14 12:10:50 2010 +0000

    fail bootstrap if all nodes are bootstrapping. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1011
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@964020 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java | 57 ++++++++++++++++++++++
 1 file changed, 57 insertions(+)

commit 1217e2f133a7b33334fb0297f1a0cb3a8c6dc8e0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 12 01:02:44 2010 +0000

    add test for getBuckets.  patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-1265
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@963172 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CompactionsTest.java   | 59 ++++++++++++++++++++++
 1 file changed, 59 insertions(+)

commit fc73007f3d966312c1c8330925a3027950ae8bbd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jul 11 23:07:50 2010 +0000

    avoid double-copy of flushed data by serializing directly to output file.  patch by jbellis; reviewed by mdennis for CASSANDRA-270
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@963159 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/sstable/SSTableUtils.java  | 20 ++--------
 .../apache/cassandra/tools/SSTableExportTest.java  | 44 +++++-----------------
 2 files changed, 14 insertions(+), 50 deletions(-)

commit 67c57208ab9cbec1200723533d9e62f3a67de004
Author: Brandon Williams <brandonwilliams@apache.org>
Date:   Fri Jul 9 23:07:00 2010 +0000

    Dynamic snitch to adaptively avoid reading from slow nodes.  Patch by brandonwilliams; reviewed by jbellis for CASSANDRA-981
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@962720 13f79535-47bb-0310-9956-ffa450edef68

 .../locator/DynamicEndpointSnitchTest.java         | 109 +++++++++++++++++++++
 1 file changed, 109 insertions(+)

commit 0da82f321c6c662cbd72f0d9895a916cf0aa71a4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 9 19:58:21 2010 +0000

    implement keyspace round-robin scheduler.  patch by Nirmal Ranganathan; reviewed by Stu Hood and jbellis for CASSANDRA-1035
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@962675 13f79535-47bb-0310-9956-ffa450edef68

 .../scheduler/RoundRobinSchedulerTest.java         | 150 +++++++++++++++++++++
 1 file changed, 150 insertions(+)

commit 92f7c71cd3349b9173fb8111f59b81c739c761a6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 8 21:12:07 2010 +0000

    improve index scan unit test.  patch by mdennis; reviewed by jbellis for CASSANDRA-1154
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@961938 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 22 ++++++++++++++++++++--
 1 file changed, 20 insertions(+), 2 deletions(-)

commit 078c56c631206f6d351ea5c360c21a519e04da25
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 8 15:17:20 2010 +0000

    add single-node support for IndexType.KEYS.  patch by jbellis; reviewed by mdennis for CASSANDRA-1154
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@961795 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java   | 20 ++++++++++++++++++++
 test/unit/org/apache/cassandra/db/DefsTest.java      | 19 +++++++++++--------
 2 files changed, 31 insertions(+), 8 deletions(-)

commit 9fa60256195cd8950b4174e5b2de53d688122ead
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jul 7 13:21:05 2010 +0000

    r/m Hadoop outputSlicePredicate.  patch by jbellis; reviewed by jhanna for CASSANDRA-1246
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@961366 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/hadoop/SampleColumnFamilyOutputTool.java | 1 -
 1 file changed, 1 deletion(-)

commit 972812c700068d11f7fe7dc2be55eb3de7eb68ec
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 6 15:54:49 2010 +0000

    switch IndexType to enum.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@960925 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/config/ColumnDefinitionTest.java | 4 +++-
 test/unit/org/apache/cassandra/db/DefsTest.java                 | 4 ++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 2e0633612ac4a4ba7eeb54f4afefc99efcb49645
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 6 03:58:38 2010 +0000

    replace ColumnValidator code with AbstractType and clean up to avoid reflection on the request path.  also use final fields in ColumnDefinition.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@960772 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/ColumnDefinitionTest.java     | 18 +++++------
 test/unit/org/apache/cassandra/db/DefsTest.java    | 37 ----------------------
 2 files changed, 8 insertions(+), 47 deletions(-)

commit f9ef8396361e3c1eed07b8bb358b43199844be39
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jul 4 02:48:23 2010 +0000

    r/m ByteArrayKey in favor of using TreeMaps with a byte[] comparator.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@960290 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 19 ++++++++-----------
 1 file changed, 8 insertions(+), 11 deletions(-)

commit 42de60181c860c716810953512a9b9ed9b44e123
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jul 4 02:48:17 2010 +0000

    belatedly add ColumnDefinitionTest, part of the CASSANDRA-1153 patch
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@960289 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/ColumnDefinitionTest.java     | 33 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit 9249a6c3bc07ebc9ec64c999e8088e6a712fb870
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 2 22:11:04 2010 +0000

    add column metadata for validation and (soon) indexing.  patch by mdennis and jbellis for CASSANDRA-1153
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@960123 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 90 ++++++++++++++++---------
 1 file changed, 57 insertions(+), 33 deletions(-)

commit 32ed1343d2cd12127b53e688c4808d027e8356cd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 2 15:24:06 2010 +0000

    allow Hadoop output to go to a different KS + CF than input.  patch by Bryan Tower; reviewed by jbellis for CASSANDRA-1227
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@960022 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/hadoop/ColumnFamilyInputFormatTest.java  | 8 +++-----
 .../org/apache/cassandra/hadoop/SampleColumnFamilyOutputTool.java | 4 ++--
 2 files changed, 5 insertions(+), 7 deletions(-)

commit 0789a58a46f25b2b22d91b3f570e3425a2a51c23
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 1 17:20:39 2010 +0000

    sanity-check replica count against number of nodes in the cluster.  patch by mdennis; reviewed by jbellis for CASSANDRA-1191
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@959726 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java | 25 +++---
 .../ReplicationStrategyEndpointCacheTest.java      | 37 +++++----
 .../cassandra/service/AntiEntropyServiceTest.java  |  2 +-
 .../org/apache/cassandra/service/MoveTest.java     | 90 +++++++++++-----------
 4 files changed, 83 insertions(+), 71 deletions(-)

commit f4be8971efbd282cadccd322d55a3815894cbcbc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 1 01:24:50 2010 +0000

    replace FBUtilities.UTF8 with google.common.Charsets.UTF_8.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@959484 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           | 16 ++++++------
 .../cassandra/service/AntiEntropyServiceTest.java  | 30 ++++++++++++----------
 2 files changed, 25 insertions(+), 21 deletions(-)

commit 9c0ad8147de1d84319eb08dd5030f03ff7a9eaf2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 1 01:24:35 2010 +0000

    validate UTF8 keys in legacy OPP and COPP.  patch by Nick Bailey; reviewed by Stu Hood and jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@959483 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/FBUtilitiesTest.java | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 5ab5e1bbd19cd392901bc6222daaf0180c26cafb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 30 05:48:24 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@959197 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/io/BloomFilterTrackerTest.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 16c934812b2395da7fb3968965b03d2f6aa8c8a3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 25 20:34:22 2010 +0000

    allow multiple repair sessions per node.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1190
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@958105 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/AntiEntropyServiceTest.java  | 74 ++++------------------
 1 file changed, 12 insertions(+), 62 deletions(-)

commit 30010703d284e3178d31a9d66cf633c85c9e1295
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 25 20:26:40 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@958104 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CompactionsTest.java   | 25 ------------------
 .../cassandra/service/AntiEntropyServiceTest.java  | 30 +++++++++-------------
 2 files changed, 12 insertions(+), 43 deletions(-)

commit 0b2ba99325b379cd5ba4a79b66f3eec46850e776
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 25 17:44:55 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@958049 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 6 ------
 1 file changed, 6 deletions(-)

commit 524290bf738f658d94e0cdaa4c8ee8902288ed42
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 24 15:12:34 2010 +0000

    add test for BRAF EOFException.  patch by mdennis; reviewed by jbellis for CASSANDRA-1200
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@957578 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java      | 48 +++++++++++++++++++++-
 1 file changed, 46 insertions(+), 2 deletions(-)

commit 4ef44c62172744352d02fcac8f0f42710b1a037e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 22 19:35:53 2010 +0000

    mv BloomFilterTracker to io.sstable package.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@956993 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/BloomFilterTrackerTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 97b45898c0261bcda1ba2245147f3de517e44a74
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 22 19:06:25 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@956979 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/BloomFilterTrackerTest.java       | 50 ++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit 5531a7f5db05adad04d393b4ccffb6d87d806ec9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 22 04:07:46 2010 +0000

    fix race condition in SSTable*Iterator.
    patch by Sylvain Lebresne; reviewed by jbellis for CASSANDRA-1130
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@956769 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/RowIterationTest.java  | 62 ++++++++++++++++++++++
 1 file changed, 62 insertions(+)

commit 1a6b938becde3b0e59f75b58c1317f5865aded6a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Jun 19 16:11:49 2010 +0000

    split commitlog header into separate file and add size checksum to mutations.  patch by mdennis and jbellis for CASSANDRA-1179
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@956250 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  |   2 +-
 .../org/apache/cassandra/db/CommitLogTest.java     | 136 +++++++++++++++++++--
 .../apache/cassandra/db/RecoveryManager3Test.java  |  57 +++++++++
 .../apache/cassandra/db/RecoveryManagerTest.java   |   3 +-
 .../db/commitlog/CommitLogHeaderTest.java          |  51 ++++----
 5 files changed, 203 insertions(+), 46 deletions(-)

commit 048eafffbbc25d238de89006bd748271614bcc41
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Jun 19 00:58:15 2010 +0000

    clean up PendingFile.  patch by jbellis; reviewed by Stu Hood for CASSANDRA-1208
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@956168 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/BootstrapTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit aadfa6a334135e1f9f7b8eff827941ab6e588d2f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 18 10:29:54 2010 +0000

    Stream sstables without anticompaction
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-579
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@955923 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  2 +-
 test/unit/org/apache/cassandra/db/TableTest.java   |  2 +-
 .../org/apache/cassandra/io/StreamingTest.java     | 22 +++++++--
 .../cassandra/io/sstable/LegacySSTableTest.java    |  2 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    | 54 +++++++++++++++++++++-
 .../apache/cassandra/io/sstable/SSTableTest.java   |  4 +-
 .../apache/cassandra/streaming/BootstrapTest.java  |  5 +-
 7 files changed, 81 insertions(+), 10 deletions(-)

commit e34bc868d0bd42cfa07e8a924a720077f44c209c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 18 05:33:44 2010 +0000

    Extract index/filter writing into IndexWriter; add recovery for non-essential sstable components; only send the datafile when streaming
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-579
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@955840 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/BootstrapTest.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit d0056e8ef2d947a9769593cd9c01c229ee406187
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 18 04:20:51 2010 +0000

    fix buggy assert in SSTableUtils.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@955833 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1067d37302e07d0130bbe6ec6beb4bab32ea1a66
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 18 04:19:27 2010 +0000

    extract SSTable.Descriptor to top-level class.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@955832 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java | 9 ++-------
 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java      | 2 +-
 test/unit/org/apache/cassandra/streaming/BootstrapTest.java      | 7 ++-----
 3 files changed, 5 insertions(+), 13 deletions(-)

commit b6e8b98993e5c4c160d9ef0cccb9dfcb46ae908f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 16 18:56:57 2010 +0000

    hadoop outputformat.  patch by Karthick Sankarachary; reviewed by Stu Hood and jbellis for CASSSANDRA-1101
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@955347 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/EmbeddedServer.java |  88 ++++++++
 .../hadoop/ColumnFamilyOutputFormatTest.java       | 222 +++++++++++++++++++++
 .../hadoop/SampleColumnFamilyOutputTool.java       |  80 ++++++++
 .../cassandra/hadoop/SampleColumnMapper.java       |  37 ++++
 4 files changed, 427 insertions(+)

commit 9c06e5380693ee3cf07858e6c53d118c70d00827
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 16 15:27:17 2010 +0000

    make row size 64 bits
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-16
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@955268 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java              | 2 +-
 test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java | 8 ++++----
 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java    | 4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 35db73cf758657fa018d00d5b56961749d421c72
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 16 15:27:05 2010 +0000

    add LazilyCompactedRow
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-16
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@955267 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/LazilyCompactedRowTest.java       | 207 +++++++++++++++++++++
 1 file changed, 207 insertions(+)

commit d5968e6b6098305f0b5c4889dfc790ed82ca908f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 16 15:26:35 2010 +0000

    introduce AbstractCompactedRow, PrecompactedRow
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-16
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@955263 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit d8755b3a13c39b2ebc4a3d6257fbd24d14b019a7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 15 21:32:30 2010 +0000

    clean up of TokenMetadata and ARS.  patch by mdennis; reviewed by jbellis for CASSANDRA-1194
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@955060 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/RackUnawareStrategyTest.java |  9 +--
 .../org/apache/cassandra/service/MoveTest.java     | 71 ++++++++++------------
 2 files changed, 37 insertions(+), 43 deletions(-)

commit 2797a473f98bc5c614df0fc5100b5cf67b4af842
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Jun 15 15:04:46 2010 +0000

    begin process of consolidating common parts of CassandraDaemon. Patch by Karthick Sankarachary, reviewed by Gary Dusbabek. CASSANDRA-1131
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@954928 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/service/EmbeddedCassandraServiceTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 608b8cf57e291f520f8cdee4ba88359381f8115b
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Jun 15 14:51:01 2010 +0000

    avoid constructor proliferation in CFM. Patch by gdusbabek, reviewed by jbellis. CASSANDRA-1180
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@954918 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 34e241accdc2ce771a9dcb0a8b1946c142d6786d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 14 21:53:09 2010 +0000

    Fix bootstrap with DSS and add endpoint caching.
    patch by mdennis and jbellis for CASSANDRA-1147
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@954657 13f79535-47bb-0310-9956-ffa450edef68

 .../locator/DatacenterShardStrategyTest.java       |  25 +++-
 .../cassandra/locator/RackAwareStrategyTest.java   |  12 +-
 .../cassandra/locator/RackUnawareStrategyTest.java |  60 ++++----
 .../ReplicationStrategyEndpointCacheTest.java      | 156 +++++++++++++++++++++
 4 files changed, 210 insertions(+), 43 deletions(-)

commit ff533ad156f1def84a1517ceba58ff296d3770b6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 14 19:36:40 2010 +0000

    convert RackAwareStrategyTest newlines to \n
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@954605 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/RackAwareStrategyTest.java   | 344 ++++++++++-----------
 1 file changed, 172 insertions(+), 172 deletions(-)

commit 1e616a129bfb7b05fc23c55c38ab0d8571199464
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Jun 10 17:05:54 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@953394 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 23 +++++++++++++++++-----
 1 file changed, 18 insertions(+), 5 deletions(-)

commit 8656417964680c23ea431ad1889561cd37691cff
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Jun 7 12:26:59 2010 +0000

    detect partitioner changes and fail fast. patch by gdusbabek reviewed by jbellis. CASSANDRA-1169
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@952202 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/MoveTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f0a396947afcd40d8ee397c1b4515d0b9c9c4304
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jun 6 04:29:54 2010 +0000

    replace constant-size 2GB mmaped segments and special casing for index entries spanning segment boundaries, with SegmentedFile that computes segments that always contain entire entries (or rows).  patch by Stu Hood and jbellis for CASSANDRA-1117
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@951813 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java   |  4 ++--
 .../cassandra/io/sstable/LegacySSTableTest.java    |  2 +-
 .../cassandra/io/sstable/SSTableReaderTest.java    | 25 +++-------------------
 .../apache/cassandra/io/sstable/SSTableTest.java   |  4 ++--
 4 files changed, 8 insertions(+), 27 deletions(-)

commit 40d3fe48d6ac3db4102316a6a2d9920086031705
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 4 02:41:03 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@951243 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CompactionsPurgeTest.java  | 61 +++++++++++++++++++---
 1 file changed, 55 insertions(+), 6 deletions(-)

commit 7860b138e3a67bb5e795623b27774bab199da2d1
Author: Johan Oskarsson <johan@apache.org>
Date:   Tue Jun 1 15:03:48 2010 +0000

    Add support for reconciler classes that decide how to resolve conflicting columns. Patch by Kelvin Kakugawa and johan, review by jbellis. CASSANDRA-1144
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@950099 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java    | 11 ++--
 test/unit/org/apache/cassandra/db/RowTest.java     |  4 +-
 .../org/apache/cassandra/db/SuperColumnTest.java   |  3 +-
 test/unit/org/apache/cassandra/db/TableTest.java   |  2 +-
 .../db/clock/TimestampReconcilerTest.java          | 76 ++++++++++++++++++++++
 5 files changed, 87 insertions(+), 9 deletions(-)

commit d8342a7736f11f6023f8e9c06d5daa93faadeaa8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 1 13:43:36 2010 +0000

    pass IFilter to getRangeRows instead of column names / slicerange.  patch by jbellis
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@950074 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java                     | 4 ++--
 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 6 ++----
 2 files changed, 4 insertions(+), 6 deletions(-)

commit 242b717f3d3367e0db61b39a35e8083d5bd9af84
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 1 13:43:25 2010 +0000

    make AbstractType subclasses singletons.  patch by jbellis
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@950073 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/config/DatabaseDescriptorTest.java  |  2 +-
 test/unit/org/apache/cassandra/db/DefsTest.java              | 12 ++++++------
 test/unit/org/apache/cassandra/db/RowTest.java               |  4 ++--
 test/unit/org/apache/cassandra/db/SuperColumnTest.java       |  2 +-
 test/unit/org/apache/cassandra/db/TableTest.java             |  2 +-
 test/unit/org/apache/cassandra/db/TimeSortTest.java          |  2 +-
 test/unit/org/apache/cassandra/utils/UUIDTests.java          |  2 +-
 7 files changed, 13 insertions(+), 13 deletions(-)

commit 342f628a0a724fdf916945348eeb018eb9e333c3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat May 29 16:58:24 2010 +0000

    make CFS.getRangeSlice return List<Row>.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@949421 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  2 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 26 +++++++++++-----------
 .../org/apache/cassandra/db/CompactionsTest.java   |  4 ++--
 .../org/apache/cassandra/db/OneCompactionTest.java |  2 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  |  2 +-
 .../org/apache/cassandra/io/StreamingTest.java     |  6 ++---
 6 files changed, 21 insertions(+), 21 deletions(-)

commit 0c1986e53ec1c83fba966aa0d74dc69d66d22c41
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri May 28 15:54:28 2010 +0000

    additional test to check if a CF can be added to an empty KS after creation. patch by Erik Onnen, reviewed by Gary Dusbabek. CASSANDRA-1082
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@949210 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 43 +++++++++++++++++++++----
 1 file changed, 36 insertions(+), 7 deletions(-)

commit cba59a81e6dd08f72e920f55b28752f979a35cea
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 26 04:45:44 2010 +0000

    add Clock structure as a prelude to full vector clock support.  patch by Sylvain Lebresne and Kelvin Kakugawa for CASSANDRA-1070; reviewed by johano and jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@948316 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      |  4 +-
 test/unit/org/apache/cassandra/Util.java           |  8 +--
 .../org/apache/cassandra/client/TestRingCache.java |  7 ++-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 12 ++---
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 24 ++++-----
 .../org/apache/cassandra/db/CommitLogTest.java     |  4 +-
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 12 ++---
 .../org/apache/cassandra/db/CompactionsTest.java   |  4 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    | 30 +++++------
 .../org/apache/cassandra/db/MultitableTest.java    |  4 +-
 .../unit/org/apache/cassandra/db/NameSortTest.java |  4 +-
 .../org/apache/cassandra/db/OneCompactionTest.java |  2 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  2 +-
 .../apache/cassandra/db/RecoveryManager2Test.java  |  2 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  4 +-
 .../cassandra/db/RecoveryManagerTruncateTest.java  |  4 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |  4 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  6 +--
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  4 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  4 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  4 +-
 .../apache/cassandra/db/RemoveSuperColumnTest.java | 30 +++++------
 test/unit/org/apache/cassandra/db/RowTest.java     | 22 ++++----
 .../org/apache/cassandra/db/SuperColumnTest.java   |  7 ++-
 test/unit/org/apache/cassandra/db/TableTest.java   | 58 +++++++++++-----------
 .../unit/org/apache/cassandra/db/TimeSortTest.java | 15 +++---
 .../cassandra/io/sstable/SSTableReaderTest.java    |  2 +-
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  4 +-
 .../cassandra/service/AntiEntropyServiceTest.java  |  4 +-
 .../service/EmbeddedCassandraServiceTest.java      |  5 +-
 .../service/ReadResponseResolverTest.java          | 13 ++---
 .../apache/cassandra/tools/SSTableExportTest.java  | 21 ++++----
 .../apache/cassandra/utils/FBUtilitiesTest.java    | 27 ++++++++++
 33 files changed, 196 insertions(+), 161 deletions(-)

commit e44ca3ecfeabbdbeeb611fbaf9c71fc55c57c4d5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 24 20:46:27 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@947804 13f79535-47bb-0310-9956-ffa450edef68

 .../hadoop/ColumnFamilyInputFormatTest.java         | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 82840b687c4710036e230675669ed6cd40e2def1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 24 20:00:22 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@947773 13f79535-47bb-0310-9956-ffa450edef68

 .../hadoop/ColumnFamilyInputFormatTest.java        | 33 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit 4ed5281bf54c4f2032950bd7e99187bb9b9dafd3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 24 18:10:07 2010 +0000

    Add repair and move requests into AntiEntropyService.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1090
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@947737 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/AntiEntropyServiceTest.java     | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 6ebc3723eaaaa4b998fd1141964c200e3e8a8780
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri May 21 18:39:31 2010 +0000

    remove name field from cf and clean up. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-956
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@947122 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java                | 2 +-
 test/unit/org/apache/cassandra/db/ColumnFamilyTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 2bff10641963474a73a989237b7325775f001ca9
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri May 21 18:39:07 2010 +0000

    remove redundant cfNamesMap in Table. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-956
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@947120 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/AntiEntropyServiceTest.java   | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 91aa0d55c6a15b62fbd7b2e8df75f51ba9136e46
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 18 21:50:52 2010 +0000

    clean up DSS: inline getNaturalEndpointsInternal, remove reload-on-every-call, r/m redundant dcEndpints variable
    patch by jbellis; reviewed by Jeremy Hanna for CASSANDRA-1103
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@945911 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/locator/DatacenterShardStrategyTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 5a45534c27e97e0463507acff48b3847d958eea9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 17 19:58:39 2010 +0000

    make DCQUORUM CLs actually wait for the nodes per DC rather than attempting a purely count-based approach that didn't really work as advertised.  patch by Vijay Parthasarathy and jbellis; reviewed by Jeremy Hanna for CASSANDRA-952
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@945333 13f79535-47bb-0310-9956-ffa450edef68

 .../locator/DatacenterShardStrategyTest.java       | 62 ++++++++++++++++++++++
 .../cassandra/locator/DatacenterStrategyTest.java  | 18 -------
 2 files changed, 62 insertions(+), 18 deletions(-)

commit 8ede1adaf244fc389f16ea6666308967c89272cb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 17 14:52:34 2010 +0000

    block for AES to clear before we teardown the token metadata for the next test.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1028
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@945190 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/service/AntiEntropyServiceTest.java  | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit d087f862efc0429f702033c298a462747e38baf9
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed May 12 18:56:52 2010 +0000

    remove unused cfIdMap from CLH. Patch by gdusbabek, reviewed by jbellis. CASSANDRA-1069
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@943636 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/commitlog/CommitLogHeaderTest.java     | 17 -----------------
 1 file changed, 17 deletions(-)

commit d55ed91006b8ad6ef8b3ede0d4e124700b825dc9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 10 18:53:49 2010 +0000

    revert unreviewed patch to CASSANDRA-952
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@942842 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/DatacenterStrategyTest.java  | 29 ++++++----------------
 1 file changed, 8 insertions(+), 21 deletions(-)

commit ef1895bb955ed7332f756bae05e3b6eaab05e25e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 10 18:52:38 2010 +0000

    vijay
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@942840 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/DatacenterStrategyTest.java  | 29 ++++++++++++++++------
 1 file changed, 21 insertions(+), 8 deletions(-)

commit 8a3543a1edbfd59621af1a5f371a05539ce54377
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 10 16:37:28 2010 +0000

    implement truncate.  patch by jbellis and Ran Tavory for CASSANDRA-531
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@942817 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/RecoveryManagerTruncateTest.java  | 97 ++++++++++++++++++++++
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  1 -
 .../apache/cassandra/tools/SSTableExportTest.java  |  1 -
 3 files changed, 97 insertions(+), 2 deletions(-)

commit 940527d66484aa18a70820b908a096d097e05e9e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 10 14:59:13 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@942768 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/SSTableReaderTest.java    | 26 ++++++++++++++++++++--
 1 file changed, 24 insertions(+), 2 deletions(-)

commit 8d71923e7fdc854a1913a050da77bfb9a6b75c2b
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri May 7 22:07:00 2010 +0000

    move ks/cf definitions into system keyspace. Patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-1052
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@942248 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 14bdc6570d08567f1d8f8697b6be3984425f94e1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 7 20:55:33 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@942217 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 656bc4d777c057e7074b5d7c527b816025c9ff54
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 7 15:13:44 2010 +0000

    replace String columnfamily type with enum.  patch by Sylvain Lebresne; reviewed by jbellis for CASSANDRA-1058
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@942113 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2ffd301aeaa6eb4f106481f2a01df2e5d97bc307
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed May 5 15:34:07 2010 +0000

    restrict how and when CFMetaData objects are added to the static cfid map. Patch by Gary Dusbabek, reviewed by Jonthan Ellis.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@941349 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java                     | 5 +++++
 test/unit/org/apache/cassandra/db/commitlog/CommitLogHeaderTest.java | 1 -
 .../org/apache/cassandra/service/EmbeddedCassandraServiceTest.java   | 5 +++++
 3 files changed, 10 insertions(+), 1 deletion(-)

commit 2db783096aed6c76a1b16afcd2d3c44e49a4f11d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 3 20:46:44 2010 +0000

    Optimize TimeUUID comparisons by computing timestamp from raw bytes rather than creating temporary UUID objects.  patch by James Golick; reviewed by Sylvain Lebrense and jbellis for CASSANDRA-1043
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@940612 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/marshal/TimeUUIDTypeTest.java     | 77 ++++++++++++++++++++++
 1 file changed, 77 insertions(+)

commit e649d0f4d549746c695dc135230b1985af145e73
Author: Eric Evans <eevans@apache.org>
Date:   Sun May 2 00:06:31 2010 +0000

    separate assignment of current keyspace from login()
    
    This changeset is based on Todd Blose's patch, with some changes:
    
     * Fixed some style nits, (braches on newlines, etc)
     * Reinstated debug log statement in CassandraServer.login()
     * Reinstated css_.debug test when printing stacktrace in the CLI
     * Removed unused _login() function from system tests
     * Updated contrib/utils/service/CassandraServiceTest for login() change
     * Disabled system_add_keyspace() when authentication is enabled (login()
       requires a keyspace).
     * Reset access level (force a new login) when keyspace is changed using
       set_keyspace().
    
    Patch by Todd Blose and eevans for CASSANDRA-1022
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@940127 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java                | 2 +-
 .../unit/org/apache/cassandra/service/EmbeddedCassandraServiceTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f2c38f8feba906e0bea73a9a49e37d7c4bfcad23
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 29 01:55:30 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@939171 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/utils/EstimatedHistogramTest.java    | 50 ++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit 78cbce144c86cd376fa30830a82b94a35d2d93b0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 28 22:00:46 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@939110 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java       | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 969bdbe4f429596d09c75a502495224cb8e7e753
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 28 19:05:10 2010 +0000

    redo "add crc to commitlogheader," with fix for header serialization.
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-999
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@939053 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/commitlog/CommitLogHeaderTest.java | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 2acfb43599fd06f8d422478c023e35e2e56bcd4c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 27 17:06:04 2010 +0000

    move per-datacenter replication factor into datacenters.properties
    patch by jbellis; reviewed by eevans for CASSANDRA-994
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@938568 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/DatacenterStrategyTest.java      | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit cb3455f30ed23aec7968411e1df2377b25608c31
Author: Eric Evans <eevans@apache.org>
Date:   Mon Apr 26 18:18:54 2010 +0000

    rm keyspace argument from thrift methods
    
    This is Todd Blose's patch (CASSANDRA-714.patch.new) from 4/15, rebased
    by me to trunk. Any errors introduced are mine and mine alone.
    
    Patch by eevans and Todd Blose for CASSANDRA-714
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@938170 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java  |  9 +++++++--
 .../cassandra/service/EmbeddedCassandraServiceTest.java   | 15 +++++++++++----
 2 files changed, 18 insertions(+), 6 deletions(-)

commit 71c51f11ddf7314953f87ed482979357dd0d7d3a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Apr 24 04:30:48 2010 +0000

    add row cache preload option
    patch by Vijay Parthasarathy and jbellis for CASSANDRA-946
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@937591 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 04384943fef3c50b1cb27845c02a5287c983d11a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Apr 21 21:05:26 2010 +0000

    convert cassandra.xml to cassandra.yaml.  patch by Todd Blose and Stu Hood for CASSANDRA-990
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@936510 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java                    | 4 ++--
 test/unit/org/apache/cassandra/client/TestRingCache.java            | 2 +-
 .../org/apache/cassandra/service/EmbeddedCassandraServiceTest.java  | 6 ++----
 3 files changed, 5 insertions(+), 7 deletions(-)

commit fb7b2863b2964bf2171db30c9550ef8950127d6b
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Apr 20 22:03:56 2010 +0000

    do not call toString() directly on token. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-1006
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@936079 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit d60e62903108f00410ca21147bce6e1b145e1dca
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Apr 20 16:02:29 2010 +0000

    Use RackUnawareStrategy in unit tests because it doesn't conflict with SimpleEndpointSnitch. Patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-995
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@935973 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/config/DatabaseDescriptorTest.java    | 10 +++++-----
 test/unit/org/apache/cassandra/db/DefsTest.java                |  4 ++--
 2 files changed, 7 insertions(+), 7 deletions(-)

commit cae2664c30c64622a9fdd38b5c1b9170ac681a16
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Apr 20 16:02:20 2010 +0000

    include all keyspaces when creating the schema migration. Patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-995
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@935972 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/DatabaseDescriptorTest.java   | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 1a904da729b5b64f23b9c3285e4a3fa8468fe9ab
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 19 20:10:56 2010 +0000

    rename snitches to emphasize that RackAware is adding extra functionality that is not needed for simpler replication strategies.
    patch by Erick Tryzelaar; reviewed by jbellis for CASSANDRA-994
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@935725 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/locator/RackAwareStrategyTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2e1b1a53c953f183210052ea10b06c0818e427ed
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 19 14:47:36 2010 +0000

    rename EndPoint classes -> Endpoint (case change).
    patch by Erick Tryzelaar; reviewed by jbellis for CASSANDRA-994
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@935601 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java                   | 5 +----
 test/unit/org/apache/cassandra/locator/RackAwareStrategyTest.java | 6 +++---
 2 files changed, 4 insertions(+), 7 deletions(-)

commit 18b2a16f0a9cc90ef6f8c9677b7fa970a5200b5b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 19 14:36:24 2010 +0000

    rename EndPoint -> Endpoint, part 1.  patch by Erick Tryzelaar; reviewed by jbellis for CASSANDRA-994
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@935594 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java |  10 +-
 .../org/apache/cassandra/dht/BootStrapperTest.java |   2 +-
 .../org/apache/cassandra/gms/GossipDigestTest.java |   6 +-
 .../cassandra/locator/RackAwareStrategyTest.java   |  56 ++--
 .../cassandra/locator/RackUnawareStrategyTest.java |  50 ++--
 .../org/apache/cassandra/service/MoveTest.java     | 284 ++++++++++-----------
 6 files changed, 204 insertions(+), 204 deletions(-)

commit 16ba403a0f68e1cb3a8542b9f9d2c91b01113519
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 16 22:04:46 2010 +0000

    Add ExpiringColumn and Column ttl.
    patch by Sylvain Lebresne; reviewed by jbellis for CASSANDRA-699
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@935088 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java         | 4 +++-
 .../apache/cassandra/service/EmbeddedCassandraServiceTest.java   | 9 +++++++--
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 5bf3ad0760dbf3372315ac54293c8c9693e070dc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 16 22:04:11 2010 +0000

    move deletion code into DeletedColumn instead of using boolean isMarkedForDelete
    patch by Sylvain Lebresne; reviewed by jbellis for CASSANDRA-699
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@935087 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/tools/SSTableExportTest.java    | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 79e9a80b2f6ca205b5895075ba93180129197594
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 16 19:23:47 2010 +0000

    make EndPointSnitch per-cluster instead of per-keyspace, and add better error messages for snitch misconfiguration.
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-986
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@935049 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0a9a17e5cbf202a26b3cc21f71b389c149fd71f2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 16 16:44:47 2010 +0000

    add long-test ant target for compaction speed test and larger bloom filter tests [formerly commented out].  patch by Stu Hood; reviewed by Jeremy Hanna for CASSANDRA-985
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934992 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/LongCompactionSpeedTest.java      | 109 +++++++++++++++++++++
 .../cassandra/utils/LongBloomFilterTest.java       |  62 ++++++++++++
 .../apache/cassandra/db/CompactionSpeedTest.java   | 109 ---------------------
 .../apache/cassandra/utils/BloomFilterTest.java    |  33 -------
 4 files changed, 171 insertions(+), 142 deletions(-)

commit 1fb70ac9310aa0c97aa44bfd2b9011c5af2a69fc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 16 16:04:22 2010 +0000

    merge RangeIntersectionTest into RangeTest.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-951
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934972 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/dht/RangeIntersectionTest.java       | 152 ---------------------
 test/unit/org/apache/cassandra/dht/RangeTest.java  | 123 +++++++++++++++++
 2 files changed, 123 insertions(+), 152 deletions(-)

commit 784a71ff6c722de2f3e950eedf17ce31ca43711a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 16 02:27:08 2010 +0000

    rename deleteDir -> deleteRecursive; use in CleanupHelper (automatically cleans up snapshots)
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-983
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934673 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java | 20 ++------------------
 1 file changed, 2 insertions(+), 18 deletions(-)

commit a07e71cd1bacaa3d7dcc16b340e0b1ecf51d36e2
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Apr 14 19:53:53 2010 +0000

    import and dead-code cleanup. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-767
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934158 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java                           | 5 -----
 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java   | 3 ---
 test/unit/org/apache/cassandra/io/sstable/SSTableTest.java         | 6 ------
 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 4 ++--
 4 files changed, 2 insertions(+), 16 deletions(-)

commit 64f443aa9652fe6d7e37b8ea928b5a439c399eec
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Apr 14 19:53:43 2010 +0000

    use hex keys in sstable import/export. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-767
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934157 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/tools/SSTableExportTest.java  | 26 +++++++++++++---------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit 2d9d248ee5cda32cbe9335a06d3ea579a8ed806d
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Apr 14 19:53:33 2010 +0000

    add ByteOrderedPartitioner. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-767
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934156 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/dht/ByteOrderedPartitionerTest.java  | 32 ++++++++++++++++++++++
 .../CollatingOrderPreservingPartitionerTest.java   |  3 +-
 .../apache/cassandra/dht/PartitionerTestCase.java  | 12 ++++++--
 3 files changed, 43 insertions(+), 4 deletions(-)

commit f3a4e1736b2fedb84abc27c23ae1f299fde3def6
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Apr 14 19:53:23 2010 +0000

    convert thrift to byte keys. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-767
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934155 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java          | 8 ++++----
 .../apache/cassandra/service/EmbeddedCassandraServiceTest.java    | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 434564d1f9c39774cc185077dd3141b352b3f5c0
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Apr 14 19:53:06 2010 +0000

    byte for decorateKey and getToken in IPartitioner. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-767
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934154 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           | 20 ++++++-
 .../org/apache/cassandra/client/TestRingCache.java |  2 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 24 ++++----
 .../org/apache/cassandra/db/CommitLogTest.java     |  2 +-
 .../apache/cassandra/db/CompactionsPurgeTest.java  | 17 +++---
 .../org/apache/cassandra/db/CompactionsTest.java   | 14 ++---
 test/unit/org/apache/cassandra/db/DefsTest.java    | 40 +++++++------
 .../org/apache/cassandra/db/MultitableTest.java    | 10 ++--
 .../unit/org/apache/cassandra/db/NameSortTest.java |  6 +-
 .../org/apache/cassandra/db/OneCompactionTest.java |  6 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   | 22 +++++---
 .../apache/cassandra/db/RecoveryManager2Test.java  |  2 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   | 10 ++--
 .../cassandra/db/RemoveColumnFamilyTest.java       | 11 ++--
 .../db/RemoveColumnFamilyWithFlush1Test.java       | 11 ++--
 .../db/RemoveColumnFamilyWithFlush2Test.java       | 11 ++--
 .../org/apache/cassandra/db/RemoveColumnTest.java  | 13 +++--
 .../apache/cassandra/db/RemoveSubColumnTest.java   | 13 +++--
 .../apache/cassandra/db/RemoveSuperColumnTest.java | 65 +++++++++++-----------
 .../org/apache/cassandra/db/SystemTableTest.java   |  2 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 56 ++++++++++---------
 .../unit/org/apache/cassandra/db/TimeSortTest.java | 20 ++++---
 .../apache/cassandra/dht/PartitionerTestCase.java  |  4 +-
 .../org/apache/cassandra/io/StreamingTest.java     |  2 +-
 .../cassandra/io/sstable/LegacySSTableTest.java    | 15 ++---
 .../cassandra/io/sstable/SSTableReaderTest.java    |  9 ++-
 .../apache/cassandra/io/sstable/SSTableTest.java   | 23 ++++----
 .../apache/cassandra/io/sstable/SSTableUtils.java  | 30 +++++-----
 .../cassandra/locator/RackUnawareStrategyTest.java |  2 +-
 .../cassandra/service/AntiEntropyServiceTest.java  |  4 +-
 .../apache/cassandra/tools/SSTableExportTest.java  | 30 +++++-----
 .../apache/cassandra/tools/SSTableImportTest.java  |  7 ++-
 32 files changed, 277 insertions(+), 226 deletions(-)

commit 790cca1e45d4687b43119036501454ed70479cee
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Apr 14 19:52:38 2010 +0000

    bump sstable version to c. remove utf-16 encoding. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-767
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934153 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/utils/BloomFilterTest.java    |  6 ++---
 .../org/apache/cassandra/utils/FilterTest.java     | 16 +++++------
 .../org/apache/cassandra/utils/KeyGenerator.java   | 31 +++++++++++-----------
 3 files changed, 26 insertions(+), 27 deletions(-)

commit f3bb9acfd5549aaec76e4e5ebbe84e4b54b23f6e
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Apr 14 19:52:28 2010 +0000

    convert IPartitioner disk key format to bytes. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-767
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934152 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 12eb0571e2e65537ee17fbdab4859b429ad2189b
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Apr 14 19:51:55 2010 +0000

    implement a legacy sstable test.  Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-767
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934149 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/LegacySSTableTest.java    | 113 +++++++++++++++++++++
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  30 ++++--
 2 files changed, 132 insertions(+), 11 deletions(-)

commit 9811668a10cd6b8960378aacf31156adb4a4f8b9
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Apr 14 19:51:38 2010 +0000

    implement a compaction benchmark. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-767
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@934147 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CompactionSpeedTest.java   | 109 +++++++++++++++++++++
 .../apache/cassandra/io/sstable/SSTableUtils.java  |  14 ++-
 2 files changed, 119 insertions(+), 4 deletions(-)

commit d20d24adc1b642b1c114f7a2e5885d5a0e2c0ede
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 13 03:59:27 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@933475 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/io/sstable/SSTableReaderTest.java    | 59 ++++++++++++++++++++++
 1 file changed, 59 insertions(+)

commit ee8803900b5ad4ffe9b827c64e9cab1d4b8ce499
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Apr 9 14:28:26 2010 +0000

    Make range queries gather keys + results in a single pass.
    
    rename ColumnIterator -> IColumnIterator
           IteratingRow -> SSTableIdentityIterator
    
    Moves the guts of the range query into RowIteratorFactory which creates the RowIterators from the given column filter.  Column filters are extended to take an already-open input source rather than seeking to a known key.
    
    patch by johano and jbellis for CASSANDRA-821
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@932431 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/tools/SSTableExportTest.java | 4 ++--
 test/unit/org/apache/cassandra/tools/SSTableImportTest.java | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 8a010c82cc390fde157bb1d5c3192b0205c7a802
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Apr 8 21:23:27 2010 +0000

    r/m unused code in test Util class.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@932120 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit d411227715059d07ad73ab1f31d6e0dd96bb1fce
Author: Eric Evans <eevans@apache.org>
Date:   Thu Apr 8 19:27:34 2010 +0000

    RingCache fixups in the wake of CASSANDRA-44
    
     * invoke DatabaseDescriptor.loadSchemas from RingCache ctor (needed
       now to populate DD's table list).
     * improved error handling in DD.getReplicaPlacementStrategyClass so that
       any future failures to call loadSchemas are easier to spot.
     * updated TestRingCache. This was never runnable as a unit test, (it
       requires a running instance), and doing static initialization is
       problematic now that RingCache's ctor throws IOExceptions.
    
    Patch by eevans
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@932073 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java | 26 ++++++++++++----------
 1 file changed, 14 insertions(+), 12 deletions(-)

commit fe34d59766a84185c6d7943c556f59dc4635e04a
Author: Eric Evans <eevans@apache.org>
Date:   Thu Apr 8 19:27:25 2010 +0000

    CASSANDRA-965 remove deprecated methods, update dependent code
    
     * removed method defs and regenerated thrift code
     * removed CassandraServer implementations
     * updated cassandra-cli to call new (describe_*) methods
     * updated RingCache to use describe_ring()
     * removed "show config file" from cli (no thrift access for this anymore).
     * updated release notes.
    
    Patch by eevans for CASSANDRA-965
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@932072 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 94f8a8e80c79248db83c751c230e2e5a5e237744
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Apr 8 13:48:16 2010 +0000

    SS.loadSchemaFromXML should record migrations. Patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-963
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@931942 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/SchemaLoader.java                      | 4 +++-
 .../org/apache/cassandra/service/EmbeddedCassandraServiceTest.java    | 4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit b3e1e7a569c4ff2297bc1f512c4c53452527cbb7
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Apr 6 16:02:52 2010 +0000

    use cfid for all mutations. Patch by Gary Dusbabek, reviewed by Jonthan Ellis. CASSANDRA-827
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@931204 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java                   | 8 ++++++++
 test/unit/org/apache/cassandra/db/MultitableTest.java      | 5 +++--
 test/unit/org/apache/cassandra/db/NameSortTest.java        | 5 +++--
 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java | 5 +++--
 4 files changed, 17 insertions(+), 6 deletions(-)

commit 7a75b63b2659db34306f7000a885c102859720f7
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Apr 6 16:02:26 2010 +0000

    switch to reading schema configuration from storage. Patch by Gary Dusbabek, reviewed by Jonthan Ellis. CASSANDRA-827
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@931202 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  |  2 +-
 test/unit/org/apache/cassandra/SchemaLoader.java   | 41 ++++++++++++++++++++++
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  3 +-
 test/unit/org/apache/cassandra/db/DefsTest.java    | 10 ++----
 .../org/apache/cassandra/db/ReadMessageTest.java   |  3 +-
 test/unit/org/apache/cassandra/db/RowTest.java     |  3 +-
 .../db/commitlog/CommitLogHeaderTest.java          | 10 ++----
 .../cassandra/locator/RackUnawareStrategyTest.java |  3 +-
 .../service/EmbeddedCassandraServiceTest.java      |  5 ++-
 .../service/ReadResponseResolverTest.java          |  3 +-
 .../apache/cassandra/streaming/BootstrapTest.java  |  3 +-
 .../apache/cassandra/tools/SSTableExportTest.java  |  4 ++-
 .../apache/cassandra/tools/SSTableImportTest.java  |  4 ++-
 13 files changed, 69 insertions(+), 25 deletions(-)

commit 4d4ef96cd2268d9616df98b83cc1bb2564f786d9
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Apr 6 16:01:44 2010 +0000

    move ConfigurationException to its own class file. Patch by Gary Dusbabek, reviewed by Jonthan Ellis. CASSANDRA-827
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@931199 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a89fd2a3388a2f222a78d28e4715d37ed60c3975
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Apr 6 16:01:31 2010 +0000

    Refactor so meta mutations can be serialized and moved around.  Patch by Gary Dusbabek, reviewed by Jonthan Ellis. CASSANDRA-827
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@931198 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 119 +++++++++++++++++++-----
 1 file changed, 98 insertions(+), 21 deletions(-)

commit 7fd4228c84f7e1eb43dd870239e1a79e9b0e95d4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Apr 6 14:58:17 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@931172 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/AntiEntropyServiceTest.java  | 75 ++++++++++++++++------
 .../service/StorageServiceServerTest.java          | 14 +++-
 2 files changed, 70 insertions(+), 19 deletions(-)

commit 0de8e54bbe27db2df3f7a89d2d6a62741f68383c
Author: Johan Oskarsson <johan@apache.org>
Date:   Tue Apr 6 13:37:38 2010 +0000

    Cache BufferedRandomAccessFile.length result to avoid native call. Patch by johan, review by jbellis. CASSANDRA-950
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@931148 13f79535-47bb-0310-9956-ffa450edef68

 .../io/util/BufferedRandomAccessFileTest.java      | 48 ++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit bf98ec94eca061d2dbe6eba0472134cb334978a6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Mar 30 15:14:03 2010 +0000

    separate QueryFilter from IFilter, make QueryFilter handle both the top-level and subcolumn filtering transparently to caller.
    patch by jbellis; reviewed by johano for CASSANDRA-917
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@929163 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 11 ++++-------
 .../apache/cassandra/db/CompactionsPurgeTest.java  |  8 ++++----
 test/unit/org/apache/cassandra/db/DefsTest.java    | 11 ++++++-----
 .../cassandra/db/RemoveColumnFamilyTest.java       |  4 ++--
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  4 ++--
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  4 ++--
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  6 +++---
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  4 ++--
 .../apache/cassandra/db/RemoveSuperColumnTest.java | 23 +++++++++++-----------
 test/unit/org/apache/cassandra/db/TableTest.java   | 11 ++++++-----
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  4 +++-
 .../apache/cassandra/tools/SSTableExportTest.java  |  9 +++++----
 .../apache/cassandra/tools/SSTableImportTest.java  |  9 +++++----
 13 files changed, 55 insertions(+), 53 deletions(-)

commit a8bf985be53318807ac8fb28cb32146677a716ab
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 29 16:13:07 2010 +0000

    add RackAwareStrategyTest.  patch by Rodrigo Peinado; reviewed by jbellis for CASSANDRA-776
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@928820 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/RackAwareStrategyTest.java   | 172 +++++++++++++++++++++
 1 file changed, 172 insertions(+)

commit c613fea68837729dd122721d319faa6cc1670028
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 24 01:35:54 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@926902 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/UUIDTests.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 405524ee6d87f088c121b797775ab8e5bbf1b57b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Mar 19 21:22:37 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@925428 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/AsciiTypeTest.java | 42 -----------
 .../apache/cassandra/db/marshal/BytesTypeTest.java | 42 -----------
 .../cassandra/db/marshal/TypeCompareTest.java      | 87 ++++++++++++++++++++++
 .../apache/cassandra/db/marshal/UTF8TypeTest.java  | 43 -----------
 4 files changed, 87 insertions(+), 127 deletions(-)

commit 3aaecf9aa4baa4396af8eb153dd081dd05ac2061
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 18 14:04:06 2010 +0000

    rename keyspace. patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-861.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@924785 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 80 ++++++++++++++++++++++++-
 1 file changed, 78 insertions(+), 2 deletions(-)

commit f54c4015868f89f0d811bf85b593eb0b8bee01e4
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 18 14:03:55 2010 +0000

    drop keyspace. patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-861.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@924784 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 55 +++++++++++++++++++++++--
 1 file changed, 52 insertions(+), 3 deletions(-)

commit b13a63474e0cf379795ba5480e8d683f4ed2f259
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 18 14:03:44 2010 +0000

    add keyspace. patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-861.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@924783 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 29 +++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 17f3dbb11bd8b3571bae657b83512742f567ac74
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Mar 15 20:11:15 2010 +0000

    make Table.open throw IOError instead of IOException.  patch by Rodrigo Peinado; reviewed by jbellis for CASSANDRA-756
    
    git-svn-id: https://svn.apache.org/repos/asf/cassandra/trunk@923416 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java | 11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

commit 0095f0c68f640a8aa8c4f8a8f24c0876861c004c
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Fri Mar 12 20:01:07 2010 +0000

    CASSANDRA-625 switch to slf4j logging. Patch by Gabriele Renzi, reviewed by Gary Dusbabek.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@922409 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java        | 5 +++--
 test/unit/org/apache/cassandra/utils/MerkleTreeTest.java | 5 +++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 60a3008cd76e9fab7e959f91f6c4527f80d50dac
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 11 17:53:34 2010 +0000

    improve concurrency during defn mutations. Patch by Gary Dusbabek, reviewed by Jonthan Ellis. CASSANDRA-840
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@921963 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 26 +++++++++++++++++++------
 1 file changed, 20 insertions(+), 6 deletions(-)

commit 3395bd0a817c1d0a8e8cba6c71e6bcc56aa5e8d2
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 11 17:53:22 2010 +0000

    rename a cf on a single node. Patch by Gary Dusbabek, reviewed by Jonthan Ellis. CASSANDRA-840
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@921962 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 70 +++++++++++++++++--------
 1 file changed, 47 insertions(+), 23 deletions(-)

commit b2beaf4bc6a7eb176898d30a3be20040f4e8b232
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 11 17:53:09 2010 +0000

    drop a cf on a single node. Patch by Gary Dusbabek, reviewed by Jonthan Ellis. CASSANDRA-840
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@921961 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 63 ++++++++++++++++++++++++-
 1 file changed, 62 insertions(+), 1 deletion(-)

commit e98796632b8a564e5e30eb00e78dc80466894f3d
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 11 17:52:30 2010 +0000

    add a cf on a single node. Patch by Gary Dusbabek, reviewed by Jonathan Ellis.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@921960 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 78 +++++++++++--------------
 1 file changed, 35 insertions(+), 43 deletions(-)

commit 65b918e03a7e88d524feee512d6c6380292264d4
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 11 17:51:45 2010 +0000

    store cfid map in CLH. Patch by Gary Dusbabek, reviewed by Jonathan Ellis.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@921958 13f79535-47bb-0310-9956-ffa450edef68

 .../db/commitlog/CommitLogHeaderTest.java          | 95 ++++++++++++++++++++++
 1 file changed, 95 insertions(+)

commit 9f7ceaebec5d21a8ae5d0b9134ffed1a5cf9eec5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 4 20:49:45 2010 +0000

    extract SSTableReader as superclasses; subclass is RowIndexedReader
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-777
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@919171 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 2 +-
 test/unit/org/apache/cassandra/db/TableTest.java             | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 86eaf906b7fcb33081fc505bea7e54ee29243bff
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 4 20:48:58 2010 +0000

    move SSTable* to io.sstable package.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-777
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@919170 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   2 +-
 .../apache/cassandra/db/CompactionsPurgeTest.java  |   4 +-
 .../org/apache/cassandra/db/CompactionsTest.java   |   2 +-
 test/unit/org/apache/cassandra/db/TableTest.java   |   6 +-
 test/unit/org/apache/cassandra/io/SSTableTest.java |  97 ------------------
 .../unit/org/apache/cassandra/io/SSTableUtils.java | 109 --------------------
 .../org/apache/cassandra/io/StreamingTest.java     |   4 +-
 .../apache/cassandra/io/sstable/SSTableTest.java   |  98 ++++++++++++++++++
 .../apache/cassandra/io/sstable/SSTableUtils.java  | 110 +++++++++++++++++++++
 .../apache/cassandra/streaming/BootstrapTest.java  |   2 +-
 .../apache/cassandra/tools/SSTableExportTest.java  |   6 +-
 .../apache/cassandra/tools/SSTableImportTest.java  |   4 +-
 12 files changed, 223 insertions(+), 221 deletions(-)

commit 7840986e19bd61231b9c40023903d30f9a005c29
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 4 20:17:20 2010 +0000

    make KSMetaData immutable
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@919156 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 76 +++++++++++++------------
 1 file changed, 39 insertions(+), 37 deletions(-)

commit 6b655b0f79a0192f5ce1275d0fa9775ded717b6e
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 4 20:17:12 2010 +0000

    dump and load definition tables
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@919155 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/DefsTest.java | 105 ++++++++++++++++++++++++
 1 file changed, 105 insertions(+)

commit 937d5c5887de5034f00d4ed956d64224ab5318d8
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Mar 4 20:17:04 2010 +0000

    CASSANDRA-825 use jug for TimeUUID generation
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@919154 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/utils/UUIDTests.java | 56 ++++++++++++++++++++++
 1 file changed, 56 insertions(+)

commit 95ead06d77962e216107fdeb29a10d96af19c8a7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 4 16:44:12 2010 +0000

    inline ThriftGlue methods.  patch by Ted Zlatanov; reviewed by jbellis for CASSANDRA-848
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@919059 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 7d2115bf8bad64f69a23647dc05be817d5f1a684
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Mar 4 03:42:05 2010 +0000

    add optional bitmask matching to SliceRange.  patch by Ted Zlatanov; reviewed by jbellis for CASSANDRA-764
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@918844 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ReadMessageTest.java   |  29 ++++-
 test/unit/org/apache/cassandra/db/TableTest.java   | 126 ++++++++++++++++++++-
 2 files changed, 150 insertions(+), 5 deletions(-)

commit 8f1376bcba7476977c1c512534a7f3371e26501a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Mar 3 16:51:24 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@918566 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/DatabaseDescriptorTest.java   |  2 +-
 .../apache/cassandra/tools/SSTableExportTest.java  | 46 ++++++++++++++++++----
 2 files changed, 39 insertions(+), 9 deletions(-)

commit 5086f498d4d23c3f1838e95f6dc25a0a8254f1fe
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Feb 27 15:30:20 2010 +0000

    r/m files to finish 0.6 merge of CASSANDRA-801
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@916966 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/io/SSTableAccessor.java   | 35 ----------------------
 1 file changed, 35 deletions(-)

commit 5d4371a0c4e6941f540c8aa7f60d2cfb0744d9c4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Feb 27 15:18:50 2010 +0000

    merge from 0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@916962 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java          |  4 ++--
 test/unit/org/apache/cassandra/io/SSTableUtils.java         |  2 +-
 test/unit/org/apache/cassandra/tools/SSTableExportTest.java | 11 +++++------
 test/unit/org/apache/cassandra/tools/SSTableImportTest.java |  5 ++---
 4 files changed, 10 insertions(+), 12 deletions(-)

commit 24dbb2d08f1e9ef5776e381a4079573554b3a1f3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 25 23:51:10 2010 +0000

    avoid hardcoding unix-style path names.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@916497 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/streaming/BootstrapTest.java | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 0160ad5ae7f92bf897054981631df9198dc00ccf
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 23 23:07:01 2010 +0000

    merge r915463 from 0.6 manually by running rat on trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@915575 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BoundsTest.java | 167 ++++++------
 .../cassandra/dht/RangeIntersectionTest.java       | 283 +++++++++++----------
 2 files changed, 246 insertions(+), 204 deletions(-)

commit fbda616f682362053f3a11b9f4bbdd725c9b38fa
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Feb 23 21:48:31 2010 +0000

    Refactor DatabaseDescriptor to isolate the code that establishes the keyspaces and column families. Patch by Gary Dusbabek, reviewed by Eric Evans.  CASSANDRA-819
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@915533 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/DatabaseDescriptorTest.java   | 36 +++++++++++++++++-----
 .../cassandra/service/AntiEntropyServiceTest.java  |  4 +--
 2 files changed, 30 insertions(+), 10 deletions(-)

commit 81d713a7cf921b6c67a39aaa7946d44a57dabf2c
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Mon Feb 22 16:48:55 2010 +0000

    sstable versioning. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-389
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@912650 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 10 +++---
 .../unit/org/apache/cassandra/io/SSTableUtils.java |  8 +++--
 .../apache/cassandra/streaming/BootstrapTest.java  | 36 ++++++++++++----------
 .../apache/cassandra/tools/SSTableExportTest.java  | 12 ++++----
 .../apache/cassandra/tools/SSTableImportTest.java  |  6 ++--
 5 files changed, 40 insertions(+), 32 deletions(-)

commit 5a5f9aa3d26723f1a5985515a80a4a4aa6485acc
Author: Eric Evans <eevans@apache.org>
Date:   Fri Feb 19 21:30:32 2010 +0000

    use less specific descriptors for Thrift{Address,Port}
    
    Patch by eevans; reviewed by gdusbabek for CASSANDRA-811
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@911989 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b511d0f1b05d2292bf1c56caf785110e3d753a41
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Feb 17 21:16:52 2010 +0000

    Using realy keyspaces in tests so that their replication strategies can be queried. Patch by Gary Dusbabek, reviewed by Stu Hood.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@911178 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5e4c5ce61bf5fafd5ea73ccc3da09f5147e456d0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 16 03:41:03 2010 +0000

    merge from 0.5
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@910386 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/utils/BloomFilterTest.java  | 20 +++++++++++++++-----
 test/unit/org/apache/cassandra/utils/FilterTest.java |  2 +-
 2 files changed, 16 insertions(+), 6 deletions(-)

commit 9cc51b5f2cc31cea6ace8deae81356fea4d9ed22
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 16 02:47:57 2010 +0000

    fix range queries and Range/Bounds intersections.  patch by jbellis; tested by Jack Culpepper for CASSANDRA-781
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@910380 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BoundsTest.java |  73 ++++++++++++
 .../cassandra/dht/RangeIntersectionTest.java       | 131 +++++++++++++++++++++
 test/unit/org/apache/cassandra/dht/RangeTest.java  |  34 +++++-
 3 files changed, 236 insertions(+), 2 deletions(-)

commit 128821e5b90654aee60c2c37c5e068c63a94445c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Feb 15 20:06:39 2010 +0000

    fix SSTableExportTest to work on Windows.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@910325 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/tools/SSTableExportTest.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 03da50d62cc607b154d801b3709b2f6663d86ac5
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 11 03:50:40 2010 +0000

    mv RecoverManager.doRecovery() -> CommitLog.recover()
    patch by jbellis; reviewed by junrao for CASSANDRA-783
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@908831 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java | 4 +++-
 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java  | 6 ++++--
 2 files changed, 7 insertions(+), 3 deletions(-)

commit fdba4279a0f402603872b36f58fe3c686f691ac4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Feb 11 03:49:49 2010 +0000

    encapsulate commitlog file operations in CommitLogSegment
    patch by jbellis; reviewed by junrao for CASSANDRA-783
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@908830 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit fbb188f91afa31ef7887d9a757080599e32a41d3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Feb 9 17:52:44 2010 +0000

    mv commitlog classes into db.commitlog package.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@908131 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CommitLogTest.java | 1 +
 1 file changed, 1 insertion(+)

commit c8889a7087c87df47b0008b665a8e7c6d3fe2a12
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Tue Feb 9 14:05:00 2010 +0000

    Embedded cassandra service to facilitate testing apps that depend on cassandra. Patch by Ran Tavory, reviewed by Gary Dusbabek. CASSANDRA-740.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@908038 13f79535-47bb-0310-9956-ffa450edef68

 .../service/EmbeddedCassandraServiceTest.java      | 120 +++++++++++++++++++++
 1 file changed, 120 insertions(+)

commit 2f99e71f304b3663f2cc7d8bb79172a999525062
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Feb 6 04:15:39 2010 +0000

    have RangeSliceCommand take Range or Bounds (client bounds, start-inclusive, non-wrapping)
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-763
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@907172 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java                  | 11 ++++++-----
 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java    | 15 +++++----------
 2 files changed, 11 insertions(+), 15 deletions(-)

commit 478ba67b49496b2656f53671559612eac861190f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Feb 6 04:14:44 2010 +0000

    add Range.intersectsWith.  patch by jbellis; reviewed by Stu Hood for CASSANDRA-763
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@907171 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/RangeTest.java | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 781aeaae0687e57b7f0ca92364728c3ff5a03b94
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Feb 5 03:14:57 2010 +0000

    format RangeTest.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@906791 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/RangeTest.java | 21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit 979d92fa45ee10811cf17ca4474ab9c4aeb7c6f7
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Feb 4 15:41:31 2010 +0000

    missing file intended for r906521. CASSANDRA-620
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@906528 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/StorageServiceAccessor.java  | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 3577fd82520a035df989b6da2fcc982a058106ef
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Feb 4 15:21:31 2010 +0000

    add per-keyspace replication factor and replication strategy. Patch by Gary Dusbabek, reviewed by Jaakko Laine.  CASSANDRA-620
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@906521 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java |  33 +-
 .../cassandra/config/DatabaseDescriptorTest.java   |   4 +-
 .../org/apache/cassandra/dht/BootStrapperTest.java |  27 +-
 .../cassandra/locator/RackUnawareStrategyTest.java |  90 ++--
 .../cassandra/service/AntiEntropyServiceTest.java  |  12 +-
 .../org/apache/cassandra/service/MoveTest.java     | 484 +++++++++++++--------
 6 files changed, 424 insertions(+), 226 deletions(-)

commit ecdcc00ff3105135dec4e4ae47af85cb576a3084
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 3 22:44:56 2010 +0000

    add option to skip start key in range query (StorageProxy only for now) and test.
    patch by jbellis; reviewed by stuhood for CASSANDRA-759
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@906272 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |  3 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 38 +++++++++++++++++++---
 2 files changed, 35 insertions(+), 6 deletions(-)

commit 30f0216a8fafe8a95b68f45cf0ee34f2e0b9aaac
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 3 20:40:10 2010 +0000

    reformat, cleanup Range.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@906231 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java    |  3 +--
 .../org/apache/cassandra/utils/MerkleTreeTest.java    | 19 +++++++++----------
 2 files changed, 10 insertions(+), 12 deletions(-)

commit 7af12623b19cf0df440fcb2b5b05ef83d5931553
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 3 20:00:46 2010 +0000

    allow wrapped range queries.  patch by jbellis; reviewed by stuhood for CASSANDRA-758
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@906209 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           | 22 ++++++++++
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 29 +++++++++++--
 .../cassandra/db/ColumnFamilyStoreUtils.java       | 48 ----------------------
 .../cassandra/service/AntiEntropyServiceTest.java  |  7 ++--
 4 files changed, 52 insertions(+), 54 deletions(-)

commit 3852009c14e9129f68786262bcedb9c00dc0df7e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 3 14:46:12 2010 +0000

    make CFS.getKeyRange private; replace w/ getRangeSlice in tests.  also clean up test imports.
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@906073 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java             | 20 ++++++++++++++++++--
 .../org/apache/cassandra/db/CompactionsTest.java     | 17 ++++++-----------
 test/unit/org/apache/cassandra/db/NameSortTest.java  |  2 +-
 .../org/apache/cassandra/db/OneCompactionTest.java   |  6 +++---
 .../apache/cassandra/db/RecoveryManager2Test.java    | 10 +++-------
 .../org/apache/cassandra/db/RecoveryManagerTest.java |  3 ---
 .../apache/cassandra/db/RemoveSuperColumnTest.java   |  4 ++--
 .../org/apache/cassandra/db/SuperColumnTest.java     |  1 -
 test/unit/org/apache/cassandra/io/StreamingTest.java | 13 +++++--------
 .../cassandra/service/ReadResponseResolverTest.java  |  2 +-
 10 files changed, 39 insertions(+), 39 deletions(-)

commit 77335589c85f65b91c5e31482088ba85969020f4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 3 02:22:16 2010 +0000

    r/m SSTR.openedFiles; clean up decorated key iteration
    patch by jbellis; reviewed by stuhood for CASSANDRA-753
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@905869 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 34 ++--------------------
 1 file changed, 2 insertions(+), 32 deletions(-)

commit 4922a87b54c8ddcc47ef8a3c7542bc40dde435c2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Feb 3 02:20:45 2010 +0000

    clean up Table iteration; add Table.all, CFS.all
    patch by jbellis; reviewed by stuhood for CASSANDRA-753
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@905868 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableUtils.java                | 2 +-
 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 210c98ee3f376576af3c6f83ab643fa5752917fe
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jan 31 00:30:19 2010 +0000

    mv InitiatedFile -> PendingFile
    patch by jbellis; reviewed by stuhood for CASSANDRA-751
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@904933 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/streaming/BootstrapTest.java    | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 6224d8b25dcfdcf8a1771a77cbf8619a1d1e6d59
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jan 31 00:29:37 2010 +0000

    move IncomingStreamReader, StreamInitiateMessage, and BootstrapTest to streaming package.  r/m 'public' modifier from streaming classes that don't need it
    patch by jbellis; reviewed by stuhood for CASSANDRA-751
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@904932 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootstrapTest.java    | 59 ----------------------
 .../apache/cassandra/streaming/BootstrapTest.java  | 57 +++++++++++++++++++++
 2 files changed, 57 insertions(+), 59 deletions(-)

commit 9e695b576560663a101f7c89bb78a989a2e44241
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jan 31 00:23:19 2010 +0000

    rename StreamContextManager -> StreamInManager, StreamManger -> StreamOutManager, extract SCM.StreamContext -> InitiatedFile
    patch by jbellis; reviewed by stuhood for CASSANDRA-751
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@904927 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootstrapTest.java | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit c14e573cc03731d83fc7cd7c25afe464d18857ca
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jan 31 00:22:29 2010 +0000

    split Streaming into StreamOut and StreamIn; clean up StreamManager
    patch by jbellis; reviewed by stuhood for CASSANDRA-751
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@904925 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/StreamingTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cc9737abaf6b6e5a117385cfe627c0a9a90b5988
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Jan 31 00:21:36 2010 +0000

    centralize streaming code in org.apache.cassandra.streaming; split out verbs & handlers into top-level classes
    patch by jbellis; reviewed by stuhood for CASSANDRA-751
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@904924 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootstrapTest.java | 6 +++---
 test/unit/org/apache/cassandra/io/StreamingTest.java  | 1 +
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 8b7038b2acd8a7f15df9f45fc8beeced5682916c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Jan 30 00:10:56 2010 +0000

    merge from 0.5
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@904687 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RemoveSuperColumnTest.java | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit d6c2bb0907efd2514a03d117ac1cc4fa60d3bfc4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 29 19:31:32 2010 +0000

    make empty strings always return the MINIMUM token, and DecoratedKeys containing the MINIMUM token always be considered empty.  This is something we probably should be doing anyway for consistency.  (It was already true for OPP, but not COPP or RP.)
    
    No further special casing should be necessary because we have already abstracted out code that needs to work across multiple partitioners to use IPartitioner.isEmpty, including getRangeSlice.
    
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-745
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@904605 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit 542bd7904dcf54cce2276930aa43841b6eec8e0f
Author: Eric Evans <eevans@apache.org>
Date:   Fri Jan 29 16:24:28 2010 +0000

    refactor thrift-specific code ...server -> ...thrift
    
    This was mostly an IDE-driven effort.
    
    Patch by eevans
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@904540 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit d6682ffb7b3594491151e664b070f8526fc4fece
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jan 25 18:36:00 2010 +0000

    use 0-capacity cache instead of null to indicate no caching; this means we don't need to worry about creating & destroying cache objects from JMX
    patch by jbellis; reviewed by goffinet for CASSANDRA-708
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@902914 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableAccessor.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d7132069c3f8cbea3b8cef187abce10059677f8
Author: Laine Jaakko Olavi <jaakko@apache.org>
Date:   Mon Jan 25 09:38:49 2010 +0000

    fixed broken test. CASSANDRA-644
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@902750 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 6065d714a1fa775547dd04ab3c0fdcfdd1354755
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 22 01:14:02 2010 +0000

    invalidate cache after compaction so we read what's in the new sstable instead of the cache
    patch by jbellis; reviewed by goffinet for CASSANDRA-719
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@901956 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CompactionsPurgeTest.java  | 24 ++++++++++++----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 001b80b803fd9d88fa262642745b7af96bd6bde2
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Thu Jan 21 23:10:23 2010 +0000

    merging from 0.5 branch
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@901915 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootstrapTest.java | 18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 5b522404d6fa7a6517d114c2de35ce1119f84e8a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 20 23:38:20 2010 +0000

    convert gossip to use tcp.  this finishes the removal of nio
    patch by jbellis; reviewed by Brandon Williams for CASSANDRA-705
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@901437 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/net/NetPackageAccessor.java   | 29 ---------
 .../service/StorageServiceClientTest.java          | 47 +++++++++++++++
 .../service/StorageServiceServerTest.java          | 52 +++++++++++++++++
 .../cassandra/service/StorageServiceTest.java      | 68 ----------------------
 4 files changed, 99 insertions(+), 97 deletions(-)

commit 2126f608ed6497d05b97d27cf2862ec2cd4ec54e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jan 20 23:36:32 2010 +0000

    make shutdown non-reentrant and make MS a true singleton
    patch by jbellis; tested by Brandon Williams for CASSANDRA-705
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@901432 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/tools/SSTableExportTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit ea2eded3b84826a6317eeb561f50b89b89d5d2e8
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Jan 20 13:57:49 2010 +0000

    remove get_key_rang. Patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-710
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@901207 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java      | 11 +++++++----
 test/unit/org/apache/cassandra/db/OneCompactionTest.java    |  6 +++---
 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java |  4 +++-
 test/unit/org/apache/cassandra/io/StreamingTest.java        |  6 +++---
 4 files changed, 16 insertions(+), 11 deletions(-)

commit 3e06414b61dbfdfd8a05a80d4c591dff18ff5d5f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jan 19 21:23:08 2010 +0000

    expose failing test by moving it where other tests are not covering it up somehow.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@900964 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/CompactionsPurgeTest.java  | 134 +++++++++++++++++++++
 .../org/apache/cassandra/db/CompactionsTest.java   |  91 --------------
 2 files changed, 134 insertions(+), 91 deletions(-)

commit a2e2c03435d453306446d19c1000a95089fd8d22
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 15 19:54:58 2010 +0000

    replace instance() accessors with public final fields.  patch by Jeff Hodges; reviewed by Gary Dusbabek and jbellis for CASSANDRA-700
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@899791 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java     |  8 ++++----
 test/unit/org/apache/cassandra/io/StreamingTest.java         |  2 +-
 .../org/apache/cassandra/service/AntiEntropyServiceTest.java | 10 +++++-----
 test/unit/org/apache/cassandra/service/MoveTest.java         | 12 ++++++------
 .../org/apache/cassandra/service/StorageServiceTest.java     | 10 +++++-----
 5 files changed, 21 insertions(+), 21 deletions(-)

commit 820390faf1491004edcd9dcc1706faaa647e18da
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jan 15 19:36:11 2010 +0000

    add bin/sstablekeys, listing just the keys from an sstable (actually, from its index file), one per line.
    patch by Brandon Williams and jbellis for CASSANDRA-679
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@899781 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/tools/SSTableExportTest.java  | 38 ++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit e8fa8651d4ceaa0f4d5f0e83bc99f91f457cf038
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jan 14 03:18:34 2010 +0000

    merge from 0.5 branch
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@899042 13f79535-47bb-0310-9956-ffa450edef68

 .../DebuggableThreadPoolExecutorTest.java          | 61 ++++++++++++++++++++++
 1 file changed, 61 insertions(+)

commit a6cd2727d02a88a10c910b4b62267aba82367efd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jan 11 20:14:53 2010 +0000

    inline IStage.executorService, removing the useless Stage wrappers
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@898049 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 6b5d8bf8028c04db5d167543d006da901eb01663
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jan 11 19:59:58 2010 +0000

    centralize stage creation in StageManager and standardize stage naming
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-684
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@898035 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d6bdce610d2cdf7d319279c7f2b31f91faa4a4d7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jan 7 02:56:16 2010 +0000

    store data information for any index entries spanning a mmap segment boundary when reading the index (with a BufferedRAF) so we don't have to deal with that at read time.
    patch by jbellis; tested by Brandon Williams for CASSANDRA-669
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@896741 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableAccessor.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dcaf84e356d1538092c1cc9b68034a55bc1eba4f
Author: Gary Dusbabek <gdusbabek@apache.org>
Date:   Wed Jan 6 13:59:30 2010 +0000

    Remove unused partitioner member from ReplicationStrategy classes.  Patch by gdusbabek, reviewed by jbellis.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@896447 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/locator/RackUnawareStrategyTest.java    |  8 +++-----
 test/unit/org/apache/cassandra/service/MoveTest.java         | 12 ++++++------
 2 files changed, 9 insertions(+), 11 deletions(-)

commit 01c02cca68720120c620fbef704593975ed41789
Author: Eric Evans <eevans@apache.org>
Date:   Tue Jan 5 20:34:37 2010 +0000

    cleanup test and contrib breakage from thrift upgrade
    
    Patch by eevans for CASSANDRA-547
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@896210 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/client/TestRingCache.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit b2c2a6031a8e686092801b12f649b498623b667c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 31 21:32:13 2009 +0000

    productize mmap approach: handle files > 2GB by chunking w/ fallback to BRAF
    when a row crosses chunk boundaries (you don't want to have to check for crossing
    boundary in each read() call, or you'll almost certainly waste more time than
    the BRAF approach); add retrying-delete to wait for mmapped files to be unmapped
    by finalizer after compaction
    
    patch by jbellis; reviewed by Brandon Williams and goffinet for CASSANDRA-408
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@894944 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java   | 5 +++--
 test/unit/org/apache/cassandra/io/SSTableTest.java | 4 ++--
 2 files changed, 5 insertions(+), 4 deletions(-)

commit c8def03073e7098faa9a4a5de4efa8958af4416e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 29 23:40:44 2009 +0000

    extend cleanuphelper in more places, and make cleanuphelper stricter about cleaning out old data.  fixes test heisenbugs.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@894517 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  | 42 ++++++++--------------
 .../org/apache/cassandra/db/OneCompactionTest.java |  3 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |  3 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  3 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  3 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  3 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  3 +-
 .../apache/cassandra/db/RemoveSuperColumnTest.java |  3 +-
 .../cassandra/service/AntiEntropyServiceTest.java  | 22 +++++-------
 9 files changed, 37 insertions(+), 48 deletions(-)

commit 6b1e0a42a9cc6404770d3bce71c97aa9eff3c47e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 29 19:25:18 2009 +0000

    convert Runnables containing code involving checked exceptions to WrappedRunnable, which reduces the boilerplate of rethrowing as RuntimeException.  Also replace one-off Runner class from test suite that served a similar purpose.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@894467 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  6 ++--
 test/unit/org/apache/cassandra/db/TableTest.java   | 32 ++++++++++------------
 2 files changed, 18 insertions(+), 20 deletions(-)

commit 3655e91f56a5ef3bfcadc3d0c48601cc78c17d14
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 29 17:33:24 2009 +0000

    move deleteAsync into DeletionService.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@894451 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyTest.java     | 2 +-
 test/unit/org/apache/cassandra/db/ReadMessageTest.java      | 1 +
 test/unit/org/apache/cassandra/tools/SSTableExportTest.java | 1 +
 3 files changed, 3 insertions(+), 1 deletion(-)

commit dc6e4fe55fea6cdbd56da48d4a7d6ee8c297f6cd
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 29 17:14:20 2009 +0000

    move generic classes w/ no cassandra dependencies into cassandra.io.util.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@894447 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyTest.java            | 2 +-
 test/unit/org/apache/cassandra/db/ReadMessageTest.java             | 3 ---
 test/unit/org/apache/cassandra/db/TableTest.java                   | 2 +-
 test/unit/org/apache/cassandra/gms/GossipDigestTest.java           | 2 +-
 test/unit/org/apache/cassandra/io/SSTableTest.java                 | 4 +---
 test/unit/org/apache/cassandra/io/SSTableUtils.java                | 2 +-
 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 2 +-
 test/unit/org/apache/cassandra/tools/SSTableExportTest.java        | 1 -
 test/unit/org/apache/cassandra/utils/FilterTest.java               | 2 +-
 9 files changed, 7 insertions(+), 13 deletions(-)

commit 1cb079400f80b716fbb0ad4448a427ca94c8460c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 29 06:13:04 2009 +0000

    replace DataInputBuffer with ByteArrayInputStream/DataInputStream.  patch by Todd Blose; reviewed by jbellis for CASSANDRA-656
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@894312 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 13 ++++----
 .../org/apache/cassandra/db/ReadMessageTest.java   |  9 +++---
 .../org/apache/cassandra/gms/GossipDigestTest.java |  8 ++---
 .../apache/cassandra/io/DataInputBufferTest.java   | 37 ----------------------
 .../org/apache/cassandra/utils/FilterTest.java     |  8 ++---
 5 files changed, 19 insertions(+), 56 deletions(-)

commit b2b057ffde14e4bb15a8d13f87cdca2d22c1a3b2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Dec 23 19:20:16 2009 +0000

    make estimation of pendingtasks for CompactionManager sane.  patch by jbellis; reviewed by eevans for CASSANDRA-599
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@893605 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 453c8171d9b3472c40d946254d6a6fe1ae59fe87
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Dec 23 19:18:05 2009 +0000

    clean up compactions api and move into CompactionManager.  patch by jbellis; reviewed by eevans for CASSANDRA-599
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@893600 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java |  5 +----
 test/unit/org/apache/cassandra/db/CompactionsTest.java | 18 +++++++++++-------
 .../org/apache/cassandra/db/OneCompactionTest.java     |  5 +++--
 .../org/apache/cassandra/db/RecoveryManager2Test.java  |  2 +-
 .../org/apache/cassandra/db/RemoveSuperColumnTest.java |  6 ++----
 test/unit/org/apache/cassandra/db/TableTest.java       |  2 +-
 6 files changed, 19 insertions(+), 19 deletions(-)

commit 720c49a277e8d609b271cf94c3b75dee46f9da16
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Dec 21 18:50:09 2009 +0000

    merge from 0.5
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@892926 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java |   2 +-
 .../org/apache/cassandra/service/MoveTest.java     | 516 +++++++++++++++++++++
 2 files changed, 517 insertions(+), 1 deletion(-)

commit c1f2757da648068cff4e46fe9cb1456739b85faf
Author: Chris Goffinet <goffinet@apache.org>
Date:   Sat Dec 19 08:03:40 2009 +0000

    Repair should never reuse a tree. AEService currently 'caches' MerkleTrees that have been generated by the local node, and can respond to a request for a tree with a cached version. patch by stuhood; reviewed by junaro for CASSNADRA-640
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@892450 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/config/DatabaseDescriptorTest.java   | 10 +++
 .../cassandra/service/AntiEntropyServiceTest.java  | 77 ++++++++++++++--------
 2 files changed, 59 insertions(+), 28 deletions(-)

commit d9663f5eb6aed9b61b1d92200d5d0646c6a20c3e
Author: Eric Evans <eevans@apache.org>
Date:   Fri Dec 18 19:01:00 2009 +0000

    merge with 0.5 branch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@892349 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/tools/SSTableImportTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c10813c98b9dafc269e2dfb7ae38671ea3898f64
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Dec 16 21:28:55 2009 +0000

    merge from 0.5
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@891430 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java      |  6 ++++--
 .../org/apache/cassandra/locator/RackUnawareStrategyTest.java | 11 +++++++----
 2 files changed, 11 insertions(+), 6 deletions(-)

commit c52be53daf74ebe74aec9d9a4658b1b686e3fda3
Author: Jun Rao <junrao@apache.org>
Date:   Tue Dec 15 22:30:06 2009 +0000

    use xor for hash in inner nodes in Merkle tree; patched by Stu Hood, reviewed by junrao for CASSANDRA-629
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@891040 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/utils/MerkleTreeTest.java | 38 +++++++++++-----------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit 9572076a8e97774156c1089a6f959eb5b11b7980
Author: Eric Evans <eevans@apache.org>
Date:   Mon Dec 14 21:10:43 2009 +0000

    unittest that demonstrates bug
    
    Patch by Ramzi Rabah; reviewed by eevans for CASSANDRA-618
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@890478 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/tools/SSTableExportTest.java  | 39 ++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit da65fdaf5f9a07e0ee6c0a0ec946c9778eba6da8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sun Dec 13 04:16:59 2009 +0000

    clean up CompactionManager.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@890022 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java             | 7 +++----
 test/unit/org/apache/cassandra/db/OneCompactionTest.java           | 2 +-
 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java        | 3 +--
 test/unit/org/apache/cassandra/db/RemoveSuperColumnTest.java       | 4 ++--
 test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java | 5 +----
 5 files changed, 8 insertions(+), 13 deletions(-)

commit 5bcdbcfa271643579d75f5d7a4328df93064ead9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 11 17:11:40 2009 +0000

    r/m unused RecoveryManager instance (class is entirely static).  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@889705 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RecoveryManagerTest.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b4cae0372064886989d0e6446d4c70598aa1dcfc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 11 04:12:48 2009 +0000

    merge from 0.5 branch
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@889499 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/ReadResponseResolverTest.java | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 3e574a962c43af699eccd968b1488f724d78d5a0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 8 18:45:55 2009 +0000

    only GC when compacting all sstables, to avoid situations where the data a tombstone is intended to supress is in an sstable that is not part of the compaction set.
    patch by jbellis; reviewed by Ramzi Rabah for CASSANDRA-604
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@888512 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 8417db8fa9b75ed27dcfa1e56263d92ab97c80f0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Dec 8 06:19:30 2009 +0000

    compute major-ness of compaction in the compaction method, rather than relying on caller to do it correctly (as some tests were not).  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@888279 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 71084e306eed1415b6f83bd5d05f4d7fc2d69949
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Dec 7 22:51:46 2009 +0000

    implement streaming repairs; repair-via-rangecommand TODO
    patch by Stu Hood; reviewed by jbellis for CASSANDRA-520
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@888171 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 10 +--
 .../unit/org/apache/cassandra/io/SSTableUtils.java | 77 +++++++++++++++++++---
 .../org/apache/cassandra/io/StreamingTest.java     |  2 +-
 .../CompactEndPointSerializationHelperTest.java    | 42 ------------
 .../cassandra/service/AntiEntropyServiceTest.java  | 17 ++---
 .../org/apache/cassandra/utils/MerkleTreeTest.java |  2 +-
 6 files changed, 80 insertions(+), 70 deletions(-)

commit b1810fd428e90a85705aedb82bdf002c9e7a27ab
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Dec 7 22:51:05 2009 +0000

    cleanup Streaming and rename transferOneTable -> transferSSTables.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-520
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@888170 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/io/StreamingTest.java     | 64 ++++++++++++++++++++++
 1 file changed, 64 insertions(+)

commit 4a6b002090bed02d91465821fe00fa61fcba26c7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Dec 7 21:20:25 2009 +0000

    support wrapping ranges in IPartitioner.midpoint.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-519
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@888140 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java |  4 +-
 .../CollatingOrderPreservingPartitionerTest.java   | 36 +++++--------
 .../dht/OrderPreservingPartitionerTest.java        | 22 ++++----
 .../apache/cassandra/dht/PartitionerTestCase.java  | 62 +++++++++++++---------
 .../cassandra/dht/RandomPartitionerTest.java       | 12 ++---
 5 files changed, 66 insertions(+), 70 deletions(-)

commit ac398bd0a755cbd9ba34a99a99351214784f9018
Author: Jun Rao <junrao@apache.org>
Date:   Sat Dec 5 18:47:55 2009 +0000

    add AntiEntropyService; patched by Stu Hood, reviewed by junrao for CASSANDRA-193
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@887575 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CompactionsTest.java   |  57 ++++-
 .../cassandra/service/AntiEntropyServiceTest.java  | 238 +++++++++++++++++++++
 2 files changed, 284 insertions(+), 11 deletions(-)

commit f62d4ec14c1d1f9cd0571f664e2fe27335d473c1
Author: Jun Rao <junrao@apache.org>
Date:   Sat Dec 5 18:46:52 2009 +0000

    preparation for AntiEntropyService; patched by Stu Hood, reviewed by junrao for CASSANDRA-193
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@887574 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 18 +++---
 .../cassandra/db/ColumnFamilyStoreUtils.java       | 48 ++++++++++++++++
 test/unit/org/apache/cassandra/io/SSTableTest.java | 65 +++++++++++++++-------
 .../unit/org/apache/cassandra/io/SSTableUtils.java | 46 +++++++++++++++
 4 files changed, 145 insertions(+), 32 deletions(-)

commit c2709044d377ac880edf74748a1ad0688ee1135f
Author: Jun Rao <junrao@apache.org>
Date:   Sat Dec 5 18:44:25 2009 +0000

    add Merkle tree; patched by Stu Hood, reviewed by junrao for CASSANDRA-193
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@887573 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/utils/MerkleTreeTest.java | 592 +++++++++++++++++++++
 1 file changed, 592 insertions(+)

commit e202f1f4e0ea7ced94278f4bc9666ea73b67e7d5
Author: Jun Rao <junrao@apache.org>
Date:   Sat Dec 5 18:42:26 2009 +0000

    preparation for Merkle tree; patched by Stu Hood, reviewed by junrao for CASSANDRA-193
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@887572 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/RangeTest.java | 84 ++++++++++++++++++++++-
 1 file changed, 82 insertions(+), 2 deletions(-)

commit c9bbba13f5aacbd874e7d8731bdfc389c834f708
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Dec 5 00:30:22 2009 +0000

    move resolve, diff out of Row and into CF static methods
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-568
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@887467 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RowTest.java     |  5 +--
 .../service/ReadResponseResolverTest.java          | 50 ++++++++--------------
 2 files changed, 18 insertions(+), 37 deletions(-)

commit 40ed496b910c3e44cfd529fffdf6b4a2395fc346
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Dec 4 20:19:28 2009 +0000

    zero-pad single hex digits in bytesToHex.  patch by Stu Hood; reviewed by gdusbabek for CASSANDRA-602
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@887342 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/FBUtilitiesTest.java | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 83cce240bf61efe41c2074b8da4958794f15b123
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Dec 3 19:17:03 2009 +0000

    Fix not returning live subcolumns of deleted supercolumns
    patch by jbellis; reviewed by junrao for CASSANDRA-583
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@886886 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RemoveSuperColumnTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 360d9b6a9807e76f8d9ff71b388008127f029683
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Dec 2 18:54:07 2009 +0000

    improve testing of StorageService init, and fix shutdown of messagingservice.
    patch by gdusbabek; reviewed by jbellis for CASSANDRA-535
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@886254 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  | 36 +++++++++++-
 .../apache/cassandra/net/NetPackageAccessor.java   | 29 +++++++++
 .../cassandra/service/StorageServiceTest.java      | 68 ++++++++++++++++++++++
 3 files changed, 131 insertions(+), 2 deletions(-)

commit e65ce8dcd7c5d212c5325c57d5fae39c6bbca502
Author: Eric Evans <eevans@apache.org>
Date:   Mon Nov 30 03:25:15 2009 +0000

    JSON importer/exporter tests
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@885325 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           |   9 ++
 .../org/apache/cassandra/io/SSTableAccessor.java   |  35 ++++++
 .../apache/cassandra/tools/SSTableExportTest.java  | 121 +++++++++++++++++++++
 .../apache/cassandra/tools/SSTableImportTest.java  |  67 ++++++++++++
 4 files changed, 232 insertions(+)

commit 95cbb3461ad9fc66969f9f8338b686b0f50d9a9a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 25 23:16:58 2009 +0000

    allow serializing null CF; add get_range_slice test exercising this
    patch by jbellis; tested by Dan Di Spaltro for CASSANDRA-578
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@884333 13f79535-47bb-0310-9956-ffa450edef68

 .../service/ReadResponseResolverTest.java          | 90 ++++++++++++++++++++++
 1 file changed, 90 insertions(+)

commit 994487d755250fb02125b28075aea3c3fb2685d7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 25 23:16:48 2009 +0000

    make Row contain a single, final CF reference
    patch by jbellis; tested by Dan Di Spaltro for CASSANDRA-578
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@884332 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/db/ReadMessageTest.java |  3 +--
 test/unit/org/apache/cassandra/db/RowTest.java        | 19 ++++++-------------
 test/unit/org/apache/cassandra/db/TableTest.java      |  7 -------
 3 files changed, 7 insertions(+), 22 deletions(-)

commit 7c4166444bdef1bd1d56f198e4a448f14f1bcab8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 25 23:16:34 2009 +0000

    r/m unused Row code, and move table variable into callers rather than serializing it redundantly
    patch by jbellis; tested by Dan Di Spaltro for CASSANDRA-578
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@884331 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RowTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e972ec8dfebe1694abf6a5b7415381b0b78b9665
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 17 17:19:40 2009 +0000

    add license headers.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@881384 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/dht/RandomPartitionerTest.java | 21 +++++++++++++++++++++
 .../net/CompactEndPointSerializationHelperTest.java | 21 +++++++++++++++++++++
 2 files changed, 42 insertions(+)

commit 183f51dc2167a3ade932413505712543a690315e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Nov 12 17:03:52 2009 +0000

    r/m unused bootstrap directory and ensure streaming files live to be streamed
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-538
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@835446 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java | 1 -
 1 file changed, 1 deletion(-)

commit d0db57ad10e09564e58753c789f01c006c0f2168
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 11 16:11:44 2009 +0000

    move more generic streaming code into Streaming.java
    patch by jbellis; reviewed by Jaakko Laine for CASSANDRA-435
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@834939 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootstrapTest.java | 18 ++++++------------
 1 file changed, 6 insertions(+), 12 deletions(-)

commit 93c5afa5c98de25aecc9a13ff9a9ec833785c184
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 11 15:48:45 2009 +0000

    r/m unused storageport from ReplicationStrategies.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@834920 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/locator/RackUnawareStrategyTest.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b294cd555a99b40756d5ce5a5aac96dcca890c19
Author: Eric Evans <eevans@apache.org>
Date:   Mon Nov 9 19:32:09 2009 +0000

    consolodate BasicUtilities and FBUtilities
    
    Patch by Gary Dusbabek; reviewed by eevans for CASSANDRA-516
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@834185 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/utils/FBUtilitiesTest.java   | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 5d447035ba19bd2a02fd6afe0acd2271aa3f4ce4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Nov 6 22:17:26 2009 +0000

    containing isBootstrapping and BootstrapTokenAddress information in TokenMetadata is the wrong level of abstraction.  Switch to pendingRanges instead.
    patch by jbellis and Jaakko Laine for CASSANDRA-525
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@833579 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java          | 3 +--
 .../org/apache/cassandra/locator/RackUnawareStrategyTest.java     | 8 +++++---
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 538dc69515f517303c6ba19e6fdab35f8a25b2e4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 4 17:07:49 2009 +0000

    return clones of supercolumns from memtable so caller can't accidentally mutate them, fixing the failing test.
    
    convert removeDeleted on SC to remove-oriented instead of clone-then-add-back to make this hurt performance less.
    
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-510
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@832798 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RemoveSuperColumnTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f6b71a507dc203360f0b122e5f470d27400ce2b3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Nov 4 17:07:37 2009 +0000

    add failing test for removing a single subcolumn.
    patch by jbellis; reviewed by gdusbabek for CASSANDRA-510
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@832796 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RemoveSuperColumnTest.java | 35 ++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 57f07255603b6299ac609d9b68c34dc0e0bde30b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 3 03:20:43 2009 +0000

    optimize away unnecessary seeks during range scan
    patch by Gary Dusbabek; reviewed by jbellis for CASSANDRA-350
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@832287 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 62 ++++++++++++++++++++++++
 1 file changed, 62 insertions(+)

commit a08630fce0e430800d4beb0235ab199301be4f71
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 3 03:12:16 2009 +0000

    prefer bootstrapping into ring sections that are not already being bootstrapped into
    patch by jbellis; reviewed by Vijay Parthasarathy for CASSANDRA-517
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@832285 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java | 51 ++++++++++++++++++----
 1 file changed, 42 insertions(+), 9 deletions(-)

commit e946c6380637b10dc8ec9e257fbfdf47b175dfd3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 3 02:27:43 2009 +0000

    refactor getDefaultToken into default checking + getRandomToken.  Decorate OPP keys so we don't have to special case IndexedDKs for getSplits.
    patch by jbellis and Vijay Parthasarathy for CASSANDRA-513
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@832272 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3678daa0be6e88821b3a61e20c78493d6f119449
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 3 02:24:05 2009 +0000

    brute-force replacement of throwing maps around with encapsulated TokenMetadata
    patch by jbellis for CASSANDRA-522
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@832267 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 242fa0231bd74fe09454e67c10a4af651dd8c4e2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Nov 3 02:23:53 2009 +0000

    CASSANDRA-522
    convert replication strategy methods to multimap
    patch by jbellis for CASSANDRA-522
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@832266 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 128cb03a5f3eb77b6015840f87ac6dc8bf01e0d9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 27 14:53:18 2009 +0000

    make BootStrapperTest use of TokenMetadata match actual BootStrapper use better.  patch by jbellis for CASSANDRA-502
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@830218 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 4856460f0e927761d8b321092c877092bce41569
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 27 14:40:29 2009 +0000

    refactor bootstrap to only concern itself with bootstrapping the local node, which greatly simplifies things
    patch by jbellis; reviewed by goffinet for CASSANDRA-483
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@830214 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/dht/BootStrapperTest.java | 88 +++++++++++++---------
 1 file changed, 52 insertions(+), 36 deletions(-)

commit 0287d0dd8749d7bbb0e8474b3b5d42f7a77b303a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 27 14:40:18 2009 +0000

    fix the bootstrap interaction with gossip; there were two main problems:
    1) token and bootstrap state are not guaranteed to be gossiped together; since we only updated TMD.bootstrapNodes on an update of the token, this means we could actually miss the bootstrap notice
    2) deletions of state are not actually supported by Gossiper; there is no concept of that at the protocol level. so if we delete state locally it will never get gossiped. Instead, we have a MODE that is either MOVING or NORMAL, corresponding to bootstrap & normal operation.
    
    patch by jbellis; reviewed by goffinet for CASSANDRA-483
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@830212 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/locator/RackUnawareStrategyTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7518f7ce9f012cf5a5bbcf976a1590a1b5531db0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 22 15:41:11 2009 +0000

    all rows go through deserialize/removeDeleted so we can GC tombstones.
    patch by jbellis; reviewed by junrao for CASSANDRA-507
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@828755 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CompactionsTest.java   | 53 +++++++++++++++++++---
 1 file changed, 46 insertions(+), 7 deletions(-)

commit 26971fb3ffe3036a0d552a72f65a3c9f13a4153e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 22 14:58:53 2009 +0000

    CLHM, fixed version
    patch by jbellis; reviewed by goffinet for CASSANDRA-423
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@828734 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 924c7e5fcb40c9c5afc789db9fe6c6f42ef706b8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 21 19:18:43 2009 +0000

    rename "readstorage" endpoints to "natural," "writestorage" to "write" and "hintedstorage" to "hinted"
    make ReplicationStrategy deal with List<InetAddress> instead of InetAddress[] -- we use the former both in RS and externally, so forcing RS to convert to [] and external users to convert back to List is silly
    patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@828148 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java | 12 +++++----
 .../org/apache/cassandra/dht/BootStrapperTest.java |  3 ++-
 .../cassandra/locator/RackUnawareStrategyTest.java | 29 +++++++++++-----------
 3 files changed, 23 insertions(+), 21 deletions(-)

commit b767bf7e7d94fb8f81a784a97662a74816ec6754
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 21 18:26:02 2009 +0000

    convert EndPoint to InetAddress (removes MembershipCleaner, the code to drop a node from the cluster entirely.  we're probably going to want to resurrect that at some point)
    patch by jbellis; reviewed by Brandon Williams for CASSANDRA-498
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@828130 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java |  7 +++---
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  4 ++--
 .../org/apache/cassandra/dht/BootStrapperTest.java | 20 ++++++++--------
 .../org/apache/cassandra/dht/BootstrapTest.java    |  2 +-
 .../org/apache/cassandra/gms/GossipDigestTest.java |  4 ++--
 .../cassandra/locator/RackUnawareStrategyTest.java | 27 +++++++++++-----------
 .../CompactEndPointSerializationHelperTest.java    |  5 ++--
 7 files changed, 37 insertions(+), 32 deletions(-)

commit 694a6115c7d3e45f2b448b308b10cce10b700442
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 21 18:25:35 2009 +0000

    r/m uses of EndPoint(port) constructor; rename EndPoint methods to make porting easier; r/m gratuitous uses of getHost
    patch by jbellis; reviewed by Brandon Williams for CASSANDRA-498
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@828128 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java   |  4 ++--
 .../net/CompactEndPointSerializationHelperTest.java  | 20 ++++++++++++++++++++
 2 files changed, 22 insertions(+), 2 deletions(-)

commit 7dbbca6698fdd14bae1de4a8a53a44ce21723434
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Oct 21 14:18:18 2009 +0000

    make write targets computable independent of replication strategy (i.e., make getReadStorageEndPoints the only method a Strategy needs to implement).  we do this by computing the token/endpoint -> Range[] map from the read endpoints, then using that to determine if a bootstrapping node needs to receive a write (if the token being written falls in any of its ranges).  Also, make the StorageProxy insert methods aware that bootstrap can entail having extra write targets temporarily, and include those in its consistencylevel calculations.
    patch by jbellis; reviewed by Sandeep Tata for CASSANDRA-497
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@828029 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/locator/RackUnawareStrategyTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b0e6053b85e0f1bf2297c6839f87c0e7b52c1844
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Oct 20 18:41:19 2009 +0000

    add test catching regression; call removeDeleted during compaction.
    patch by jbellis; reviewed by eevans for CASSANDRA-500
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@827761 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CompactionsTest.java   | 43 ++++++++++++++++++++++
 1 file changed, 43 insertions(+)

commit b1c5077f444c219e0c0b4d9d0744d5716be1ead8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Oct 15 22:21:15 2009 +0000

    fix token to cover (left, right] like the rest of Cassandra (and Range.toString).  patch by Stu Hood; reviewed by jbellis for CASSANDRA-495
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@825684 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/RangeTest.java | 25 +++++++++++++++--------
 1 file changed, 16 insertions(+), 9 deletions(-)

commit 074eef97d66b4cc08a793a0a0a68baecd7061881
Author: Eric Evans <eevans@apache.org>
Date:   Wed Oct 14 23:07:44 2009 +0000

    merging with 0.4 branch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@825333 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/utils/FBUtilitiesTest.java    | 36 ++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit 51ec66cccbfc0d7ffbedac930475de5bb5a4b9a6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 9 17:07:14 2009 +0000

    move bootstrap-related code into Bootstrapper
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-477
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@823616 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/BootstrapTest.java     | 94 ----------------------
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 37 +++++++++
 .../org/apache/cassandra/dht/BootstrapTest.java    | 59 ++++++++++++++
 3 files changed, 96 insertions(+), 94 deletions(-)

commit 67ae1ee58928114a11e3d47d20176a8e69e7086b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 2 19:04:54 2009 +0000

    Use DecoratedKey objects in Memtable, SSTableReader/Writer objects.
    patch by johano; reviewed by jbellis for CASSANDRA-446
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@821134 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java   |  3 ++-
 .../CollatingOrderPreservingPartitionerTest.java   |  5 +----
 .../apache/cassandra/dht/PartitionerTestCase.java  | 23 +++++++++++++++-------
 .../cassandra/dht/RandomPartitionerTest.java       | 20 +++++++++++++++++++
 test/unit/org/apache/cassandra/io/SSTableTest.java |  9 +++++----
 5 files changed, 44 insertions(+), 16 deletions(-)

commit 370082fae4899f3cb65862491f8a940d675eee98
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Oct 2 18:40:35 2009 +0000

    fix heisenbug in RecoveryManager2Test where a compaction could add back a new sstable to the "cleared" ColumnFamilyStore
    patch by jbellis; reviewed by junrao for CASSANDRA-463
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@821128 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 15599f78de7c6c270a2d5283d00ce4e9c4694f6d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 30 19:26:57 2009 +0000

    merge from 0.4 branch
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@820408 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyTest.java | 7 -------
 1 file changed, 7 deletions(-)

commit 60839fea8577a135b623c3dcc002351137c7fb45
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 29 03:48:21 2009 +0000

    fix tests
    patch by jbellis for CASSANDRA-459
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@819827 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RecoveryManager2Test.java    | 20 +++++++++++++-------
 1 file changed, 13 insertions(+), 7 deletions(-)

commit e849e977736c8acd8deb73fd80b955b6040adbf3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Sep 26 12:48:55 2009 +0000

    merge from 0.4 branch
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@819123 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 28 ++++++++++++++++++++++
 test/unit/org/apache/cassandra/db/TableTest.java   |  4 ++--
 2 files changed, 30 insertions(+), 2 deletions(-)

commit d309c5dc7723b023ed12eeb6ae331747695c6ee1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Sep 25 04:01:35 2009 +0000

    record gossipped enpoint/token pairs as we see them.  also clean up SystemTable code to avoid unnecessary CF fetches.  patch by Gary Dusbabek and jbellis for CASSANDRA-437
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@818712 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/BootStrapperTest.java | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 1d0cf136f6871730c663db143ada9a9b66034286
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 24 15:32:21 2009 +0000

    remove unused skip argument from anticompaction. change HHM to perform a major compaction instead of anticompaction since that's really what we want there
    patch by jbellis; reviewed by junrao for CASSANDRA-454
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@818517 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/BootstrapTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d293b77bedb0d196065f6b5a93d086923b6a9114
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Sep 18 19:02:49 2009 +0000

    serialize row outside of commitlog executor to improve parallelizability
    patch by jbellis; reviewed by junrao for CASSANDRA-444
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@816745 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RowTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b618106f3cd55a7fb4f2fd2b3aa7da7715cdc034
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 17 21:10:09 2009 +0000

    Replace PriorityQueue mess with a CompactionIterator that efficiently yields compacted Rows from a set of sstables by feeding CollationIterator into a ReducingIterator transform.  ("Efficiently" means we never deserialize data until it is needed, so the number of sstables that can be compacted at once is  virtually unlimited, and if only one sstable contains a given key that row data will be copied over without an intermediate de/serialize step.) This is a very natural fit for the compaction algorithm and almost entirely gets rid of duplicated code between doFileCompaction and doAntiCompaction.
    patch by jbellis; reviewed by goffinet for CASSANDRA-436
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@816382 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyTest.java | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit bb5a2700d7189de187e732d1fcc9ea65e3b95ae6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 17 21:09:52 2009 +0000

    minor fixes
    patch by jbellis; reviewed by goffinet for CASSANDRA-436
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@816379 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0c84342d3ab4dec0c528c814eced4f9cad3affcc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 15 21:30:26 2009 +0000

    rename MinorCompactionManager -> CompactionManager.  patch by jbellis for CASSANDRA-447
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@815498 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java       | 2 +-
 test/unit/org/apache/cassandra/db/OneCompactionTest.java     | 2 +-
 test/unit/org/apache/cassandra/db/RemoveSuperColumnTest.java | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 39982f3649705623edb8593c7b6cb5665c156f48
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Sep 14 18:04:46 2009 +0000

    make anticompaction return a list of the split-out sstables, instead of a mostly-useless boolean
    patch by jbellis; reviewed by goffinet for CASSANDRA-431
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@814756 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/BootstrapTest.java | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit bee816c68a81b0812959c5f58e393e0b167a287f
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Sep 10 18:48:35 2009 +0000

    Replace sstableLock with SSTableTracker, which performs updates to the sstable list atomically
    without readers ever having to block.  (Readers will always either see the old list, or the new.)
    We avoid a race on the delete of the old SSTable files on-disk by using a ReferenceQueue:
    when the last reference is gone, a PhantomReference is added to the queue and can do cleanup.
    In case Cassandra is killed between compaction and this cleanup, a -Compacted empty file
    is written to disk; Cassandra removes any files thus tagged on startup.
    
    patch by jbellis; reviewed by Chris Goffinet for CASSANDRA-414
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@813544 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java | 4 ----
 1 file changed, 4 deletions(-)

commit 40c154ab4b3d8f31eedd47ebd6005db70564a3f6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Sep 8 18:59:28 2009 +0000

    make compaction code use SSTableReader objects.  r/m SSTableReader.get static method
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-424
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@812641 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 53 ----------------------
 1 file changed, 53 deletions(-)

commit bb2c187d2020fa636ae8dc240d6e4a047001d913
Author: Eric Evans <eevans@apache.org>
Date:   Mon Sep 7 19:19:00 2009 +0000

    merged with cassandra-0.4 branch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@812262 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java | 162 ++++++++++-----------
 1 file changed, 81 insertions(+), 81 deletions(-)

commit ab392a6ee7db31fe7a4cf8093e7308057cd47493
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 2 15:04:16 2009 +0000

    remove buggy concurrentlinkedhashmap library and lru cache.  too late in 0.4 to try to debug the library -- will revisit for 0.5.  patch by jbellis; reviewed by Chris Goffinet for CASSANDRA-405
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@810540 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fe28c474066929a04f3091e699d19ccb14eb3e98
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Sep 2 02:02:30 2009 +0000

    merge from 0.4 branch
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@810335 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java       | 3 +--
 test/unit/org/apache/cassandra/db/OneCompactionTest.java     | 3 +--
 test/unit/org/apache/cassandra/db/RemoveSuperColumnTest.java | 4 ++--
 test/unit/org/apache/cassandra/db/TableTest.java             | 2 +-
 4 files changed, 5 insertions(+), 7 deletions(-)

commit eb83251bda8caedd69d07f1f7aa8857a27f87fe9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 31 13:35:46 2009 +0000

    r/m unnecessary IReplicationStrategy interface.  r/m LoadVerbHandler and unused endpoint-related code.  rename AbstractStrategy -> AbstractReplicationStrategy and getEndpoint methods.
    patch by jbellis; reviewed by Sandeep Tata for CASSANDRA-393
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@809586 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/locator/RackUnawareStrategyTest.java    | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 29515c11d799fa36706935a9352d293612a5d815
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 28 03:05:49 2009 +0000

    call doAntiCompaction in the tests the same way we do in the actual code -- by submitting it to the MinorCompactionManager so it serializes with other compaction tasks.  patch by Sandeep Tata; reviewed by jbellis for CASSANDRA-395
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@808742 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/BootstrapTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3427b4b7d26ce52d37deec3837277e8e7972128b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 27 20:07:16 2009 +0000

    add apache license boilerplate
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@808590 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/BytesTypeTest.java  | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 866b06ec3d545092db1ec0b16c9534939b186ece
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 27 03:19:40 2009 +0000

    better fix for COPP.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@808271 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/BootstrapTest.java | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit eb6d11d54932ea929e983d3f986314e1e3ef0d33
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 27 03:13:50 2009 +0000

    fix unit test.  patch by jbellis for CASSANDRA-242
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@808268 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/BootstrapTest.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 021ab75a5f042b8c6f6dd590abc674baf267388d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 26 22:20:23 2009 +0000

    add midpoint method to IPartitioner.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-242
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@808206 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/dht/PartitionerTestCase.java  | 32 ++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit f8fa6d243111c41fe5c32afa49973892e4b136fc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 26 22:20:13 2009 +0000

    refactors COPP to use BytesToken.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-242
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@808205 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/BootstrapTest.java     |  1 -
 .../apache/cassandra/db/marshal/BytesTypeTest.java | 21 +++++++
 .../CollatingOrderPreservingPartitionerTest.java   | 65 +++++++++++++++++++++
 .../dht/OrderPreservingPartitionerTest.java        | 46 +++++++++++++++
 .../apache/cassandra/dht/PartitionerTestCase.java  | 66 ++++++++++++++++++++++
 5 files changed, 198 insertions(+), 1 deletion(-)

commit 847f3b029329729c72eb4a72f19d5efc1ca29585
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 26 19:04:07 2009 +0000

    1. Switch bootstrapNodes in TokenMetadata to Map<Token,EndPoint> so RackUnawareStrategy can use it.
    2. Fix AbstractStrategy and RackUnawareStrategy to incorporate the bootstrapping nodes for
    getHintedStorageEndPoints through StorageService.getNStorageEndPointMap (now used by insert and
    insertBlocking after 383)
    3. Add unit test fot RackUnawareStrategy to test if bootstrapping nodes are being returned correctly.
    
    patch by Sandeep Tata; reviewed by jbellis for CASSANDRA-375
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@808161 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/locator/RackUnawareStrategyTest.java | 53 +++++++++++++++++++++-
 1 file changed, 51 insertions(+), 2 deletions(-)

commit c4992f48ce9c26ce4fd028240447b4cbe85ecf26
Author: Jun Rao <junrao@apache.org>
Date:   Mon Aug 24 23:39:27 2009 +0000

    Expose ring map to client for more direct access; patch by junrao; reviewed by jbellis for CASSANDRA-197
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@807431 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/client/TestRingCache.java | 81 ++++++++++++++++++++++
 1 file changed, 81 insertions(+)

commit e959b2c7f6d78b51492c5e7b19beb30c36e75987
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Aug 20 01:03:31 2009 +0000

    rename getInitialToken to getToken; it doesn't actually have anything to do w/ initial or default tokens.  log token on startup.
    patch by jbellis; reviewed by Sammy Yu for CASSANDRA-364
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@806016 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/SystemTableTest.java              | 2 +-
 test/unit/org/apache/cassandra/locator/RackUnawareStrategyTest.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0c5cd149a38e927021f53ba0c109f1da15cb3546
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Aug 19 20:51:06 2009 +0000

    Add "bootstrap mode" to node startup.  This causes the node to tell the
    nodes that have data it needs to send it the data, and not otherwise
    participate in reads or writes until the bootstrap is complete.
    patch by Sandeep Tata; reviewed by jbellis for CASSANDRA-195
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@805968 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/BootstrapTest.java     |  6 +-
 .../org/apache/cassandra/dht/BootStrapperTest.java | 81 ++++++++++++++++++++++
 2 files changed, 84 insertions(+), 3 deletions(-)

commit eb886e99995713f3ed563142107e765f880a4fcc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 14 21:00:18 2009 +0000

    make StorageTable.StorageMetadata a singleton, so multiple initMetadatas are safe.
    patch by Bill de hOra and jbellis; reviewed by Michael Greene for CASSANDRA-358
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@804372 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/SystemTableTest.java | 16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 1aeca2b6257b0ad6680080b1756edf7ee9acf8c8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 14 16:52:55 2009 +0000

    add license headers to new-since-0.3 files.
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-365
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@804294 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java            | 21 +++++++++++++++++++++
 .../org/apache/cassandra/db/MultitableTest.java     | 21 +++++++++++++++++++++
 .../apache/cassandra/db/RecoveryManager2Test.java   | 21 +++++++++++++++++++++
 .../apache/cassandra/db/marshal/AsciiTypeTest.java  | 21 +++++++++++++++++++++
 .../apache/cassandra/db/marshal/UTF8TypeTest.java   | 21 +++++++++++++++++++++
 .../org/apache/cassandra/gms/ArrivalWindowTest.java | 21 +++++++++++++++++++++
 .../org/apache/cassandra/gms/GossipDigestTest.java  | 21 +++++++++++++++++++++
 .../cassandra/utils/BoundedStatsDequeTest.java      | 21 +++++++++++++++++++++
 8 files changed, 168 insertions(+)

commit 6b7a1c300f0d59ad689767307cffd0e9ef3b8523
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 10 23:17:08 2009 +0000

    switch "!isAscending" for "reversed."
    patch by jbellis, Carl Bystrom, and Bill de hOra. reviewed by Eric Evans for CASSANDRA-311
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802953 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java   | 46 +++++++++++-----------
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  6 +--
 2 files changed, 26 insertions(+), 26 deletions(-)

commit a7f0fb64ae984f323b53f49c17837656670ac7d9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 7 23:30:32 2009 +0000

    r/m unwanted file.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802268 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/StorageServiceTest.java      | 56 ----------------------
 1 file changed, 56 deletions(-)

commit d748648b235bd7dc95bfb2672ee156e0eb132bd8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 7 23:29:50 2009 +0000

    fix broken casts.  patch by Bill de hOra; reviewed by jbellis for CASSANDRA-338
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802267 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/service/StorageServiceTest.java      | 56 ++++++++++++++++++++++
 1 file changed, 56 insertions(+)

commit 8a9c25ae0e849409a752b4d6eaf5a9bfbb3b3ca0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 7 20:48:45 2009 +0000

     - switch from trying to get the next endpoint by increasing offset to asking tokenMetadata for "the next
    one." this will always be correct where the offset approach will not (usually you want offset to just be 1,
    but sometimes you have to keep increasing it if no results are found but the range is still not finished)
     - merge results differently when the endpoint responsible for where the ring wraps is involved, since
    that endpoint can hold keys from both the beginning and end of the range.
    
    patch by jbellis; tested by Mark Robson for CASSANDRA-348
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802180 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/locator/RackUnawareStrategyTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fba03ce69122e7a1bd6f2d5709eaa06c1ada0bc1
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 7 17:35:25 2009 +0000

    move getKeyRange to CFS, where it encapsulates better.
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-345
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802098 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java      | 4 ++--
 test/unit/org/apache/cassandra/db/OneCompactionTest.java    | 4 ++--
 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit d221a417199968c8eda9096a061c35b5adec5784
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 7 16:24:54 2009 +0000

    tests + fix for bsearch returning not-found-to-the-right
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-351
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802078 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 00190bf20e8c290adbd4d7ab044be01a13a40775
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 7 16:24:41 2009 +0000

    inline excessively abstracted reTest setup
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-351
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802077 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 155 +++++++++--------------
 1 file changed, 63 insertions(+), 92 deletions(-)

commit 1dd5f60422dd53072097ec8f0010c00e4cea9536
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 7 16:24:31 2009 +0000

    compact slicelarge row to ensure we are in fact testing with more than the minimum index count
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-351
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802076 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 38 +++++++++++++++++++-----
 1 file changed, 31 insertions(+), 7 deletions(-)

commit a9c6a1e7d6a71f11511f3f0efbd8bc64c2fdd011
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 7 16:24:04 2009 +0000

    always write at least one index (with first and last column of the range) for the columns in row.  this vastly simplifies column reading code and makes indexing bugs much more obvious (since there is only one read path each for names / slices now).
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-332
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802072 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 1 -
 1 file changed, 1 deletion(-)

commit b3b9cd8d5105f33d4c0dd73d8ad00624bc271b21
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Aug 7 16:23:42 2009 +0000

    add test for multi-block reversal.
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-332
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@802070 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 40 +++++++++++++-----------
 1 file changed, 22 insertions(+), 18 deletions(-)

commit 6c492310278bb83853542992ce9b7d523a180a9a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Aug 3 20:59:32 2009 +0000

    Bootstrap code + tests.  Patch by Sandeep Tata; reviewed by jbellis for CASSANDRA-213
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@800561 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/BootstrapTest.java     | 97 ++++++++++++++++++++++
 1 file changed, 97 insertions(+)

commit 45514cf1be89387be5779e9cc1c142ea95093eef
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Aug 1 22:31:24 2009 +0000

    remove AbstractWriter. all it was providing was append methods, which are inlined into SSTableWriter now; the rest was all wrappers. also, rename some variables in SST/SSTW.
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-330
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@799950 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8203a6cfb22b3f1a3e61544a2b4dd985e3b212a8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Aug 1 22:30:49 2009 +0000

    r/m special case that no column names=all columns; add test for no-columns cases.
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-330
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@799945 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 37 ++++++++++++++++++++++--
 1 file changed, 34 insertions(+), 3 deletions(-)

commit 0f95411c030f89dd4274cc4e9fdd14b1fda32b2e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Aug 1 22:30:40 2009 +0000

    r/m SF.next(DataOutput) in favor of more-efficient IteratingRow.
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-330
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@799944 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/OneCompactionTest.java     |  6 +++---
 test/unit/org/apache/cassandra/io/SSTableTest.java     | 18 ++++++++++--------
 2 files changed, 13 insertions(+), 11 deletions(-)

commit 70ce402fddc5361d249d161ba119f3fd2784cced
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 31 18:29:52 2009 +0000

    Make range queries continue on the next node when necessary.
    Patch by Arin Sarkissian; reviewed by jbellis for CASSANDRA-212
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@799684 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java              | 4 ++--
 test/unit/org/apache/cassandra/db/OneCompactionTest.java            | 4 ++--
 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java         | 2 +-
 test/unit/org/apache/cassandra/locator/RackUnawareStrategyTest.java | 2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 9164940f41972e3611d1ad38a903ca39562e6feb
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 31 15:06:35 2009 +0000

    allow start of [] to mean "start with the largest value" when ascending=false.  patch by Jun Rao; reviewed by jbellis for CASSANDRA-263
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@799632 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 066ef58a96dd9d425f7f0a705ac952a0c3f9f863
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 30 15:30:21 2009 +0000

    run source files through dos2unix to standardize on \n line endings.  patch by Jeff Hodges; reviewed by Michael Greene for CASSANDRA-111
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@799331 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java   | 720 ++++++++++-----------
 .../org/apache/cassandra/gms/GossipDigestTest.java |  74 +--
 2 files changed, 397 insertions(+), 397 deletions(-)

commit 572b5f852dc20d954100a75f6029418873bf198d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 30 00:29:28 2009 +0000

    table -> keyspace
    patch by jbellis; reviewed by Michael Greene for CASSANDRA-271
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@799140 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  4 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 16 ++++----
 .../org/apache/cassandra/db/CommitLogTest.java     |  4 +-
 .../org/apache/cassandra/db/CompactionsTest.java   |  4 +-
 .../org/apache/cassandra/db/MultitableTest.java    | 12 +++---
 .../unit/org/apache/cassandra/db/NameSortTest.java |  6 +--
 .../org/apache/cassandra/db/OneCompactionTest.java |  4 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   | 12 +++---
 .../apache/cassandra/db/RecoveryManager2Test.java  |  6 +--
 .../apache/cassandra/db/RecoveryManagerTest.java   | 12 +++---
 .../cassandra/db/RemoveColumnFamilyTest.java       |  6 +--
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  6 +--
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  6 +--
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  6 +--
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  6 +--
 .../apache/cassandra/db/RemoveSuperColumnTest.java | 20 ++++-----
 test/unit/org/apache/cassandra/db/RowTest.java     | 10 ++---
 test/unit/org/apache/cassandra/db/TableTest.java   | 48 +++++++++++-----------
 .../unit/org/apache/cassandra/db/TimeSortTest.java | 14 +++----
 .../cassandra/service/CassandraServerTest.java     |  8 ++--
 20 files changed, 105 insertions(+), 105 deletions(-)

commit e3aef8e0edeedc1071dec2fc10c305427ff87930
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 27 20:19:53 2009 +0000

    fix bug in comparing-to-empty-array; realize that we need compare-to-empty-array to specify start/finish of slices.
    patch by jbellis; reviewed by Stu Hood for CASSANDRA-119
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@798273 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/marshal/AsciiTypeTest.java |  5 +++--
 .../apache/cassandra/db/marshal/UTF8TypeTest.java  | 22 ++++++++++++++++++++++
 2 files changed, 25 insertions(+), 2 deletions(-)

commit b866f81415e160bc7669250e531035b4dc976988
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 21 03:01:55 2009 +0000

    add SubcolumnCompareWith option and subcolumnComparator code.
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-304
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@796132 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RowTest.java         | 5 +++--
 test/unit/org/apache/cassandra/db/SuperColumnTest.java | 3 ++-
 test/unit/org/apache/cassandra/db/TableTest.java       | 3 ++-
 3 files changed, 7 insertions(+), 4 deletions(-)

commit e425474af2e08dd4a54db2316cb6758f972fa778
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 21 02:58:20 2009 +0000

    add get_slice for supercolumn, tests.  add back updated TimeSortTest.  we need to pass gcBefore to the filters so Slice can count correctly.
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-303
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@796129 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/db/TimeSortTest.java | 130 +++++++++++++++++++++
 1 file changed, 130 insertions(+)

commit 986cee6806c5798c1c826d965ecadad0cfc70cc7
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 21 01:36:52 2009 +0000

    change String column names to byte[] to allow user-defined ordering.
    patch by jbellis; reviewed by Sandeep Tata for CASSANDRA-185
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@796108 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           | 19 ++++-
 .../cassandra/db/ColumnComparatorFactoryTest.java  | 44 -----------
 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  6 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 31 ++++----
 .../org/apache/cassandra/db/CommitLogTest.java     |  4 +-
 .../org/apache/cassandra/db/CompactionsTest.java   |  2 +-
 .../unit/org/apache/cassandra/db/NameSortTest.java | 26 ++++---
 .../org/apache/cassandra/db/OneCompactionTest.java |  2 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   | 41 +++++-----
 .../cassandra/db/RemoveColumnFamilyTest.java       |  6 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  6 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  6 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  8 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   | 10 ++-
 .../apache/cassandra/db/RemoveSuperColumnTest.java | 37 ++++-----
 test/unit/org/apache/cassandra/db/RowTest.java     | 14 ++--
 .../org/apache/cassandra/db/SuperColumnTest.java   |  9 ++-
 test/unit/org/apache/cassandra/db/TableTest.java   | 89 +++++++++++-----------
 .../apache/cassandra/db/marshal/AsciiTypeTest.java | 20 +++++
 19 files changed, 184 insertions(+), 196 deletions(-)

commit 8ff63a92ba833df149e323d8fee68f458a78979d
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 21 01:36:10 2009 +0000

    r/m time-sorted columns.
    patch by jbellis; reviewed by Sandeep Tata for CASSANDRA-185
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@796107 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ReadMessageTest.java   |   4 -
 .../unit/org/apache/cassandra/db/TimeSortTest.java | 133 ---------------------
 2 files changed, 137 deletions(-)

commit 7435fc82c05089741cd03df3679128c8fc073fe9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 21 01:35:47 2009 +0000

    introduce column() compatibility layer to make writing tests a little less verbose.
    patch by jbellis; reviewed by Sandeep Tata for CASSANDRA-185
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@796106 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/Util.java           | 11 +++++
 .../cassandra/db/ColumnComparatorFactoryTest.java  | 10 +++--
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 20 ++++-----
 .../org/apache/cassandra/db/MultitableTest.java    |  5 ++-
 .../apache/cassandra/db/RecoveryManager2Test.java  |  3 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  5 ++-
 test/unit/org/apache/cassandra/db/RowTest.java     | 13 +++---
 .../org/apache/cassandra/db/SuperColumnTest.java   |  4 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 49 +++++++++++-----------
 .../cassandra/service/CassandraServerTest.java     |  4 +-
 10 files changed, 70 insertions(+), 54 deletions(-)

commit 840a64dcb9cefe927c681424e12284a1ef40452e
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 16 19:10:06 2009 +0000

    move data files into per-table subdirectories.  patch by Arin Sarkissian; reviewed by Michael Greene and jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@794784 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java | 32 ++++++++++++++++++++---
 1 file changed, 29 insertions(+), 3 deletions(-)

commit ff764ff22b488206bf102a0155e55de85efd8aa9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jul 16 00:38:53 2009 +0000

    r/m offset from slice api; we could live with being inefficient but not with breaking read repair.
    patch by jbellis; reviewed by Evan Weaver for CASSANDRA-286
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@794474 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ReadMessageTest.java   |  4 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 51 +++++++++-------------
 2 files changed, 22 insertions(+), 33 deletions(-)

commit f2da00fb0f2c92351b136ac13082b278c534c6ab
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jul 15 22:04:43 2009 +0000

    thrift changes to remove : api.
    use ColumnPath, ColumnParent, etc. structs to encapsulate optional SuperColumns (and occasionally, optional Columns).
    patch by jbellis; reviewed by Evan Weaver and Sandeep Tata for CASSANDRA-139
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@794429 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |   7 +-
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  26 +--
 .../org/apache/cassandra/db/CommitLogTest.java     |   5 +-
 .../org/apache/cassandra/db/CompactionsTest.java   |   3 +-
 .../unit/org/apache/cassandra/db/NameSortTest.java |   5 +-
 .../org/apache/cassandra/db/OneCompactionTest.java |   3 +-
 .../org/apache/cassandra/db/ReadMessageTest.java   |  17 +-
 .../cassandra/db/RemoveColumnFamilyTest.java       |   7 +-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |   9 +-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |   7 +-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |   9 +-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |   7 +-
 .../apache/cassandra/db/RemoveSuperColumnTest.java |  19 +--
 test/unit/org/apache/cassandra/db/RowTest.java     |  11 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 174 ++++++++++-----------
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  25 +--
 .../cassandra/service/CassandraServerTest.java     |  16 +-
 17 files changed, 173 insertions(+), 177 deletions(-)

commit dd4f4be2b426361b1c50b784f8e3c6557e765497
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 10 17:49:18 2009 +0000

    add IdentityQueryFilter and finish removing IFilter.
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-287
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@793055 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  3 ++-
 .../cassandra/db/RemoveColumnFamilyTest.java       |  3 ++-
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  3 ++-
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  3 ++-
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  5 ++++-
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  3 ++-
 .../apache/cassandra/db/RemoveSuperColumnTest.java | 23 +++++++---------------
 test/unit/org/apache/cassandra/db/TableTest.java   |  8 ++++----
 8 files changed, 25 insertions(+), 26 deletions(-)

commit 48093358fb9022947592813a6aae43db148847ca
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 10 17:49:01 2009 +0000

    replace namesfilter with NamesQueryFilter.  mv filter code into separate package.
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-287
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@793053 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RemoveSuperColumnTest.java | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit f5a787af7298e107ea452fe3b188a3da24fb943c
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jul 10 17:48:41 2009 +0000

    r/m unused (and dangerous) RowReadCommand.
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-287
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@793050 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ReadMessageTest.java | 4 ----
 1 file changed, 4 deletions(-)

commit 2b18bade5551637b967264b500d28e675bcfb293
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 7 19:57:37 2009 +0000

    make get_key_range act on a single CF.
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-280
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@791961 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java      | 4 ++--
 test/unit/org/apache/cassandra/db/OneCompactionTest.java    | 4 ++--
 test/unit/org/apache/cassandra/db/RecoveryManager2Test.java | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 23fa1bc0bd52c3167dbaaea40a94f16f9a823c73
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jul 7 15:40:46 2009 +0000

    combine range version of get_slice into get_slice itself.
    patch by jbellis; reviewed by Michael Greene for CASSANDRA-277
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@791872 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/RangeFilterTest.java   | 103 ---------------------
 .../org/apache/cassandra/db/ReadMessageTest.java   |   4 +-
 test/unit/org/apache/cassandra/db/TableTest.java   |  43 +++++----
 3 files changed, 23 insertions(+), 127 deletions(-)

commit b54de30a0226daafaa6ecf0257371e6e8c2a0742
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 6 19:58:13 2009 +0000

    per-table key cache size.
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-259
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@791592 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d6c0b0f2596de169186d3584474d8d5a34c3c9de
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 6 19:58:05 2009 +0000

    refactor sstable into SSTable, SSTableReader, and SSTableWriter.
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-259
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@791591 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  6 ++----
 .../org/apache/cassandra/db/CompactionsTest.java   |  4 ++--
 test/unit/org/apache/cassandra/db/TableTest.java   |  4 ++--
 test/unit/org/apache/cassandra/io/SSTableTest.java | 24 +++++++++++-----------
 4 files changed, 18 insertions(+), 20 deletions(-)

commit cdd8b170628176924c21db1cb6dcbecf4c7f2148
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jul 6 17:50:16 2009 +0000

    add offset support to get_slice.  patch by Jun Rao; reviewed by jbellis for CASSANDRA-261
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@791553 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ReadMessageTest.java   |  2 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 44 ++++++++++++++--------
 2 files changed, 30 insertions(+), 16 deletions(-)

commit 0172497ad24e4b31ce4e70fee8bc69def99a9fe6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Jul 4 05:55:09 2009 +0000

    minor code cleanups.  patch by Edward Ribeiro; reviewed by jbellis for CASSANDRA-273
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@791059 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/utils/KeyGenerator.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 83b203e61e722c16ad5001294c82063f708a5f92
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 29 22:07:49 2009 +0000

    add test catching buggy update of header on flush; refactor so there is only one version of code doing those writes (the correct one).
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-264
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@789465 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RecoveryManager2Test.java  | 39 ++++++++++++++++++++++
 .../apache/cassandra/db/RecoveryManagerTest.java   |  5 ++-
 2 files changed, 43 insertions(+), 1 deletion(-)

commit f55dd06ec5388a1fbec990ed283c1cf3c474f090
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 26 17:26:36 2009 +0000

    avoid optimization of not checking older memtable and SSTables if we find _an_ answer early on; it causes bugs
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@788776 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/RangeFilterTest.java | 3 ---
 1 file changed, 3 deletions(-)

commit 479c1a40af3ebcf24df4bd177477747347e0ea80
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 26 17:26:26 2009 +0000

    add test showing timefilter failure
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@788775 13f79535-47bb-0310-9956-ffa450edef68

 .../unit/org/apache/cassandra/db/TimeSortTest.java | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit b9da215e06303540824bb86fdd7c1f3e8295fce3
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri Jun 26 17:22:40 2009 +0000

    some gms tests.  patch by johano; reviewed by jbellis for CASSANDRA-249
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@788771 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/gms/ArrivalWindowTest.java    | 29 +++++++++++
 .../org/apache/cassandra/gms/GossipDigestTest.java | 37 ++++++++++++++
 .../cassandra/utils/BoundedStatsDequeTest.java     | 57 ++++++++++++++++++++++
 3 files changed, 123 insertions(+)

commit 6342512a34bb21f8f197a2e3002915a8923a9e05
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 25 21:26:33 2009 +0000

    CASSANDRA-217 rename get_slice_from to get_slice.  implement get_slice_super in terms of SliceFrom too.
    (time-based columns can continue to be sliced with get_columns_since)
    
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-217
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@788516 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ReadMessageTest.java   |   2 +-
 test/unit/org/apache/cassandra/db/TableTest.java   | 170 +++++----------------
 2 files changed, 41 insertions(+), 131 deletions(-)

commit 963a1b3bfdeedeea8f93bc0ab682195119d08b72
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 25 21:07:45 2009 +0000

    add tests for supercolumnfamily removal; fix bugs.
    (both the assert removal and the "if" removal are bug fixes.)
    
    patch by jbellis; reviewed by Sandeep Tata for CASSANDRA-255
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@788511 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/RemoveSuperColumnTest.java | 85 +++++++++++++++++++++-
 1 file changed, 83 insertions(+), 2 deletions(-)

commit 4e7f8deac0b4cfdbb24b6b8a304ca5bd289454fe
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 25 19:14:07 2009 +0000

    switch to passing a single filename to open an sstable for writing.  this makes open-for-read and open-for-write consistent.
    
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-254
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@788473 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java |  3 ++-
 test/unit/org/apache/cassandra/io/SSTableTest.java     | 13 +++++++++----
 2 files changed, 11 insertions(+), 5 deletions(-)

commit 81dd8ee5f6e224c550bdf956e0bec3ec2c92cbee
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 24 19:25:33 2009 +0000

    use normal Table for system metadata
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-235
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@788144 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  |  1 -
 .../org/apache/cassandra/db/DBManagerTest.java     | 32 ----------------------
 .../org/apache/cassandra/db/SystemTableTest.java   |  6 ++--
 3 files changed, 4 insertions(+), 35 deletions(-)

commit f9a1343d92237e6a9553a4fd96db0208b6789126
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 23 17:48:18 2009 +0000

    make static methods of SSTable that take a filename and then use the cache to grab an sstable object, simple non-static methods instead
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-224
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@787762 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java   |  4 ++--
 .../org/apache/cassandra/db/CompactionsTest.java     |  4 ++--
 .../org/apache/cassandra/db/OneCompactionTest.java   |  2 +-
 test/unit/org/apache/cassandra/db/TableTest.java     | 10 +++-------
 test/unit/org/apache/cassandra/io/SSTableTest.java   | 20 +++++++++-----------
 5 files changed, 17 insertions(+), 23 deletions(-)

commit 2f322a8bd0a716b6010594ba4bb7cba9019a6ebc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 23 17:48:08 2009 +0000

    encapsulate sstable bloom filter
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-224
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@787761 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java |  2 +-
 test/unit/org/apache/cassandra/db/TableTest.java             |  2 +-
 test/unit/org/apache/cassandra/io/SSTableTest.java           | 12 ++++--------
 3 files changed, 6 insertions(+), 10 deletions(-)

commit 2493c9a5651a72aa4c36ff0f080ee3f6c6978dc8
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 23 17:48:18 2009 +0000

    encapsulate sstable index
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-224
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@787760 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 30 ++++++++++------------
 1 file changed, 14 insertions(+), 16 deletions(-)

commit a2f9b401830fa2edddc3ffaaadeb6c4433a33f9a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 23 17:47:53 2009 +0000

    refactor read-only constructor to SSTable.open
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-224
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@787759 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 509cbb85de257a9c67311c7dd2fea18ed1b8f096
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 22 21:18:12 2009 +0000

    remove table_ from CommitLog and add multitable tests.
    patch by jbellis; reviewed by goffinet for CASSANDRA-79
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@787407 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/MultitableTest.java    | 40 ++++++++++++++++++++++
 .../apache/cassandra/db/RecoveryManagerTest.java   | 11 +++++-
 test/unit/org/apache/cassandra/db/TableTest.java   | 40 +++++++++++-----------
 3 files changed, 70 insertions(+), 21 deletions(-)

commit 3673e2818603a1c77ae22f8e2180fc42415f5151
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 22 21:17:46 2009 +0000

    multitable support.
    
    fix CF table dependencies, making CommitLogTest pass.  Also fixes CASSANDRA-188 in passing.
    
    fix tablename being null bugs by always parsing tablename from filename.
    
    fix last part of SequenceFile.
    
    patch by jbellis; reviewed by goffinet for CASSANDRA-79
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@787404 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java   | 284 ++++++++++++---------
 test/unit/org/apache/cassandra/io/SSTableTest.java |   4 +-
 2 files changed, 171 insertions(+), 117 deletions(-)

commit 9aeef94db8309764fa241b92c8ee92380e39cafa
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 22 21:17:59 2009 +0000

    Pass and write table parameter as needed throughout the codebase to add multitable support.
    (Many places cheated and just assumed that tables.get(0) was the only table.)
    Patch builds but does not yet pass tests.
    
    Patch by goffinet; reviewed by jbellis for CASSANDRA-79
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@787403 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyTest.java    | 16 ++++++++--------
 .../org/apache/cassandra/db/RangeFilterTest.java     |  6 +++---
 test/unit/org/apache/cassandra/db/RowTest.java       | 10 +++++-----
 test/unit/org/apache/cassandra/db/TableTest.java     | 20 ++++++++++----------
 test/unit/org/apache/cassandra/io/SSTableTest.java   |  4 ++--
 5 files changed, 28 insertions(+), 28 deletions(-)

commit a0c2b2a3809152591d5c5b89fd4b6f1c0a5c9108
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu Jun 18 20:22:10 2009 +0000

    add CommitLog and RecoveryManager tests.  patch by jbellis; reviewed by goffinet for CASSANDRA-237
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@786243 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/CommitLogTest.java     | 52 +++++++++++-----------
 .../apache/cassandra/db/RecoveryManagerTest.java   | 25 ++++++++++-
 test/unit/org/apache/cassandra/db/TableTest.java   |  2 +-
 3 files changed, 52 insertions(+), 27 deletions(-)

commit c1545f5214644b47efeac2001e3d3542efa9193b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed Jun 17 16:08:39 2009 +0000

    fix off-by-one error in Range.contains(Token): the endpoint (right) of the range is always supposed to be exclusive, but it was inclusive in the non-wrapping case.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-236
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@785697 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/dht/RangeTest.java | 4 ++++
 1 file changed, 4 insertions(+)

commit 16306e02de35a171ec3339957dd9146b229ce864
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 9 17:46:47 2009 +0000

    apply rows atomically, rather than one-column-at-a-time.  this avoids exposing the bug in time-sorted
    columns discussed in #223.
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-208
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@783078 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TimeSortTest.java | 14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 72e6eea9e4ce1fcf30754534216586bcf9e7b041
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue Jun 9 17:46:42 2009 +0000

    split sstable into data, index, and bloom filter files.  this allows us to avoid saving up index chunks
    in memory until the sstable data is completely written, while still allowing fast scanning of the index
    on startup.  it also simplifies the sstable/sequencefile code considerably.
    patch by jbellis; reviewed by Jun Rao for  CASSANDRA-208
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@783077 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java |  9 ++--
 .../unit/org/apache/cassandra/db/NameSortTest.java | 15 +++---
 test/unit/org/apache/cassandra/db/TableTest.java   | 59 ++++++++++++++++++----
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  6 ++-
 test/unit/org/apache/cassandra/io/SSTableTest.java | 16 +++++-
 5 files changed, 78 insertions(+), 27 deletions(-)

commit 30b1f5f3d32d3c04b921133435b556bfecfc502a
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Jun 1 22:16:58 2009 +0000

    add test covering use of column indexes.  patch by Jun Rao; reviewed by jbellis for CASSANDRA-210
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@780853 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 45 ++++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit bb0d6dfa20b4fe01af977921693c965de5cd4905
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 27 18:04:56 2009 +0000

    allow specifying a subset of columnfamilies to check for get_key_range.
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-152
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@779261 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/CompactionsTest.java   | 5 +++--
 test/unit/org/apache/cassandra/db/OneCompactionTest.java | 5 +++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 4ac9118f7c7b9162b7ab3ca29ef64c1bbde346a0
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 22 15:33:42 2009 +0000

    Add get_slice_from functionality using column indexes for efficiency.
    Patch by Jun Rao and jbellis for CASSANDRA-172
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@777578 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/TableTest.java | 118 +++++++++++++++++++++++
 1 file changed, 118 insertions(+)

commit d03d80b6ed6114f4ff762a468c8b72d0ace05eca
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 20 14:44:41 2009 +0000

    merge from 0.3 branch
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@776716 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/OneCompactionTest.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 88edbed30c5c6ea4acec1e507e76d95bcad379de
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 18 15:22:23 2009 +0000

    merge from 0.3 branch
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@775983 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java      | 18 ++++++++++++++++++
 .../cassandra/config/DatabaseDescriptorTest.java       | 18 ++++++++++++++++++
 .../cassandra/db/ColumnComparatorFactoryTest.java      | 18 ++++++++++++++++++
 .../org/apache/cassandra/db/ColumnFamilyStoreTest.java | 18 ++++++++++++++++++
 .../unit/org/apache/cassandra/db/ColumnFamilyTest.java | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/CommitLogTest.java   | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/CompactionsTest.java | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/DBManagerTest.java   | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/NameSortTest.java    | 18 ++++++++++++++++++
 .../org/apache/cassandra/db/OneCompactionTest.java     | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/ReadMessageTest.java | 18 ++++++++++++++++++
 .../org/apache/cassandra/db/RecoveryManagerTest.java   | 18 ++++++++++++++++++
 .../apache/cassandra/db/RemoveColumnFamilyTest.java    | 18 ++++++++++++++++++
 .../cassandra/db/RemoveColumnFamilyWithFlush1Test.java | 18 ++++++++++++++++++
 .../cassandra/db/RemoveColumnFamilyWithFlush2Test.java | 18 ++++++++++++++++++
 .../unit/org/apache/cassandra/db/RemoveColumnTest.java | 18 ++++++++++++++++++
 .../org/apache/cassandra/db/RemoveSubColumnTest.java   | 18 ++++++++++++++++++
 .../org/apache/cassandra/db/RemoveSuperColumnTest.java | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/RowTest.java         | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/SuperColumnTest.java | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/SystemTableTest.java | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/db/TimeSortTest.java    | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/dht/RangeTest.java      | 18 ++++++++++++++++++
 .../org/apache/cassandra/io/DataInputBufferTest.java   | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/io/SSTableTest.java     | 18 ++++++++++++++++++
 .../cassandra/locator/RackUnawareStrategyTest.java     | 18 ++++++++++++++++++
 .../apache/cassandra/service/CassandraServerTest.java  | 18 ++++++++++++++++++
 .../org/apache/cassandra/utils/BloomFilterTest.java    | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/utils/FilterTest.java   | 18 ++++++++++++++++++
 test/unit/org/apache/cassandra/utils/KeyGenerator.java | 18 ++++++++++++++++++
 .../org/apache/cassandra/utils/ResetableIterator.java  | 18 ++++++++++++++++++
 31 files changed, 558 insertions(+)

commit 20f7d032c7c31618ac46e5a8df8263012fbb4f58
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 15 20:18:55 2009 +0000

    add get_slice_by_name_range command.  patch by Sandeep Tata; reviewed by jbellis for CASSANDRA-53
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@775308 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ReadMessageTest.java   |  7 ++++++
 test/unit/org/apache/cassandra/db/TableTest.java   | 28 ++++++++++++++++++++++
 2 files changed, 35 insertions(+)

commit ae70cea79afff1093fc8369ebb6e4e4ca3c40c38
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 12 21:26:42 2009 +0000

    fix RackUnawareStrategyTest -- endpoint asserts 'host' is an ip address (to make sure we're not mixing hostnames in again) so create a suitable fake IP for the test.  patch by jbellis for CASSANDRA-163
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@774097 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/locator/RackUnawareStrategyTest.java | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit b460bd71c5484d3579dfccaa77a2d2cb0381aea2
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 12 19:11:27 2009 +0000

    test to more reliably reproduce CME during range.  fix by locking out compact during range query.
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-161
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@774024 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/OneCompactionTest.java  | 21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit 5886b7c9ac6776538227be1fb90e566e1e2a7c81
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 12 19:11:21 2009 +0000

    fix race condition in compaction -- it was possible for a read thread to "snapshot" ssTables_, then have
    the compactor thread delete those (after merging them into a new file) before the read thread checked
    them.  Since the read thread's "snapshot" doesn't include the new merged sstable, it incorrectly tells
    the caller that the key does not exist.
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-161
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@774023 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java   | 7 ++++---
 test/unit/org/apache/cassandra/db/NameSortTest.java | 2 +-
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 5964cd4c0453866328208574213492fa87e738c9
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 12 15:26:52 2009 +0000

    extract tests that could conflict with each other to a separate test class (= gets own jvm)
    patch by jbellis; reviewed by Sandeep Tata for CASSANDRA-162
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@773941 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  |  23 --
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 377 ---------------------
 .../org/apache/cassandra/db/CompactionsTest.java   |  48 +++
 .../unit/org/apache/cassandra/db/NameSortTest.java | 110 ++++++
 .../org/apache/cassandra/db/OneCompactionTest.java |  33 ++
 .../cassandra/db/RemoveColumnFamilyTest.java       |  34 ++
 .../db/RemoveColumnFamilyWithFlush1Test.java       |  36 ++
 .../db/RemoveColumnFamilyWithFlush2Test.java       |  34 ++
 .../org/apache/cassandra/db/RemoveColumnTest.java  |  34 ++
 .../apache/cassandra/db/RemoveSubColumnTest.java   |  34 ++
 .../apache/cassandra/db/RemoveSuperColumnTest.java |  43 +++
 .../unit/org/apache/cassandra/db/TimeSortTest.java |  92 +++++
 12 files changed, 498 insertions(+), 400 deletions(-)

commit 97fc5cb8ef412b6ba145165e45be3e3c64229685
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 12 15:26:38 2009 +0000

    migrate to JUnit 4.6.  patch by jbellis; reviewed by Sandeep Tata for CASSANDRA-162
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@773940 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/CleanupHelper.java  | 62 ++++++++++++++++++
 test/unit/org/apache/cassandra/ServerTest.java     | 63 ------------------
 .../cassandra/config/DatabaseDescriptorTest.java   |  6 +-
 .../cassandra/db/ColumnComparatorFactoryTest.java  |  4 +-
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 10 +--
 .../org/apache/cassandra/db/ColumnFamilyTest.java  |  9 +--
 .../org/apache/cassandra/db/CommitLogTest.java     | 15 ++---
 .../org/apache/cassandra/db/DBManagerTest.java     |  8 ++-
 .../org/apache/cassandra/db/RangeFilterTest.java   | 21 +++---
 .../org/apache/cassandra/db/ReadMessageTest.java   |  5 +-
 .../apache/cassandra/db/RecoveryManagerTest.java   |  9 +--
 test/unit/org/apache/cassandra/db/RowTest.java     |  5 +-
 .../org/apache/cassandra/db/SuperColumnTest.java   |  7 +-
 .../org/apache/cassandra/db/SystemTableTest.java   | 12 ++--
 test/unit/org/apache/cassandra/db/TableTest.java   | 10 +--
 test/unit/org/apache/cassandra/dht/RangeTest.java  |  2 +-
 .../apache/cassandra/io/DataInputBufferTest.java   |  5 +-
 test/unit/org/apache/cassandra/io/SSTableTest.java | 16 +++--
 .../cassandra/locator/RackUnawareStrategyTest.java | 74 ++++++++++++++++++++++
 .../cassandra/service/CassandraServerTest.java     | 16 ++---
 .../apache/cassandra/utils/BloomFilterTest.java    |  6 +-
 .../org/apache/cassandra/utils/FilterTest.java     |  7 +-
 22 files changed, 223 insertions(+), 149 deletions(-)

commit 8054e4e7152299d47159b7e3016df16d50780fa4
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 11 23:52:23 2009 +0000

    test different data sizes for namesort.  patch by jbellis
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@773730 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/ServerTest.java     |  9 ++++++
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 33 ++++++++++++++++++----
 2 files changed, 36 insertions(+), 6 deletions(-)

commit dfa41ec103130c173bcc210396f19c89f993086b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 11 23:48:28 2009 +0000

    cannonicalize all accesses to indexMetadataMap.
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-153
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@773726 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/io/SSTableTest.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 69bc7e97c8dfac3dc6bd3cbfd7fcb05de8d0aedc
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon May 11 23:48:20 2009 +0000

    unit test to expose bug system test is running into.  patch by jbellis; reviewed by Jun Rao for CASSANDRA-153
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@773725 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 58 ++++++++++++++++------
 1 file changed, 42 insertions(+), 16 deletions(-)

commit fb347bd3d16e35c50df5fca14ed3c0611e80985b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Thu May 7 16:03:32 2009 +0000

    fix CF.digest NPE.  patch by jbellis; reviewed by Eric Evans for CASSANDRA-149
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@772690 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 96 ++++++++++++----------
 1 file changed, 54 insertions(+), 42 deletions(-)

commit 65f66e982dac58fd76cd91d3231cf2a4819aaf33
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 6 17:04:32 2009 +0000

    force flush when there are pending ops on the memtable executor even when none have finished yet.  this fixes test case intermittent failures.  patch by jbellis; reviewed by Eric Evans for CASSANDRA-141
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@772361 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java | 1 +
 1 file changed, 1 insertion(+)

commit c568dc733ea47f59be74b2b624673485228d7595
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Wed May 6 02:00:06 2009 +0000

    add test for null configFileName_.  patch by Jeff Hodges; reviewed by jbellis for CASSANDRA-129
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@772027 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/config/DatabaseDescriptorTest.java | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 362f287c84f19ae5cdd774f2fc013db5339d49ec
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Tue May 5 22:47:22 2009 +0000

    refactor IColumn.addColumn to remove redundant name parameter.  patch by Sandeep Tata; reviewed by jbellis for CASSANDRA-96
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@772000 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/db/RangeFilterTest.java     | 20 ++++++++++----------
 test/unit/org/apache/cassandra/db/RowTest.java       |  2 +-
 .../org/apache/cassandra/db/SuperColumnTest.java     |  2 +-
 test/unit/org/apache/cassandra/db/TableTest.java     |  8 ++++----
 4 files changed, 16 insertions(+), 16 deletions(-)

commit 4a5620dea228470397cea696a75a849050efe03b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Fri May 1 02:24:10 2009 +0000

    avoid raising an exception in SequenceFile.next when a key does not exist (e.g. when bloom filter gives a false positive).  patch by Jun Rao; reviewed by jbellis for CASSANDRA-126
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@770517 13f79535-47bb-0310-9956-ffa450edef68

 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 25 ++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 7bb094f08672a0f3400d6a7bfde05c686ab70de6
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 27 18:24:25 2009 +0000

    r/m copied JDK code
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-37
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@769088 13f79535-47bb-0310-9956-ffa450edef68

 .../org/apache/cassandra/io/DataInputBufferTest.java  | 19 -------------------
 1 file changed, 19 deletions(-)

commit d2a61c67b09ed70ee3e5dfc9bf15fb74a4876f56
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 27 18:24:18 2009 +0000

    add SSTable tests.  in particular we want to be sure to test bloomfilter
    [de]serialize since that's going to change a lot.
    patch by jbellis; reviewed by Eric Evans for CASSANDRA-37
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@769087 13f79535-47bb-0310-9956-ffa450edef68

 .../cassandra/db/ColumnComparatorFactoryTest.java  |  2 +-
 test/unit/org/apache/cassandra/io/SSTableTest.java | 41 +++++++++++-----------
 2 files changed, 21 insertions(+), 22 deletions(-)

commit bfb2e952204f9879133826305b2b5dfda3e61776
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 27 15:01:51 2009 +0000

    rename getDefaultToken -> getInitialToken
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-65
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@769019 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/SystemTableTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ec7f04b4df62b87231d9cacca754a209bd8fcc59
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 27 15:01:36 2009 +0000

    r/m StorageService.token in favor of explicitly passing a Partitioner object.  this allows testing of components independent of the static SS.
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-65
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@769017 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/SystemTableTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 907d92e21b8ce79e6a224933764e3b7215a94454
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Mon Apr 27 15:01:29 2009 +0000

    replace BigInteger tokens with BigIntegerToken and StringToken in RandomPartitioner and OrderPreservingPartitioner, respectively.  (OrderPreservingHashPartitioner is no more.)
    
    Doing order preserving partitioning based on the raw string has a number of compelling advantages:
     - there is no key length that all tokens must be padded to (which can be expensive if there is a range of key lengths) and which cannot be increased after deployment
     - it allows user-defined collations [sorting] rather than being limited to sorting by code point value (which is useless in the unicode world, and not always what you want even for ascii keys)
     - it will work with all UTF-16 characters, not just the UCS-2 subset (this is a limitation of using as a base 2**16, i.e., assuming for your order preserving hash that all characters are two bytes).
    
    patch by jbellis; reviewed by Jun Rao for CASSANDRA-65
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@769016 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/db/SystemTableTest.java |  2 +-
 test/unit/org/apache/cassandra/dht/RangeTest.java      | 18 ++++++++----------
 2 files changed, 9 insertions(+), 11 deletions(-)

commit afd3c2765b2d2e064e2422462138a7be5380fa4b
Author: Jonathan Ellis <jbellis@apache.org>
Date:   Sat Apr 25 19:07:00 2009 +0000

    move testng code to test/unit.  patch by johano; reviewed by jbellis for #104
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/cassandra/trunk@768584 13f79535-47bb-0310-9956-ffa450edef68

 test/unit/org/apache/cassandra/ServerTest.java     |  54 +++
 .../cassandra/db/ColumnComparatorFactoryTest.java  |  24 ++
 .../apache/cassandra/db/ColumnFamilyStoreTest.java | 410 +++++++++++++++++++++
 .../org/apache/cassandra/db/ColumnFamilyTest.java  | 116 ++++++
 .../org/apache/cassandra/db/CommitLogTest.java     |  45 +++
 .../org/apache/cassandra/db/DBManagerTest.java     |  12 +
 .../org/apache/cassandra/db/RangeFilterTest.java   | 107 ++++++
 .../org/apache/cassandra/db/ReadMessageTest.java   |  82 +++++
 .../apache/cassandra/db/RecoveryManagerTest.java   |  16 +
 test/unit/org/apache/cassandra/db/RowTest.java     |  61 +++
 .../org/apache/cassandra/db/SuperColumnTest.java   |  17 +
 .../org/apache/cassandra/db/SystemTableTest.java   |  14 +
 test/unit/org/apache/cassandra/db/TableTest.java   | 175 +++++++++
 test/unit/org/apache/cassandra/dht/RangeTest.java  |  20 +
 .../apache/cassandra/io/DataInputBufferTest.java   |  39 ++
 test/unit/org/apache/cassandra/io/SSTableTest.java |  78 ++++
 .../cassandra/service/CassandraServerTest.java     |  46 +++
 .../apache/cassandra/utils/BloomFilterTest.java    |  98 +++++
 .../org/apache/cassandra/utils/FilterTest.java     |  95 +++++
 .../org/apache/cassandra/utils/KeyGenerator.java   | 148 ++++++++
 .../apache/cassandra/utils/ResetableIterator.java  |   9 +
 21 files changed, 1666 insertions(+)
~/git/misc/src/cassandra-stats/shell
